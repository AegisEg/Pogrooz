(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[13],{906:function(e,t,a){"use strict";a.r(t);var s=a(6),r=a(7),i=a(9),n=a(8),o=a(0),c=a.n(o),l=a(32),d=a(11),p=a(892),m=a(93),h=a(53),u=a(151),g=a(882),f=a(39),E=a(302),v=a(248),b=a.n(v),N=a(59),O=function(e){Object(i.a)(a,e);var t=Object(n.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={isFetching:!0},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dialogs.dialogsOrder;t.dialogs.find((function(t){return t.user._id===e.props.match.params.id&&t.orderId._id===e.props.match.params.order}))?(this.props.dialogsActions.updateOnline(this.props.match.params.id,this.props.user.apiToken),t.dialogs.find((function(t){return t.user._id===e.props.match.params.id&&t.orderId._id===e.props.match.params.order})).isGetted||this.props.dialogsActions.dialogOrderLoad(this.props.match.params.id,this.props.match.params.order,this.props.user.apiToken),this.setState({isFetching:!1})):this.props.dialogsActions.dialogOrderGet(this.props.match.params.id,this.props.match.params.order,this.props.user.apiToken).then((function(){e.setState({isFetching:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.dialogs.dialogsOrder.dialogs.find((function(t){return t.user._id===e.props.match.params.id}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(N.a,{isLoading:this.state.isFetching}),t&&!t.isNotFound&&c.a.createElement("div",{className:"article-page"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("h2",{className:"title"},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),c.a.createElement("div",{className:"chat-header mt-3"},c.a.createElement("div",{className:"mb-1"},c.a.createElement(d.Link,{className:"href hover left-angle f-14 angle-go",to:"/",style:{maxWidth:"50px",marginLeft:"20px"},onClick:function(t){t.preventDefault(),e.props.lastLocation?e.props.history.push(e.props.lastLocation.pathname):e.props.history.push("/messages")}},"\u041d\u0430\u0437\u0430\u0434"),c.a.createElement("span",{className:"d-inline-block f-18 text-left mr-3"},t.user.name.last," ",t.user.name.first," ",t.user.name.middle),c.a.createElement("span",{className:"online"},!t.user.online&&c.a.createElement(c.a.Fragment,null,Object(E.b)(t.user.onlineAt)),t.user.online&&c.a.createElement(c.a.Fragment,null,"online"))),c.a.createElement("div",{className:"row description-chat"},c.a.createElement("div",{className:"col f-14",style:{maxWidth:"135px"}},"offer"===t.orderId.type?"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435":"\u0417\u0430\u043a\u0430\u0437","\u2116",t.orderId.articleId),c.a.createElement("div",{className:"col-12 col-sm f-14"},t.orderId.to.data.country,", ",t.orderId.to.value),c.a.createElement("div",{className:"col",style:{maxWidth:"128px"}},c.a.createElement(d.Link,{className:"f-12 href",to:"/".concat(t.orderId.type,"/").concat(t.orderId.articleId)},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c",c.a.createElement("img",{className:"ml-2",src:b.a,width:"10",height:"7",alt:"ArrowDown"})))),c.a.createElement("hr",null))),c.a.createElement(p.a,{unRead:t.messages.filter((function(t){return!t.isRead&&t.user._id!==e.props.user._id})),loading:t&&!t.isGetted,dialog:t})),!this.state.isFetching&&(!t||t.isNotFound)&&c.a.createElement(m.a,null))}}]),a}(c.a.Component);t.default=Object(l.b)((function(e){return{user:e.user,dialogs:e.dialogs}}),(function(e){return{dialogsActions:Object(f.b)(g,e)}}))(Object(h.o)(Object(u.withLastLocation)(O)))}}]);
//# sourceMappingURL=13.298998cc.chunk.js.map