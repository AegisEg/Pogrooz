(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{878:function(e,t,a){"use strict";var n=a(6),r=a(7),s=a(9),i=a(8),o=a(0),c=a.n(o),l=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"CheckBoxSwitcher ".concat(this.props.className," ").concat(this.props.val?"checked":""),onClick:this.props.onChange?this.props.onChange:function(){}}),this.props.lable&&c.a.createElement("label",{className:this.props.lableClassname,onClick:this.props.onChange?this.props.onChange:function(){}},this.props.lable))}}]),a}(c.a.Component);t.a=l},883:function(e,t,a){"use strict";var n=a(6),r=a(7),s=a(9),i=a(8),o=a(0),c=a.n(o),l=a(112),m=a(17),p=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).loadOptions=function(t,a){setTimeout((function(){fetch("".concat(m.a.urlApi,"/api/car/getLikeCars"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.apiToken)},body:JSON.stringify({stringLikes:t})}).then((function(e){return e.json()})).then((function(e){a(e.cars.map((function(e){return{value:e.name,label:e.name}})))}))}),1e3)},e.handleBlur=function(t){e.props.value||t.preventDefault()},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(l.a,{async:!0,className:"carSelect",placeholder:"\u041c\u0430\u0440\u043a\u0430, \u043c\u043e\u0434\u0435\u043b\u044c",loadOptions:this.loadOptions,value:!!this.props.value&&{value:this.props.value,label:this.props.value},onChange:this.props.onChange,inputValue:this.props.value,onBlur:this.handleBlur,onInputChange:function(t,a){"input-change"===a.action&&e.props.onChange({value:t,label:t})}})}}]),a}(c.a.Component);t.a=p},884:function(e,t,a){"use strict";var n=a(6),r=a(7),s=a(9),i=a(8),o=a(0),c=a.n(o),l=a(867),m=a(74),p=a(39),u=a(53),d=a(32),h=(a(17),a(18)),f=a(186),g=a(187),y=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={dataFancybox:{images:!1,index:!1,article:{}}},e.createAricle=function(t){var a=e.props.cookies.get("apiToken");e.props.myArticlesActions.createMyArticle(e.props.article,t,a).then((function(t){t.error||("offer"===e.props.article.type&&e.props.history.push("/my-offers-open"),"order"===e.props.article.type&&e.props.history.push("/my-orders-open"))}))},e}return Object(r.a)(a,[{key:"save",value:function(){var e=this,t=this.props.cookies.get("apiToken");this.props.myArticlesActions.editMyArticle(this.props.article,this.props.editingId,t).then((function(t){t.error||("offer"===e.props.article.type&&e.props.history.push("/my-offers-open"),"order"===e.props.article.type&&e.props.history.push("/my-orders-open"))}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"step-create ".concat(this.props.className)},c.a.createElement("div",{className:"articles-block full"},c.a.createElement(f.a,null),this.props.article&&c.a.createElement(g.a,{onlyOpen:!0,singlePage:!0,article:this.props.article})),c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row slide-step justify-content-end"},c.a.createElement(h.a,{type:"empty",className:" input-action",paddingHorizontal:"40px",onClick:this.props.prev},"\u041d\u0430\u0437\u0430\u0434"),this.props.isEditing&&c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,{type:"fill",className:" input-action",paddingHorizontal:"40px",onClick:function(){e.save()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),!this.props.isEditing&&c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,{type:"empty",className:" input-action",paddingHorizontal:"40px",onClick:function(){e.createAricle(1)}},"\u0412 \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a"),c.a.createElement(h.a,{type:"fill",className:" input-action",paddingHorizontal:"40px",onClick:function(){e.createAricle(2)}},"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c")))))}}]),a}(c.a.Component);t.a=Object(d.b)(null,(function(e){return{myArticlesActions:Object(p.b)(m,e)}}))(Object(u.o)(Object(l.a)(y)))},887:function(e,t,a){"use strict";var n=a(6),r=a(7),s=a(9),i=a(8),o=a(0),c=a.n(o),l=a(53);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var u=c.a.createElement("path",{d:"M1 1L8.53261 7L1 13",stroke:"#909090",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),d=function(e){var t=e.svgRef,a=e.title,n=p(e,["svgRef","title"]);return c.a.createElement("svg",m({width:9,viewBox:"0 0 10 14",fill:"none",ref:t},n),a?c.a.createElement("title",null,a):null,u)},h=c.a.forwardRef((function(e,t){return c.a.createElement(d,m({svgRef:t},e))})),f=(a.p,function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={onMobile:!1},e.updateDimensions=function(){window.innerWidth<=480?e.setState({onMobile:!0}):e.setState({onMobile:!1})},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"header-statusBar row"},!this.state.onMobile&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"".concat(this.props.currentTab>=1?"active":""),onClick:function(){e.props.changeTub(1)}},c.a.createElement("span",null,this.props.tabs[0]),c.a.createElement(h,null)),c.a.createElement("div",{className:" ".concat(this.props.currentTab>=2?"active":""),onClick:function(){e.props.changeTub(2)}},c.a.createElement("span",null,this.props.tabs[1]),c.a.createElement(h,null)),c.a.createElement("div",{className:"".concat(this.props.currentTab>=3?"active":""),onClick:function(){e.props.changeTub(3)}},c.a.createElement("span",null,this.props.tabs[2]),c.a.createElement(h,null)),c.a.createElement("div",{className:"".concat(this.props.currentTab>=4?"active":""),onClick:function(){e.props.changeTub(4)}},c.a.createElement("span",null,this.props.tabs[3]))),this.state.onMobile&&c.a.createElement(c.a.Fragment,null,this.props.currentTab>1&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"go-prev",onClick:function(){e.props.changeTub(e.props.currentTab-1)}},Array.apply(null,{length:this.props.currentTab-1}).map((function(e,t){return c.a.createElement("div",{className:"circle"})})),c.a.createElement(h,null))),c.a.createElement("div",{className:"active"},c.a.createElement("span",null,this.props.tabs[this.props.currentTab-1])),this.props.currentTab<4&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"go-next",onClick:function(){e.props.changeTub(e.props.currentTab+1)}},c.a.createElement(h,null),Array.apply(null,{length:4-this.props.currentTab}).map((function(e,t){return c.a.createElement("div",{key:t,className:"circle"})}))))))}}]),a}(c.a.Component));t.a=Object(l.o)(f)},907:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(6),s=a(7),i=a(9),o=a(8),c=a(0),l=a.n(c),m=a(32),p=a(887),u=a(18),d=a(19),h=a(112),f=a(883),g=a(878),y=a(82),v=a(37),b=a(26),T=a(100),E=a(118),C=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={isExtra:!1,isContract:!1,isPayment:!1,openTemplate:!1,currentTemplate:!1,car:{},comment:"",budget:!1},e.selectTemplate=function(t){var a={},r=Object(n.a)({additionally:[],contractInfo:[],info:[],property:"",paymentInfo:[]},t.car);a=Object(n.a)(Object(n.a)({},a),{},{isExtra:!!r.additionally.length,isContract:!!r.contractInfo&&r.contractInfo.length,isPayment:!!r.paymentInfo.length}),e.props.onChange({typesCar:t.car.typesCar}),e.setState(Object(n.a)({car:r,currentTemplate:t},a))},e.onChange=function(t,a){var r=e.state.car;switch(a){case"carType":r=Object(n.a)(Object(n.a)({},r),{},{typesCar:[t],info:[]}),e.props.onChange({typesCar:[t]});break;case"carProperty":r=Object(n.a)(Object(n.a)({},r),{},{property:t});break;case"carName":r=Object(n.a)(Object(n.a)({},r),{},{name:t});break;case"carPhoto":r=Object(n.a)(Object(n.a)({},r),{},{photo:t})}e.setState({car:r})},e.onChangeParams=function(t,a){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Object(n.a)({},e.state.car);r?(s[t]={id:a},e.setState({car:s})):(s[t].find((function(e){return e.id===a}))?s[t]=s[t].filter((function(e,t){return e.id!==a})):s[t].push({id:a}),e.setState({car:s}))},e.onChangeParamsFiels=function(t,a,r,s){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=Object(n.a)({},e.state.car);i?o[t][r]=s:o[t].find((function(e){return e.id===a}))&&(o[t]=o[t].map((function(e){return e.id===a?(e[r]=s,e):e}))),e.setState({car:o})},e.onChangeComment=function(t){e.setState({comment:t.target.value})},e.onChangeBudget=function(t){e.setState({budget:t.target.value})},e.onChangeCarData=function(t,a,r){var s=e.state.car.info;s.find((function(e){return e.carId===t}))?s=s.map((function(e){return e.carId===t?(e[a]=r,e):e})):(s.push({carId:t}),s[s.length-1][a]=r),e.setState({car:Object(n.a)(Object(n.a)({},e.state.car),{},{info:s})})},e}return Object(s.a)(a,[{key:"getArticlesInfo",value:function(){var e=!1;return this.state.car.typesCar&&this.state.car.typesCar.length||(b.b.error("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u043c\u0430\u0448\u0438\u043d\u044b",{position:b.b.POSITION.TOP_CENTER}),e=!0),this.state.car.name||(b.b.error("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0430\u0440\u043a\u0443 \u0438 \u043c\u043e\u0434\u0435\u043b\u044c \u043c\u0430\u0448\u0438\u043d\u044b",{position:b.b.POSITION.TOP_CENTER}),e=!0),this.state.car.photo||(b.b.error("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0424\u043e\u0442\u043e \u043c\u0430\u0448\u0438\u043d\u044b",{position:b.b.POSITION.TOP_CENTER}),e=!0),this.state.car.contractInfo.find((function(e){return(2===e.id||3===e.id)&&!e.org}))&&(b.b.error("\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e",{position:b.b.POSITION.TOP_CENTER}),e=!0),!e&&{car:this.state.car,comment:this.state.comment,budget:this.state.budget}}},{key:"componentDidMount",value:function(){var e={};this.props.comment&&(e=Object(n.a)(Object(n.a)({},e),{},{comment:this.props.comment})),this.props.budget&&(e=Object(n.a)(Object(n.a)({},e),{},{budget:this.props.budget}));var t=this.props.car;t=Object(n.a)({additionally:[],contractInfo:[],info:[],property:"",paymentInfo:[]},t),e=Object(n.a)(Object(n.a)({},e),{},{isExtra:!!t.additionally.length,isContract:!!t.contractInfo&&t.contractInfo.length,isPayment:!!t.paymentInfo.length}),this.setState(Object(n.a)({car:t},e))}},{key:"getIfExit",value:function(e,t,a){var n;return(n=e.find((function(e){return e.id==t})))&&n[a]?n[a]:""}},{key:"render",value:function(){var e=this,t=!(!this.state.car.typesCar||!this.state.car.typesCar.length)&&E.a.find((function(t){return e.state.car.typesCar[0]===t.id})),a={};return this.state.car.info&&(a=this.state.car.info.find((function(e){return e.carId===t.id}))||{}),l.a.createElement("div",{className:"step-create ".concat(this.props.className)},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"mt-3 col-12 col-md-8 mx-0 px-0 row carInfo"},!!this.props.carTemplates.length&&l.a.createElement("div",null,l.a.createElement("a",{className:"href hover",onClick:function(){e.setState({openTemplate:!e.state.openTemplate})}},this.state.openTemplate?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u044b\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0410\u0432\u0442\u043e"),this.state.openTemplate&&l.a.createElement(h.a,{placeholder:"\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u043c\u0430\u0448\u0438\u043d\u044b",options:this.props.carTemplates.map((function(e){return{value:e,label:e.car.name}})),value:this.state.currentTemplate?{value:this.state.currentTemplate,label:this.state.currentTemplate.car.name}:null,onChange:function(t){e.selectTemplate(t.value)}})),l.a.createElement("h4",{className:"f-16 col-12 mb-1",style:{fontWeight:"normal"}},"\u0422\u0438\u043f \u0430\u0432\u0442\u043e"),l.a.createElement("div",{className:"mt-3 carType"},l.a.createElement(h.a,{placeholder:"\u0422\u0438\u043f  \u043c\u0430\u0448\u0438\u043d\u044b",options:E.a.map((function(e){return{value:e.id,label:e.name}})),value:t?{value:t.id,label:t.name}:null,onChange:function(t){e.onChange(t.value,"carType")}})),l.a.createElement("div",{className:"carName mt-3"},l.a.createElement(f.a,{value:this.state.car.name,apiToken:this.props.user.apiToken,onChange:function(t){e.onChange(t.value,"carName")}})),t&&l.a.createElement("div",{className:"carMoreInfo carInfo row w-100"},1!==t.id&&l.a.createElement("div",{className:"carType"},l.a.createElement("div",{className:"f-14 mb-2"},"\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c \u0432 \u0442\u043e\u043d\u043d\u0430\u0445"),l.a.createElement(d.a,{type:"number",min:"0",placeholder:"\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044c\u0435\u043c\u043d\u043e\u0441\u0442\u044c",value:a.capacity||"",onChange:function(a){e.onChangeCarData(t.id,"capacity",a.target.value)}})),12===t.id&&l.a.createElement("div",{className:"moreInfoCheckBox"},l.a.createElement("div",{className:"f-14 mb-2"},"\u0422\u0435\u043d\u0442\u043e\u0432\u044b\u0439"),l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(y.a,{id:"awning1",name:"awning",value:"\u0416\u0435\u0441\u0442\u043a\u0438\u0439 \u0431\u043e\u0440\u0442"===a.awning||"",onChange:function(){e.onChangeCarData(t.id,"awning","\u0416\u0435\u0441\u0442\u043a\u0438\u0439 \u0431\u043e\u0440\u0442")},text:"\u0416\u0435\u0441\u0442\u043a\u0438\u0439 \u0431\u043e\u0440\u0442"})),l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(y.a,{id:"awning2",name:"awning",value:"\u0421\u044a\u0435\u043c\u043d\u0430\u044f \u0432\u0435\u0440\u0445\u043d\u044f\u044f \u0431\u0430\u043b\u043a\u0430"===a.awning||"",onChange:function(){e.onChangeCarData(t.id,"awning","\u0421\u044a\u0435\u043c\u043d\u0430\u044f \u0432\u0435\u0440\u0445\u043d\u044f\u044f \u0431\u0430\u043b\u043a\u0430")},text:"\u0421\u044a\u0435\u043c\u043d\u0430\u044f \u0432\u0435\u0440\u0445\u043d\u044f\u044f \u0431\u0430\u043b\u043a\u0430"})),l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(y.a,{id:"awning3",name:"awning",value:a&&"\u0421\u044a\u0435\u043c\u043d\u0430\u044f \u0431\u043e\u043a\u043e\u0432\u0430\u044f \u0441\u0442\u043e\u0439\u043a\u0430"===a.awning||"",onChange:function(){e.onChangeCarData(t.id,"awning","\u0421\u044a\u0435\u043c\u043d\u0430\u044f \u0431\u043e\u043a\u043e\u0432\u0430\u044f \u0441\u0442\u043e\u0439\u043a\u0430")},text:"\u0421\u044a\u0435\u043c\u043d\u0430\u044f \u0431\u043e\u043a\u043e\u0432\u0430\u044f \u0441\u0442\u043e\u0439\u043a\u0430"}))),9===t.id&&l.a.createElement("div",{className:"moreInfoCheckBox"},l.a.createElement("div",{className:"f-14 mb-2"},"\u0422\u0438\u043f"),l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(y.a,{id:"typeGazel1",name:"typeGazel",value:"\u0426\u0435\u043b\u044c\u043d\u043e\u043c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f"===a.typeGazel||"",onChange:function(){e.onChangeCarData(t.id,"typeGazel","\u0426\u0435\u043b\u044c\u043d\u043e\u043c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f")},text:"\u0426\u0435\u043b\u044c\u043d\u043e\u043c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f"})),l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(y.a,{id:"typeGazel2",name:"typeGazel",value:"\u0421 \u0442\u0435\u043d\u0442\u043e\u043c"===a.typeGazel||"",onChange:function(){e.onChangeCarData(t.id,"typeGazel","\u0421 \u0442\u0435\u043d\u0442\u043e\u043c")},text:"\u0421 \u0442\u0435\u043d\u0442\u043e\u043c"}))),l.a.createElement("div",{className:"moreInfoCheckBox"},l.a.createElement("div",{className:"f-14"},"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e:"),l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(y.a,{id:"property1",name:"property",value:this.state.car&&"\u041c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0442\u043e\u0440"===this.state.car.property||"",onChange:function(){e.state.car&&"\u041c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0442\u043e\u0440"===e.state.car.property?e.onChange(!1,"carProperty"):e.onChange("\u041c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0442\u043e\u0440","carProperty")},text:"\u041c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0442\u043e\u0440"})),l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(y.a,{id:"property2",name:"property",value:this.state.car&&"\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"===this.state.car.property||"",onChange:function(){e.state.car&&"\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"===e.state.car.property?e.onChange(!1,"carProperty"):e.onChange("\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440","carProperty")},text:"\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"})),l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(y.a,{id:"property3",name:"property",value:this.state.car&&"\u0418\u0437\u043e\u0442\u0435\u0440\u043c"===this.state.car.property||"",onChange:function(){e.state.car&&"\u0418\u0437\u043e\u0442\u0435\u0440\u043c"===e.state.car.property?e.onChange(!1,"carProperty"):e.onChange("\u0418\u0437\u043e\u0442\u0435\u0440\u043c","carProperty")},text:"\u0418\u0437\u043e\u0442\u0435\u0440\u043c"}))))),l.a.createElement("div",{className:"mt-3 col-12 col-md-4 row addPhotoCarBlock"},l.a.createElement("h4",{className:"f-16 col-12 text-center",style:{marginBottom:"20px",fontWeight:"normal"}},"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u043e\u0442\u043e \u043c\u0430\u0448\u0438\u043d\u044b"),l.a.createElement("input",{id:"photoCar",onChange:function(t){var a=t.target.files[0];e.onChange({file:a,path:URL.createObjectURL(a)},"carPhoto")},type:"file",accept:"image/jpeg,image/png",hidden:!0}),l.a.createElement("div",{className:"inputPhoto ".concat(this.state.car.photo?"":"unload"," ")},l.a.createElement("div",{className:"placeholder",onClick:function(){document.getElementById("photoCar").click()}},l.a.createElement("span",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c")),this.state.car.photo&&l.a.createElement("img",{src:!!this.state.car.photo&&this.state.car.photo.path,className:"carPhoto",alt:"carPhoto"}),!this.state.car.photo&&l.a.createElement("div",{className:"carPhoto"})))),l.a.createElement("div",{className:"row swicher-wrapper"},l.a.createElement("div",{className:"col-sm-6 col-md-4"},l.a.createElement("div",{className:"CheckBoxSwitcher-wrapper"},l.a.createElement(g.a,{lableClassname:"f-16",val:this.state.isExtra,onChange:function(){e.setState({isExtra:!e.state.isExtra})},lable:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"})),l.a.createElement(v.CSSTransitionGroup,{transitionName:"height-animation-item",transitionEnterTimeout:300,transitionLeaveTimeout:300,style:{display:"contents"}},this.state.isExtra&&l.a.createElement("div",{className:"checkboxGroup"},T.b.map((function(t,a){return l.a.createElement("div",{key:a,className:"checkboxParam"},l.a.createElement(y.a,{id:"additionally".concat(t.id),name:"additionally".concat(t.id),value:e.state.car.additionally.find((function(e){return e.id==t.id})),onChange:function(){e.onChangeParams("additionally",t.id)},text:t.name}),t.additionFields&&e.state.car.additionally.find((function(e){return e.id===t.id}))&&t.additionFields.map((function(a,n){return l.a.createElement(a.field,Object.assign({key:n},a.props,{value:e.getIfExit(e.state.car.additionally,t.id,a.name),onChange:function(n){e.onChangeParamsFiels("additionally",t.id,a.name,n.target.value)}}))})))}))))),l.a.createElement("div",{className:"col-sm-6 col-md-4"},l.a.createElement("div",{className:"CheckBoxSwitcher-wrapper"},l.a.createElement(g.a,{val:this.state.isContract,onChange:function(){e.setState({isContract:!e.state.isContract})},lable:"\u0417\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"})),l.a.createElement(v.CSSTransitionGroup,{transitionName:"height-animation-item",transitionEnterTimeout:300,transitionLeaveTimeout:300,style:{display:"contents"}},this.state.isContract&&l.a.createElement("div",{className:"checkboxGroup contract"},T.a.map((function(t,a){return l.a.createElement("div",{key:a,className:"checkboxParam"},l.a.createElement(y.a,{id:"contractParams".concat(t.id),name:"contractParams",value:e.state.car.contractInfo.find((function(e){return e.id===t.id})),onChange:function(){e.onChangeParams("contractInfo",t.id)},text:t.name}),t.additionFields&&e.state.car.contractInfo.find((function(e){return e.id===t.id}))&&t.additionFields.map((function(a,n){return l.a.createElement(a.field,Object.assign({key:n},a.props,{value:e.getIfExit(e.state.car.contractInfo,t.id,a.props.name).value,onChange:function(n){e.onChangeParamsFiels("contractInfo",t.id,a.props.name,n)}}))})))}))))),l.a.createElement("div",{className:"col-sm-6 col-md-4"},l.a.createElement("div",{className:"CheckBoxSwitcher-wrapper"},l.a.createElement(g.a,{val:this.state.isPayment,onChange:function(){e.setState({isPayment:!e.state.isPayment})},lable:"\u0421\u043f\u043e\u0441\u043e\u0431\u044b \u043e\u043f\u043b\u0430\u0442\u044b \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044e"})),l.a.createElement(v.CSSTransitionGroup,{transitionName:"height-animation-item",transitionEnterTimeout:300,transitionLeaveTimeout:300,style:{display:"contents"}},this.state.isPayment&&l.a.createElement("div",{className:"checkboxGroup"},T.c.map((function(t,a){return l.a.createElement("div",{key:a,className:"checkboxParam"},l.a.createElement(y.a,{id:"paymentParams".concat(t.id),name:"paymentParams".concat(t.id),value:e.state.car.paymentInfo.length&&!!e.state.car.paymentInfo.find((function(e){return e.id===t.id})),onChange:function(){e.onChangeParams("paymentInfo",t.id)},text:t.name}),t.additionFields&&e.state.car.paymentInfo.find((function(e){return e===t.id}))&&t.additionFields.map((function(a,n){return l.a.createElement(a.field,Object.assign({key:n},a.props,{value:e.state.car.paymentInfo[a.props.name],onChange:function(n){e.onChangeParamsFiels("paymentInfo",t.id,a.props.name,n.target.value)}}))})))})))))),l.a.createElement("div",{className:"row "},l.a.createElement("div",{className:"col-12 col-sm-8 mt-4"},l.a.createElement("div",{className:"mb-2 f-16"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),l.a.createElement("textarea",{className:"w-100",onChange:this.onChangeComment,style:{height:"70px"},value:this.state.comment?this.state.comment:""})),l.a.createElement("div",{className:"col-12 col-sm-4 mt-4"},l.a.createElement("div",{className:"mb-2 f-16"},"\u0416\u0435\u043b\u0430\u0435\u043c\u044b\u0439 \u0431\u044e\u0434\u0436\u0435\u0442"),l.a.createElement("div",{className:"d-flex align-items-center"},l.a.createElement(d.a,{style:{maxWidth:"113px",marginRight:"7px"},type:"number",onChange:this.onChangeBudget,value:this.state.budget?this.state.budget:"",placeholder:"0"}),l.a.createElement("span",null,"\u0440\u0443\u0431")))),l.a.createElement("div",{className:"row slide-step justify-content-end"},l.a.createElement(u.a,{type:"fill",className:" input-action",paddingHorizontal:"40px",onClick:this.props.next},"\u0412\u043f\u0435\u0440\u0435\u0434"))))}}]),a}(l.a.Component),N=a(247),O=a(110),j=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isTime:!1,isTimeInterval:!1,addressFrom:!1,addressTo:!1,startDate:!1,startTimeFrom:!1,startTimeTo:!1,errRequired:{}},e.onChangeAddress=function(t,a,n){switch(t){case"From":e.setState({addressFrom:a},n);break;case"To":e.setState({addressTo:a},n)}},e.onChangeTimeInfo=function(t,a,n){var r=new Date(e.state.startTimeFrom),s=new Date(e.state.startTimeTo);switch(t){case"date":var i={startDate:a};e.state.startTimeFrom&&(i.startTimeFrom=new Date(a.getFullYear(),a.getMonth(),a.getDate(),r.getHours(),r.getMinutes(),r.getSeconds())),e.state.startTimeTo&&(i.startTimeTo=new Date(a.getFullYear(),a.getMonth(),a.getDate(),s.getHours(),s.getMinutes(),s.getSeconds())),e.setState(i,n);break;case"From":var o;o=a?s<a?{startTimeFrom:a,startTimeTo:!1}:{startTimeFrom:a}:{startTimeFrom:!1,startTimeTo:!1},e.setState(o,n);break;case"To":r>a&&a?b.b.error('\u0412\u0440\u0435\u043c\u044f "\u0414\u043e" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 "\u041e\u0442" ',{position:b.b.POSITION.TOP_CENTER}):e.setState({startTimeTo:a},n)}},e}return Object(s.a)(a,[{key:"getArticlesInfo",value:function(){var e=!1;return this.state.startDate&&new Date(this.state.startDate)<(new Date).setHours(0,0,0,0)&&(b.b.error("\u0414\u0430\u0442\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439",{position:b.b.POSITION.TOP_CENTER}),e=!0),this.state.addressFrom&&8===Number(this.state.addressFrom.data.fias_level)||(b.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e \u0434\u043e\u043c\u0430",{position:b.b.POSITION.TOP_CENTER}),e=!0),this.state.addressTo&&8===Number(this.state.addressTo.data.fias_level)||(b.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0434\u043e \u0434\u043e\u043c\u0430",{position:b.b.POSITION.TOP_CENTER}),e=!0),!e&&{startDate:!!this.state.startDate&&{timeFrom:this.state.startTimeFrom,timeTo:this.state.startTimeTo,date:this.state.startDate},from:this.state.addressFrom,to:this.state.addressTo}}},{key:"componentDidMount",value:function(){var e={};this.props.addressFrom&&(e={addressFrom:this.props.addressFrom}),this.props.addressTo&&(e=Object(n.a)(Object(n.a)({},e),{},{addressTo:this.props.addressTo})),this.props.startDate&&(this.props.startDate.date&&(e=Object(n.a)(Object(n.a)({},e),{},{startDate:this.props.startDate.date})),this.props.startDate.date&&(e=Object(n.a)(Object(n.a)({},e),{},{startTimeFrom:this.props.startDate.timeFrom})),this.props.startDate.date&&(e=Object(n.a)(Object(n.a)({},e),{},{startTimeTo:this.props.startDate.timeTo}))),this.setState(Object(n.a)({},e))}},{key:"componentDidUpdate",value:function(){this.state.startTimeFrom&&!this.state.isTime&&this.setState({isTime:!0}),this.state.startTimeTo&&!this.state.isTimeInterval&&this.setState({isTimeInterval:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"step-create ".concat(this.props.className)},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row align-items-start"},l.a.createElement("div",{className:"col-xl-8 mt-2 col-12 row"},l.a.createElement("h4",{className:"f-16 col-12 mb-1",style:{fontWeight:"normal"}},"\u041c\u0430\u0440\u0448\u0440\u0443\u0442"),l.a.createElement("div",{className:"col-12 col-sm-6 mt-2"},l.a.createElement(N.a,{placeholder:"\u041e\u0442\u043a\u0443\u0434\u0430",className:"".concat(this.state.errRequired.addressFrom?"errRequired":""),value:this.state.addressFrom?this.state.addressFrom.value:"",onChange:function(t){t&&8===Number(t.data.fias_level)&&e.setState({errRequired:Object(n.a)(Object(n.a)({},e.state.errRequired),{},{addressFrom:!1})}),e.onChangeAddress("From",t,(function(){t&&t.data.geo_lat&&t.data.geo_lon&&e.mapFrom.panTo([Number(t.data.geo_lat),Number(t.data.geo_lon)],{delay:1500})}))}}),l.a.createElement(O.a,{instanceRef:function(t){e.mapFrom=t},defaultState:{center:this.state.addressFrom?[this.state.addressFrom.data.geo_lat,this.state.addressFrom.data.geo_lon]:[55.684758,37.738521],zoom:10},style:{marginTop:"21px",height:"220px",width:"100%"}},this.state.addressFrom&&this.state.addressFrom.data.geo_lat&&this.state.addressFrom.data.geo_lon&&l.a.createElement(O.b,{geometry:[this.state.addressFrom.data.geo_lat,this.state.addressFrom.data.geo_lon]}))),l.a.createElement("div",{className:"col-12 col-sm-6 mt-2"},l.a.createElement(N.a,{placeholder:"\u041a\u0443\u0434\u0430",className:"".concat(this.state.errRequired.addressTo?"errRequired":""),value:this.state.addressTo?this.state.addressTo.value:"",onChange:function(t){t&&8===Number(t.data.fias_level)&&e.setState({errRequired:Object(n.a)(Object(n.a)({},e.state.errRequired),{},{addressTo:!1})}),e.onChangeAddress("To",t,(function(){t&&t.data.geo_lat&&t.data.geo_lon&&e.mapTo.panTo([Number(t.data.geo_lat),Number(t.data.geo_lon)],{delay:1500})}))}}),l.a.createElement(O.a,{instanceRef:function(t){e.mapTo=t},defaultState:{center:this.state.addressTo?[this.state.addressTo.data.geo_lat,this.state.addressTo.data.geo_lon]:[55.684758,37.738521],zoom:10},style:{marginTop:"21px",height:"220px",width:"100%"}},this.state.addressTo&&this.state.addressTo.data.geo_lat&&this.state.addressTo.data.geo_lon&&l.a.createElement(O.b,{geometry:[this.state.addressTo.data.geo_lat,this.state.addressTo.data.geo_lon]})))),l.a.createElement("div",{className:"col-xl-4 mt-2 col-12 row"},l.a.createElement("h4",{className:"f-16 col-12",style:{marginBottom:"12px",fontWeight:"normal"}},"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f"),l.a.createElement("div",{className:"col-12 row mx-0",style:{marginLeft:"0",marginRight:"0",alignItems:"center"}},l.a.createElement("span",{className:"filter-input-title"},"\u0414\u0430\u0442\u0430",l.a.createElement("br",null),"\u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),l.a.createElement(d.a,{type:"date",className:"".concat(this.state.errRequired.startDate?"errRequired":""),style:{width:"130px"},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",value:this.state.startDate||null,onChange:function(t){e.setState({errRequired:Object(n.a)(Object(n.a)({},e.state.startDate),{},{startDate:!1})}),e.onChangeTimeInfo("date",t)}})),this.state.startDate&&l.a.createElement("div",{className:"col d-flex align-items-center",style:{marginTop:"21px",maxWidth:"146px"}},l.a.createElement(y.a,{id:"isTime",value:this.state.isTime,onChange:function(){e.state.isTime&&e.onChangeTimeInfo("From",!1),e.setState({isTime:!e.state.isTime})},text:"\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f"})),this.state.isTime&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col d-flex align-items-center",style:{marginTop:"21px",maxWidth:"172px"}},this.state.startTimeFrom&&l.a.createElement(y.a,{id:"isTimeInterval",onChange:function(){e.state.isTimeInterval&&e.onChangeTimeInfo("To",!1),e.setState({isTimeInterval:!e.state.isTimeInterval})},value:this.state.isTimeInterval,text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b"})),l.a.createElement("div",{className:"d-inline-flex  col-12 mt-3",style:{alignItems:"center",flexDirection:"row"}},l.a.createElement("span",{className:"filter-input-title mb-0"},"\u0412\u0440\u0435\u043c\u044f",l.a.createElement("br",null),"\u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),l.a.createElement(d.a,{date:this.state.startDate,type:"time",value:this.state.startTimeFrom||null,onChange:function(t){e.onChangeTimeInfo("From",t)}}),this.state.isTimeInterval&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"filter-input-title mb-0"},"\xa0\xa0-"),l.a.createElement(d.a,{date:this.state.startDate,type:"time",value:this.state.startTimeTo||null,onChange:function(t){e.onChangeTimeInfo("To",t)}})))))),l.a.createElement("div",{className:"row slide-step justify-content-end"},l.a.createElement(u.a,{type:"empty",className:" input-action",paddingHorizontal:"40px",onClick:this.props.prev},"\u041d\u0430\u0437\u0430\u0434"),l.a.createElement(u.a,{type:"fill",className:" input-action",paddingHorizontal:"40px",onClick:this.props.next},"\u0412\u043f\u0435\u0440\u0435\u0434"))))}}]),a}(l.a.Component),k=a(16),D=a(11),x=a(111),S=a(305),I=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isPro:!1,cargoTypes:[],cargoData:[],cargoStandartData:{},cargoListPossible:[]},e.onChangeCargoData=function(t,a,n){var r=e.state.cargoData;r.find((function(e){return e.typeID===t}))?r=r.map((function(e){return e.typeID===t?(e[a]=n,e):e})):(r.push({typeID:t}),r[r.length-1][a]=n),e.setState({cargoData:r})},e.onChangeCargoStandartData=function(t,a){var n=e.state.cargoStandartData;n[t]=a,e.setState({cargoStandartData:n})},e.onChangeTypesByOne=function(t){e.state.cargoTypes.find((function(e){return e===t.id}))?e.setState({cargoTypes:e.state.cargoTypes.filter((function(e){return e!==t.id})),cargoData:e.state.cargoData.filter((function(e,a){return e.typeID!==t.id}))}):e.setState({cargoTypes:[].concat(Object(k.a)(e.state.cargoTypes),[t.id])})},e.onChangeTypesByMore=function(t){var a=!1;(t=t?t.map((function(e){return e.value})):[]).length<e.state.cargoTypes&&(a=e.state.cargoData.filter((function(e,a){return t.find((function(t){return t===e.typeID}))}))),e.setState({cargoTypes:Object(k.a)(t),cargoData:a||e.state.cargoData})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=x.a.filter((function(t){return!!e.props.cargoTypes&&!!e.props.cargoTypes.find((function(e){return e===t.id}))})),a={};this.props.cargoTypes&&(a={cargoTypes:this.props.cargoTypes}),t.find((function(e){return e.isPro}))&&(a=Object(n.a)(Object(n.a)({},a),{},{isPro:!0})),this.props.cargoData&&(a=Object(n.a)(Object(n.a)({},a),{},{cargoData:this.props.cargoData})),this.props.cargoStandartData&&(a=Object(n.a)(Object(n.a)({},a),{},{cargoStandartData:this.props.cargoStandartData})),this.setState(Object(n.a)({},a),this.updateTypes())}},{key:"componentDidUpdate",value:function(e){if(e.typesCar||this.props.typesCar){var t=e.typesCar||[],a=this.props.typesCar||[];t.sort((function(e,t){return t-e})),a.sort((function(e,t){return t-e})),JSON.stringify(t)!==JSON.stringify(a)&&this.updateTypes()}}},{key:"updateTypes",value:function(){var e=[];e=(e=(e=this.props.typesCar.map((function(e){return E.a.find((function(t){return t.id==e})).cargoTypes}))).flat().filter((function(e,t,a){return a.indexOf(e)===t}))).map((function(e){return x.a.find((function(t){return t.id===e}))}));var t=this.state.cargoTypes.filter((function(t){return e.find((function(e){return e.id===t}))})),a=!1;!t.find((function(e){return e.isPro}))&&e.find((function(e){return!e.isPro}))||(a=!0),this.setState({cargoListPossible:e,cargoTypes:t,cargoData:[],isPro:a})}},{key:"getArticlesInfo",value:function(){var e=!1;return this.state.cargoTypes.length||(b.b.error("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0433\u0440\u0443\u0437\u0430",{position:b.b.POSITION.TOP_CENTER}),e=!0),!e&&{cargoTypes:this.state.cargoTypes,cargoData:this.state.cargoData,cargoStandartData:this.state.cargoStandartData}}},{key:"render",value:function(){var e=this,t=x.a.filter((function(t){return!!e.state.cargoTypes.find((function(e){return e===t.id}))}));return l.a.createElement("div",{className:"step-create ".concat(this.props.className)},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"box-grooz-wrapper-row align-items-start justify-content-start"},l.a.createElement("h4",{className:"f-16 col-12 mb-1",style:{fontWeight:"normal"}},l.a.createElement("span",null,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430"),l.a.createElement(D.Link,{to:"/",className:"href f-14 ml-4",onClick:function(t){t.preventDefault(),e.setState({isPro:!e.state.isPro})}},!this.state.isPro&&l.a.createElement(l.a.Fragment,null,"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"),this.state.isPro&&l.a.createElement(l.a.Fragment,null,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")," Pro \u0441\u043f\u0438\u0441\u043e\u043a")),!this.state.isPro&&l.a.createElement(l.a.Fragment,null,this.state.cargoListPossible.map((function(a,n){if(!a.isPro){var r=t.find((function(e){return e.id===a.id}));return l.a.createElement("div",{key:n,className:"col box-grooz-wrapper"},l.a.createElement("div",{className:"box-grooz ".concat(r?"active":""),onClick:function(){e.onChangeTypesByOne(a)}},l.a.createElement("div",{className:"text-center"},l.a.createElement("img",{src:a.img,alt:"box"}),l.a.createElement("span",{className:"d-block"},a.name))))}}))),this.state.isPro&&l.a.createElement(h.a,{placeholder:"\u0422\u0438\u043f \u0413\u0440\u0443\u0437\u0430",options:this.state.cargoListPossible.map((function(e){return{value:e.id,label:e.name}})),isMulti:!0,className:"selectTypeCargo",value:t.map((function(e){return{value:e.id,label:e.name}})),onChange:function(t){e.onChangeTypesByMore(t)}})),l.a.createElement("div",{className:"row typeGrooz"},(t.find((function(e){return e.isStandart}))||this.state.cargoData.find((function(e){return 4===e.typeID}))&&"\u041e\u0431\u044b\u0447\u043d\u044b\u0435"===this.state.cargoData.find((function(e){return 4===e.typeID})).type||this.state.cargoData.find((function(e){return 13===e.typeID}))&&"\u041e\u0431\u044b\u0447\u043d\u044b\u0435"===this.state.cargoData.find((function(e){return 13===e.typeID})).type||this.state.cargoData.find((function(e){return 3===e.typeID}))&&"\u041e\u0431\u044b\u0447\u043d\u044b\u0435"===this.state.cargoData.find((function(e){return 3===e.typeID})).type)&&l.a.createElement(S.a,{cargoStandartData:this.state.cargoStandartData,needCube:!1,onChangeCargoStandartData:this.onChangeCargoStandartData}),!!t.length&&t.map((function(t,a){return!!t.fields&&l.a.createElement("div",{key:a,className:"rowParams"},l.a.createElement("h4",{className:"f-16 col-12 mb-1",style:{fontWeight:"normal"}},l.a.createElement("div",{className:"typeName"},t.name),"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043e\u0434\u043d\u043e\u0433\u043e \u043c\u0435\u0441\u0442\u0430 \u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442"),l.a.createElement("div",{className:"moreParams"},t.fields(e.onChangeCargoData,e.state.cargoData.find((function(e){return e.typeID===t.id}))||[],e.props.typesCar)))}))),l.a.createElement("div",{className:"row slide-step justify-content-end"},l.a.createElement(u.a,{type:"empty",className:" input-action",paddingHorizontal:"40px",onClick:this.props.prev},"\u041d\u0430\u0437\u0430\u0434"),l.a.createElement(u.a,{type:"fill",className:" input-action",paddingHorizontal:"40px",onClick:this.props.next},"\u0412\u043f\u0435\u0440\u0435\u0434"))))}}]),a}(l.a.Component),F=a(884),P=a(53),w=a(17),A=a(119),_=a(59),R=a(93),z=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={isFetching:!0,notFound:!1,currentTab:1,typesCar:[],carTemplates:[],article:!1,isEditing:!1},n.article={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;"cargo"===this.props.user.type?this.setState({notFound:!0,isFetching:!1}):this.props.match.params.id?fetch("".concat(w.a.urlApi,"/api/article/getUserArticle"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.user.apiToken)},body:JSON.stringify({id:this.props.match.params.id,type:"offer"})}).then((function(e){return e.json()})).then((function(t){t.error?e.setState({notFound:!0,isFetching:!1}):t.article&&(e.article=t.article,e.editingId=t.article._id,e.setState({typesCar:t.article.car.typesCar,isEditing:!0},(function(){Object(A.a)(("offer"===e.state.article.type?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430")+" \u2116"+e.article.articleId),e.getCarTemplate()})))})):this.getCarTemplate()}},{key:"getCarTemplate",value:function(){var e=this;fetch("".concat(w.a.urlApi,"/api/car/getCarTemplates"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.user.apiToken)}}).then((function(e){return e.json()})).then((function(t){t.error||t.carTemplates&&e.setState({carTemplates:t.carTemplates,isFetching:!1})}))}},{key:"getRef",value:function(e){switch(e){case 1:return this.step1;case 2:return this.step2;case 3:return this.step3}}},{key:"nexTab",value:function(e){var t,a=this,r=!1,s={type:"offer"};if(Array.from(Array(e-1),(function(e,t){return t+1})).map((function(e,i){(t=a.getRef(e).getArticlesInfo())?s=Object(n.a)(Object(n.a)({},s),t):r=i+1})),r)this.state.currentTab!==r&&this.setState({currentTab:r});else if(4===e)this.setState({article:Object(n.a)(Object(n.a)({},s),{},{author:this.props.user})},(function(){a.setState({currentTab:e})}));else{var i={currentTab:e};this.setState(Object(n.a)({},i))}}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(_.a,{isLoading:this.state.isFetching}),l.a.createElement("div",{className:"create-page create-order-page"},l.a.createElement(v.CSSTransitionGroup,{transitionName:"loading-height-animation-item",transitionEnterTimeout:300,transitionLeaveTimeout:300,style:{display:"contents"}},!this.state.isFetching&&!this.state.notFound&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement("h2",{className:"title"},this.props.title),l.a.createElement(p.a,{changeTub:function(t){e.nexTab(t)},currentTab:this.state.currentTab,tabs:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e","\u041c\u0430\u0440\u0442\u0448\u0440\u0443\u0442","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u0437\u0430","\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430"]})),l.a.createElement("div",{className:"steps-create"},l.a.createElement(C,{ref:function(t){return e.step1=t},className:"".concat(1===this.state.currentTab?"active":""," \n              ").concat(this.state.currentTab>1?"deactive":""),car:this.article.car,next:function(){e.nexTab(2)},user:this.props.user,carTemplates:this.state.carTemplates,onChange:function(t){e.setState(t)},comment:this.article.comment,budget:this.article.budget}),l.a.createElement(j,{ref:function(t){return e.step2=t},className:"".concat(2===this.state.currentTab?"active":""," ").concat(this.state.currentTab>2?"deactive":""),next:function(){e.nexTab(3)},prev:function(){e.setState({currentTab:e.state.currentTab-1})},addressFrom:this.article.from,addressTo:this.article.to,startDate:this.article.startDate}),l.a.createElement(I,{ref:function(t){return e.step3=t},className:"".concat(3===this.state.currentTab?"active":""," ").concat(this.state.currentTab>3?"deactive":""),typesCar:this.state.typesCar,next:function(){e.nexTab(4)},prev:function(){e.setState({currentTab:e.state.currentTab-1})},cargoTypes:this.article.cargoTypes,cargoData:this.article.cargoData,cargoStandartData:this.article.cargoStandartData}),l.a.createElement(F.a,{key:"OfferCreate4",className:"".concat(4===this.state.currentTab?"active":""),prev:function(){e.setState({currentTab:e.state.currentTab-1})},isEditing:this.state.isEditing,editingId:this.editingId,article:this.state.article})))),!this.state.isFething&&this.state.notFound&&l.a.createElement(R.a,null)))}}]),a}(l.a.Component);t.default=Object(m.b)((function(e){return{user:e.user}}))(Object(P.o)(z))}}]);
//# sourceMappingURL=5.c4cb2e70.chunk.js.map