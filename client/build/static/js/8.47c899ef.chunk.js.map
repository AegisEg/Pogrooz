{"version":3,"sources":["config/meta.js","Elements/Meta.js","controllers/TimeController.js","Partials/FaqRow.js","Partials/Tariffs.js","Pages/Public/FAQ.js","Elements/InputPhone.js","img/attachDelete.svg","img/loadAudio.gif","img/document.svg","img/upload.svg","img/redWarning.svg","img/progress-bar.png","img/music.svg","img/carGeo.svg","img/redClose.svg","img/greyAngle.svg","config/countryList.js","Pages/User/Profile.js","Pages/User/MyArticles.js","Pages/User/TakingArticles.js","Elements/CheckBoxSwitcher.js","Elements/CarSelect.js","functions/functions.js","Pages/User/CreatePart/CreateTemplateAuto.js","ArticlesElements/CarTemplate.js","Pages/User/MyTemplateCar.js","Partials/ReviewsItem.js","Partials/ReviewsUser.js","Modal/OrdersListModal.js","Pages/Public/User.js","ArticlesElements/Partials/ArticleRequest.js","ArticlesElements/Partials/RequestForm.js","Pages/User/ArticlePage.js","Pages/User/Notifications/Notifications.js","Elements/SettingsFiled.js","Pages/User/Notifications/NotificationsSettings.js","img/angle-right.svg","Pages/User/CreatePart/HeaderCreate.js","Pages/User/CreatePart/Offer1.js","Pages/User/CreatePart/Offer2.js","Pages/User/CreatePart/Offer3.js","Pages/User/CreatePart/Offer&Order4.js","Pages/User/NewOffer.js","Pages/User/CreatePart/Order1.js","Pages/User/CreatePart/Order2.js","Pages/User/CreatePart/Order3.js","Pages/User/NewOrder.js","redux/actions/reviews.js","Pages/User/Reviwes.js","Pages/User/Support.js","Partials/PayHistoryTable.js","Pages/User/TarifLk.js","Pages/User/AutoPay.js","redux/actions/dialogs.js","Pages/User/Messages/Messages.js","Partials/Chat/TimeTag.js","img/play.svg","img/pauseRecord.svg","Partials/Chat/RecordLineSvg.js","Partials/Chat/Audio.js","img/reply.svg","Partials/Chat/RecentMessage.js","Partials/Chat/Message.js","Partials/Chat/AudioVoice.js","img/ResetRecord.svg","img/stopRecord.svg","img/send.svg","Partials/Chat/InputPanel/PanelRecord.js","img/addDocuments.svg","img/smiles.svg","img/microphone.svg","Partials/Chat/InputPanel/PanelStandart.js","Elements/ProgressBar.js","Partials/Chat/Dialog.js","Pages/User/Messages/Dialog.js","Pages/User/Messages/DialogOrder.js","redux/actions/geoarticle.js","Pages/User/GeoDetect.js","Pages/Page.js","Pages/Questions.js","Router/PrivateComponents.js"],"names":["key","title","options","descriptions","city","count","start","finish","date","tags","map","item","index","all","extraParams","find","itemX","id","name","length","comment","fio","type","rating","address","partial","text","orgSelect","meta","metaX","props","keyMeta","Helmet","this","content","rel","href","window","location","protocol","host","pathname","React","Component","getHM","time","Date","hours","getHours","minutes","getMinutes","toString","timeAt","day_diff","getDate","month_diff","getMonth","year_diff","getFullYear","year","month","day","LastMessageDate","timeR","OnlineDate","diff","getTime","getDay","isNaN","Math","floor","ceil","prettyDate","num","postfix","postfixes","yearsPostfixes","monthesPostfixes","monthes","years","FaqRow","state","sections","isFething","setState","fetch","api","urlApi","method","headers","Accept","body","JSON","stringify","then","response","json","className","isLoading","section","view","q","split","questions","x","i","toLowerCase","indexOf","question","to","user","isAuth","slug","_id","connect","Tariffs","tariffs","isFetching","bayTariff","tariff","Authorization","apiToken","tariffId","error","formUrl","open","transitionName","transitionEnterTimeout","transitionLeaveTimeout","style","display","duration","priceWithSale","discount","price","isDemo","onClick","history","push","paddingVertical","withRouter","FAQ","placeholder","value","onChange","e","target","InputPhone","isSend","timer","disabled","code","codeHash","isUnique","isUniqueCanDo","refresh","sendSMS","phone","toast","setVerified","Interval","setInterval","a","clearInterval","paddingBottom","position","inputExtraProps","country","disableDropdown","inputClass","specialLabel","on","val","console","log","unique","alignSelf","isVerified","disable","compare","module","exports","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","fill","_ref","svgRef","width","height","viewBox","ref","ForwardRef","forwardRef","label","Profile","firstName","middleName","lastName","email","contract","avatar","passportPhoto","lastPassword","newPassword","confirmPassword","dataFancybox","saveUser","POSITION","TOP_CENTER","userChanges","first","middle","last","userActions","userEdit","responce","errors","param","success","passChange","passwords","entries","isPassportVerified","step","Input","marginBottom","maxWidth","Button","paddingHorizontal","document","getElementById","click","file","files","size","path","URL","createObjectURL","accept","hidden","src","ConfigSettings","defaultAvatar","alt","fontSize","lineHeight","Select","countryList","AdressSelect","filterFromBound","filterToBound","contractParams","CheckBox","additionFields","itemField","field","data","verticalAlign","margin","upload","preventDefault","images","defaultPassport","marginTop","marginRight","Fancybox","close","paddingRight","dispatch","bindActionCreators","MyArticles","currentStatus","prestatus","statusArticle","myArticlesActions","articlesMyLoad","articlesAllMyGet","reduxArticles","myarticles","my","myAll","countAll","isGetted","articlesMyGet","articlesBlock","getScrollHeight","getScrollTop","getClientHeight","canLoad","articlesAllMyLoad","renderTabs","ArticleHeader","LoadingFixed","onScroll","renderTrackVertical","renderThumbVertical","autoHide","articles","article","Article","IsManage","articlesTakingGet","articlesAllTakingGet","taking","takingAll","articlesTakingLoad","articlesAllTakingLoad","CheckBoxSwitcher","lable","lableClassname","CarSelect","loadOptions","inputValue","callback","setTimeout","stringLikes","cars","handleBlur","event","async","onBlur","onInputChange","action","setForceTitle","pageTitle","OfferCreate1","isExtra","isContract","isPayment","notFound","isEditing","car","isFetchingAction","editTemplate","getArticlesInfo","formData","FormData","append","editingId","photo","msg","saveTemplate","isError","typesCar","contractInfo","org","prop","info","property","onChangeParams","isSingle","filter","onChangeParamsFiels","idProp","onChangeCarData","carId","carDataX","match","params","templateId","Template","defaultInitializate","newState","additionally","paymentInfo","array","element","currentCarType","carTypesList","currentInfo","Loading","fontWeight","min","capacity","awning","typeGazel","getIfExit","paymentParams","NoMatch","CarTemplate","delete","template","reload","splitArr","arr","chunks","Array","_","c","n","minWidth","itemY","items","itemZ","string","OfferCreate","carTemplates","getCarTemplates","padding","marginLeft","borderBottom","ReviewItem","isEdit","reting","review","color","createdAt","toDateR","isMy","whiteSpace","order","articleId","author","RatingInput","ImgActiveStar","notEdit","isLast","ReviewsUser","reviews","currentPage","pageCount","settings","reviewsOnPage","getReviews","page","configApi","userId","selected","Pagination","onPageChange","setPage","bind","withCookies","OrdersListModal","isOpen","orders","closeForm","openForm","offerCargoOrder","orderId","stylesModals","status","onRequestClose","User","currentTab","countData","createRef","isHidden","isTariff","isBan","$in","lastLocation","onChengeArticles","public","canceled","executors","phoneNumberString","replace","b","current","getAricles","Meta","itemScope","itemType","itemProp","itemprop","short","redWarning","formatPhoneNumber","orderOfered","Articles","notControl","onlyPublic","withLastLocation","ArticleRequest","deleteRequest","request","deleteExecutor","setExecutor","myArticle","isExecutor","isDelivered","delivered","toLocaleTimeString","hour","minute","budget","timeFrom","timeTo","setChangeRequest","RequestForm","requestCreate","setRequest","requestSave","updateRequest","endEdit","canType","minHeight","canRequest","isAlready","requests","alignItems","flexDirection","getSeconds","max","ArticlePage","editRequestId","currentLoad","url","search","queryString","parse","scrollIntoView","behavior","currentArticle","from","startDate","onlyOpen","singlePage","Notifications","typeNotification","renderNotification","notifications","Notification","reading","notificationActions","notificationRead","notification","notificationsGet","notifyBlock","notifyLoad","offer","system","SettingsFiled","keyField","valueMail","wrapperlabelClass","labelClass","valuePush","settingsField","role","NotificationsSettings","isFetchingSave","saveSettings","mail","stroke","strokeWidth","strokeMiterlimit","strokeLinecap","strokeLinejoin","HeaderCreate","onMobile","updateDimensions","innerWidth","addEventListener","removeEventListener","changeTub","tabs","openTemplate","currentTemplate","selectTemplate","onChangeComment","onChangeBudget","next","OfferCreate2","isTime","isTimeInterval","addressFrom","addressTo","startTimeFrom","startTimeTo","errRequired","onChangeAddress","onChangeTimeInfo","setHours","Number","fias_level","geo_lat","geo_lon","mapFrom","panTo","delay","instanceRef","defaultState","center","zoom","geometry","mapTo","prev","OfferCreate3","isPro","cargoTypes","cargoData","cargoStandartData","cargoListPossible","onChangeCargoData","typeID","cargoDataX","onChangeCargoStandartData","cargoStandartDataX","onChangeTypesByOne","onChangeTypesByMore","currentCargoTypes","cargoTypesList","updateTypes","prevProps","prevTypes","currentTypes","sort","flat","self","newCurentCargoType","resetStandartData","isStandart","isSelect","img","isMulti","StandartParams","needCube","fields","Create4","createAricle","cookies","get","createMyArticle","editMyArticle","save","getCarTemplate","number","step1","step2","step3","getRef","setTub","nexTab","OrderCreate1","cargoPhoto","currentCargoType","cargoList","multiple","indexR","attachDelete","OrderCreate2","OrderCreate3","carListPossible","newCurentCarType","currentCarTypes","carInfo","OrderCreate","reviewsGet","REVIEWS_ME_SET_LOADING","payload","REVIEWS_MY_SET_LOADING","REVIEWS_ME_GET","REVIEWS_MY_GET","reviewsLoad","lastReviewId","store","getState","reviewsMe","reviewsMy","REVIEWS_ME_LOAD","REVIEWS_MY_LOAD","saveReview","Promise","resolve","reject","socketId","SocketController","getSocketId","newReview","ARTICLE_MY_REVIEW_UPDATE","REVIEWS_MY_UPDATE","ARTICLE_TAKING_REVIEW_UPDATE","REVIEWS_ME_UPDATE","Reviews","reviewsAction","reviewsBlock","reviewsObj","Support","jivo_api","noPadding","PayHistoryTable","payments","getPaymentHistory","colSpan","scope","updatedAt","ban","startedAt","expiriesAt","day_one","day_two","expiriesTariffAt","diffDates","Card","active","card","maskedPan","expiryDate","slice","removeCard","bindingId","activateCard","AutoPay","enableAutoPay","bindingIdCard","cards","errorCode","addNew","isEnableAutoPay","toogleAutoPay","kay","dialogsAllGet","existDialog","dialogs","dialogsUser","messages","users","typers","DIALOGSALL_GET","dialogsGet","DIALOGS_GET","dialogGet","dialog","isNotFound","DIALOGS_ADD","typing","reverse","lastMessage","dialogsLoad","DIALOGSALL_SET_LOADING","dialogsALL","DIALOGSORDER_SET_LOADING","dialogsOrder","DIALOGS_SET_LOADING","lastDialogId","DIALOGSORDER_LOAD","DIALOGS_LOAD","DIALOGSALL_LOAD","dialogLoad","DIALOG_LOAD","dialogId","updateOnline","isOrder","DIALOGSORDER_UPDATE_ONLINE","DIALOGS_UPDATE_ONLINE","online","onlineAt","retrySendMessage","message","typeDelete","DIALOGSORDER_DELETE_MESSAGE","DIALOGS_DELETE_MESSAGE","typeAdd","DIALOGSORDER_ADD_MESSAGE","DIALOGS_ADD_MESSAGE","typeError","DIALOGSORDER_ERROR_MESSAGE","DIALOGS_ERROR_MESSAGE","typeSuccessMessage","DIALOGSORDER_SUCCESS_MESSAGE","DIALOGS_SUCCESS_MESSAGE","voiceSound","recordLine","sounds","localMessage","recentMessage","now","messageIds","recentMessages","messageRes","_newId","catch","deleteLocalMessage","y","pop","sendMessage","randomInteger","isRead","readMessages","otherId","typeRead","DIALOGSORDER_READ_MESSAGES","DIALOGS_READ_MESSAGES","noRead","noReadCount","loadMessages","typeLoad","DIALOGSORDER_LOAD_MESSAGES","DIALOGS_LOAD_MESSAGES","typeSetLoad","DIALOGORDER_SET_LOADING","DIALOG_SET_LOADING","lastMessageId","dialogsOrderGet","DIALOGSORDER_GET","dialogOrderGet","DIALOGSORDER_ADD","dialogOrderLoad","DIALOGORDER_LOAD","Dialog","city_with_type","voiseSound","sound","Messages","tab","dialogsActions","dialogsBlock","TimeTag","cx","cy","r","rx","_ref4","RecordLineSvg","clientWidth","clientHeight","svg","RecordLine","isAdaptive","countAllSrick","difference","abs","everyIndex","counter","countduple","duplearray","countColors","percentTime","maxValue","AudioX","currentTime","audio","randomId","thisAudio","getElementsByName","volume","onpause","parentElement","onplay","ontimeupdate","pause","stopPropagation","otherAudio","getElementsByClassName","play","nativeEvent","layerX","preload","playAudio","stopAudio","changeDurationAudio","isVoiceSound","padZero","loading","RecentMessage","scrollTo","Message","isSelected","scrollingMessage","nextProps","nextState","isHistoryDate","moreHour","prevMessage","date1","date2","myMessage","isFirst","isShowMoreElement","isRecent","charAt","Audio","image","isBlur","addImageToFancyBox","documentSvg","top","setRecentMessage","AudioVoice","fillRule","opacity","m","localStream","analyser","processor","ctx","PanelRecord","documentMode","StyleMedia","isRecordPause","isAudioPlay","isSending","countdown","audioSrc","AudioContext","webkitAudioContext","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","getMedia","video","stream","renderAudioVolume","mediaRecorder","MediaRecorder","startTimer","stopTimer","err","stopRec","onRecordingReady","addVoiceSound","stop","getAudioTracks","disconnect","destination","recordStop","createMediaStreamSource","createAnalyser","createScriptProcessor","Uint8Array","frequencyBinCount","onaudioprocess","getByteFrequencyData","volumes","arg","renderCanvas","recordStart","String","toTimer","PanelStandart","showEmoji","hideEmoji","closest","loadFiles","onKeyDown","keyCode","shiftKey","maxHeight","onInput","inputMessage","scrollHeight","showPreview","emoji","native","showSearch","showSkinTones","i18n","localizateEmoji","isContent","Avatar","backgroundImage","PngProgress","percent","isIE","isEdge","waitActiveUser","waitFastRead","ScrollBottom","scrollToBottom","ArrowDown","scrollTop","canTyping","isRecord","setCordMessageScroll","loadingFiles","inputPanel","activePage","canLoadAttach","scroll","messagesBlock","classList","contains","add","remove","unRead","left","messageBlock","topCord","offsetTop","loadToVictory","clearTimeout","blurPage","focusPage","drafts","localStorage","getItem","setText","controlGif","newText","prevText","typingDialog","test","setItem","xhr","XMLHttpRequest","responseType","onprogress","percentage","loaded","total","onerror","onabort","onload","addFile","recursiveLoad","setRequestHeader","send","InputFile","newFiles","fileUrl","fileBlob","getAudioBufferData","webkitURL","Blob","audioData","renderTrackHorizontal","renderThumbHorizontal","ProgressBar","musicSvg","geoArticlesGet","GEOARTICLES_GET","GeoDetect","sendRequestLocation","hash","GeoActions","lastCarrierLocation","coordinates","fromLocation","modules","iconColor","properties","hintContent","iconCaption","balloonContentHeader","balloonContentBody","я","iconLayout","iconImageHref","geolocation","toHM","toLocation","geoarticles","Page","isPrivate","dangerouslySetInnerHTML","__html","Questions","questionsRef","PublicComponents","TakingArticles","CreateTemplateAuto","NewOffer","NewOrder","Reviwes","TarifLk","DialogOrder"],"mappings":"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","file":"static/js/8.47c899ef.chunk.js","sourcesContent":["import { extraParams } from \"./baseInfo/carParams\";\r\nexport default [\r\n  {\r\n    key: \"orderSearch\",\r\n    title: (options) =>\r\n      \"Найти заказ на перевозку груза | Pogrooz - Попутные перевозки\",\r\n    descriptions: (options) =>\r\n      `${\r\n        options.city && options.count\r\n          ? `${options.count} заказов на перевозку груза из ${options.city}.`\r\n          : `Заказы на перевозку груза по Росcии.`\r\n      } На Pogrooz Вы можете найти подходящий заказ на перевозку груза, выбрав предложения без посредников. Цены на грузоперевозку. Объявления от клиентов напрямую: поиск по городу, области, улице, дому, весу, объему, типу груза и другим параметрам.`,\r\n  },\r\n  {\r\n    key: \"offerSearch\",\r\n    title: () =>\r\n      \"Найти предложение или водителя на перевозку груза | Pogrooz - Попутные перевозки\",\r\n    descriptions: (options) =>\r\n      `${\r\n        options.city && options.count\r\n          ? `${options.count} предложений на перевозку груза из ${options.city}.`\r\n          : `Предложения на перевозку груза по Росcии`\r\n      } На Pogrooz Вы можете найти подходящего водителя на перевозку груза, выбрав предложения без посредников. Цены на грузоперевозку. Объявления от водителей напрямую: поиск по городу, области, улице, дому, весу, объему, типу груза и другим параметрам.`,\r\n  },\r\n  {\r\n    key: \"order\",\r\n    title: (options) =>\r\n      `Заказ на перевозку груза: из ${options.start} до ${options.finish}${\r\n        options.date ? \" в\" + options.date : \"\"\r\n      } | Найти заказ на перевозку груза | Pogrooz`,\r\n    descriptions: (options) =>\r\n      `Заказ на перевозку груза:из ${options.start} до ${options.finish}${\r\n        options.date ? \" в\" + options.date : \"\"\r\n      }.  ${options.tags.map((item, index, all) => {\r\n        return (\r\n          extraParams.find((itemX) => item.id === itemX.id).name +\r\n          (all.length - 1 === index ? \".\" : \"\")\r\n        );\r\n      })} Самые ВЫГОДНЫЕ ЗАКАЗЫ на перевозку груза на Pogrooz. ${\r\n        options.comment\r\n      }`,\r\n  },\r\n  {\r\n    key: \"offer\",\r\n    title: (options) =>\r\n      `Предложение на перевозку груза: из ${options.start} до ${\r\n        options.finish\r\n      }${\r\n        options.date ? \" в\" + options.date : \"\"\r\n      } | Найти водителя на перевозку груза | Pogrooz`,\r\n    descriptions: (options) =>\r\n      `Предложение на перевозку груза:из ${options.start} до ${options.finish}${\r\n        options.date ? \" в\" + options.date : \"\"\r\n      }. ${options.tags.map((item, index, all) => {\r\n        return (\r\n          extraParams.find((itemX) => item.id === itemX.id).name +\r\n          (all.length - 1 === index ? \".\" : \"\")\r\n        );\r\n      })} Самые ВЫГОДНЫЕ ПРЕДЛОЖЕНИЯ и ЛУЧШИЕ ВОДИТЕЛИ на перевозку груза на Pogrooz. ${\r\n        options.comment\r\n      }`,\r\n  },\r\n  {\r\n    key: \"user\",\r\n    title: (options) =>\r\n      `Профиль пользователя ${options.fio} на сайте Pogrooz. Контакты, свежие заказы (или предложения) на перевозку, история и рейтинг пользователя.`,\r\n    descriptions: (options) =>\r\n      `${options.fio}, ${options.type}, рейтинг:${options.rating}${\r\n        options.address ? \", \" + options.address : \".\"\r\n      }`,\r\n  },\r\n  {\r\n    key: \"faq\",\r\n    title: (options) =>\r\n      `Частые вопросы о портале | Pogrooz - Попутные перевозки.`,\r\n    descriptions: (options) =>\r\n      `Что такое PoGrooz?Попутные грузоперевозки с PoGrooz – это шаг в будущее удобных грузоперевозок. Зачем заказывать услуги транспортных компаний и переплачивать за перевозку, когда можно найти попутную машину и договриться с водителе напрямую! Зачем бесконечно регистрироваться на сайтах объявлений или отдавать большую часть прибыли компании, когда можно один раз зарегистрироваться на сайте PoGrooz или в приложении PoGrooz и искать грузовладельцев быстро и просто!`,\r\n  },\r\n  {\r\n    key: \"questions\",\r\n    title: (options) =>\r\n      `${options.partial} | Частые вопросы о портале | Pogrooz - Попутные перевозки.`,\r\n    descriptions: (options) => `${options.text}`,\r\n  },\r\n  {\r\n    key: \"tariffs\",\r\n    title: (options) => `Тарифы для подключения водителей PoGrooz`,\r\n    descriptions: (options) =>\r\n      `Оптимальный Тариф PRO в размере 140 руб в неделю. Тариф рассчитывается понедельно. При регистрации перевозчика он может активировать Тариф ДЕМО режим на 1 неделю. Далее необходимо продлить тариф. Историю и данные по текущему тарифу Вы можете посмотреть на странице Тарифы. У вас есть возможность купить тариф (на 1 неделю, месяц, 3 месяца, полгода и год). При оплате Тарифа PRO от 3 до 12 месяцев дается скидка от 10 до 20%.`,\r\n  },\r\n  {\r\n    key: \"cargo\",\r\n    title: (options) =>\r\n      `БЕСПЛАТНО найти предложение или водителя на перевозку груза | Pogrooz - Попутные перевозки.`,\r\n    descriptions: (options) =>\r\n      `Более 100 предложений на перевозку груза в Вашем городе! На Pogrooz Вы можете найти подходящего водителя на перевозку груза, выбрав предложения без посредников. Цены на грузоперевозку. Объявления от водителей напрямую: поиск по городу, области, улице, дому, весу, объему, типу груза и другим параметрам.`,\r\n  },\r\n  {\r\n    key: \"carrier\",\r\n    title: (options) =>\r\n      `Найти заказ на перевозку груза БЫСТРО и НАДЕЖНО | Pogrooz - Попутные перевозки.`,\r\n    descriptions: (options) =>\r\n      `Более 100 предложений на перевозку груза в Вашем городе! На Pogrooz Вы можете найти подходящий заказ на перевозку груза, выбрав предложения без посредников. Цены на грузоперевозку. Объявления от заказчиков напрямую: поиск по городу, области, улице, дому, весу, объему, типу груза и другим параметрам.`,\r\n  },\r\n];\r\n","// App\r\nimport React from \"react\";\r\nimport metaX from \"../config/meta\";\r\nimport { Helmet } from \"react-helmet\";\r\nclass orgSelect extends React.Component {\r\n  render() {\r\n    let meta = metaX.find((item) => item.key === this.props.keyMeta);\r\n\r\n    return (\r\n      <Helmet>\r\n        <title>{meta.title(this.props.options)}</title>\r\n        <meta name=\"title\" content={meta.title(this.props.options)} />\r\n        <meta\r\n          name=\"description\"\r\n          content={meta.descriptions(this.props.options)}\r\n        />\r\n        <link\r\n          rel=\"canonical\"\r\n          href={\r\n            window.location.protocol +\r\n            \"//\" +\r\n            window.location.host +\r\n            window.location.pathname\r\n          }\r\n        />\r\n      </Helmet>\r\n    );\r\n  }\r\n}\r\n\r\nexport default orgSelect;\r\n","export function getHM(date) {\r\n  var time = new Date(date);\r\n\r\n  var hours = time.getHours();\r\n  var minutes = time.getMinutes();\r\n\r\n  if (minutes.toString().length === 1) {\r\n    minutes = \"0\" + minutes;\r\n  }\r\n  if (hours.toString().length === 1) {\r\n    hours = \"0\" + hours;\r\n  }\r\n\r\n  return hours + \":\" + minutes;\r\n}\r\n\r\nexport function timeAt(date) {\r\n  var time = new Date(date);\r\n\r\n  var day_diff = new Date().getDate() - time.getDate(),\r\n    month_diff = new Date().getMonth() - time.getMonth(),\r\n    year_diff = new Date().getFullYear() - time.getFullYear();\r\n  var year = time.getFullYear(),\r\n    month = time.getMonth() + 1,\r\n    day = time.getDate();\r\n\r\n  if (year_diff > 0)\r\n    return (\r\n      year.toString() +\r\n      \".\" +\r\n      (month < 10 ? \"0\" + month.toString() : month.toString()) +\r\n      \".\" +\r\n      (day < 10 ? \"0\" + day.toString() : day.toString())\r\n    );\r\n\r\n  var arr = [\r\n    \"Янв.\",\r\n    \"Фев.\",\r\n    \"Мар.\",\r\n    \"Апр.\",\r\n    \"Май\",\r\n    \"Июн.\",\r\n    \"Июл.\",\r\n    \"Авг.\",\r\n    \"Сен.\",\r\n    \"Окт.\",\r\n    \"Ноя.\",\r\n    \"Дек.\",\r\n  ];\r\n\r\n  var r =\r\n    (day_diff === 0 && month_diff === 0 && \"Сегодня\") ||\r\n    (day_diff === 1 && month_diff === 0 && \"Вчера\") ||\r\n    (year_diff === 0 && day + \" \" + arr[month - 1]);\r\n  return r;\r\n}\r\n\r\nexport function LastMessageDate(timeR) {\r\n  var time = new Date(timeR);\r\n\r\n  var hours = time.getHours();\r\n  var minutes = time.getMinutes();\r\n\r\n  if (minutes.toString().length === 1) {\r\n    minutes = \"0\" + minutes;\r\n  }\r\n  if (hours.toString().length === 1) {\r\n    hours = \"0\" + hours;\r\n  }\r\n\r\n  var day_diff = new Date().getDate() - time.getDate(),\r\n    month_diff = new Date().getMonth() - time.getMonth(),\r\n    year_diff = new Date().getFullYear() - time.getFullYear();\r\n  var year = time.getFullYear(),\r\n    month = time.getMonth() + 1,\r\n    day = time.getDate();\r\n\r\n  if (year_diff > 0)\r\n    return (\r\n      (day < 10 ? \"0\" + day.toString() : day.toString()) +\r\n      \".\" +\r\n      (month < 10 ? \"0\" + month.toString() : month.toString()) +\r\n      \".\" +\r\n      year.toString()\r\n    );\r\n\r\n  var arr = [\r\n    \"Янв.\",\r\n    \"Фев.\",\r\n    \"Мар.\",\r\n    \"Апр.\",\r\n    \"Май\",\r\n    \"Июн.\",\r\n    \"Июл.\",\r\n    \"Авг.\",\r\n    \"Сен.\",\r\n    \"Окт.\",\r\n    \"Ноя.\",\r\n    \"Дек.\",\r\n  ];\r\n\r\n  var r =\r\n    (day_diff === 0 && month_diff === 0 && hours + \":\" + minutes) ||\r\n    (day_diff === 1 && month_diff === 0 && \"Вчера\") ||\r\n    (year_diff === 0 && day + \" \" + arr[month - 1]);\r\n\r\n  return r;\r\n}\r\n\r\nexport function OnlineDate(timeR) {\r\n  var time = new Date(timeR);\r\n\r\n  var hours = time.getHours();\r\n  var minutes = time.getMinutes();\r\n\r\n  if (minutes.toString().length === 1) {\r\n    minutes = \"0\" + minutes;\r\n  }\r\n  if (hours.toString().length === 1) {\r\n    hours = \"0\" + hours;\r\n  }\r\n\r\n  var diff = (new Date().getTime() - time.getTime()) / 1000,\r\n    day_diff = new Date().getDay() - time.getDay();\r\n  var month_diff = new Date().getMonth() + 1 - (time.getMonth() + 1);\r\n  var year = time.getFullYear(),\r\n    month = time.getMonth() + 1,\r\n    day = time.getDate();\r\n\r\n  if (isNaN(day_diff) || day_diff < 0 || month_diff >= 1)\r\n    return (\r\n      year.toString() +\r\n      \".\" +\r\n      (month < 10 ? \"0\" + month.toString() : month.toString()) +\r\n      \".\" +\r\n      (day < 10\r\n        ? \"0\" + day.toString() + \" in \" + hours + \":\" + minutes\r\n        : day.toString() + \" in \" + hours + \":\" + minutes)\r\n    );\r\n\r\n  var r =\r\n    (day_diff === 0 &&\r\n      ((diff < 60 && \"Только что\") ||\r\n        (diff < 120 && \"1 минуту назад\") ||\r\n        (diff < 3600 && Math.floor(diff / 60) + \"минут. назад\") ||\r\n        (diff < 7200 && \"1 час назад\") ||\r\n        (diff < 86400 && Math.floor(diff / 3600) + \"часов назад\"))) ||\r\n    (day_diff === 1 && \"Вчера в\" + hours + \":\" + minutes) ||\r\n    (day_diff < 7 && day_diff + \"дн. назад в\" + hours + \":\" + minutes) ||\r\n    (day_diff < 31 &&\r\n      Math.ceil(day_diff / 7) + \"недел. в\" + hours + \":\" + minutes);\r\n  return r;\r\n}\r\nexport function prettyDate(num) {\r\n  /**\r\n   * Определяет правильное с точки зрения русского языка окончание месяца\r\n   * @param int $num\r\n   * @param array $postfixes\r\n   * @return string\r\n   */\r\n  function postfix(num, postfixes) {\r\n    //Делим число без остатка на 100\r\n    num = num % 100;\r\n\r\n    //Если больше 19, делим его без остатка ещё раз, уже на 10\r\n    if (num > 19) {\r\n      num = num % 10;\r\n    }\r\n\r\n    //В зависимости от того, какие числа остались, возвращаем значения\r\n    switch (num) {\r\n      case 1:\r\n        return postfixes[0];\r\n\r\n      case 2:\r\n      case 3:\r\n      case 4:\r\n        return postfixes[1];\r\n\r\n      default:\r\n        return postfixes[2];\r\n    }\r\n  }\r\n\r\n  //Определяем массивы с годами и месяцами\r\n  var yearsPostfixes = [\"год\", \"года\", \"лет\"],\r\n    monthesPostfixes = [\"месяц\", \"месяца\", \"месяцев\"];\r\n\r\n  //Делим начальное число без остатка на 12, получаем количество месяцев\r\n  var monthes = num % 12,\r\n    //Отнимаем из начального числа количество месяцев и делим это на 12,\r\n    //получаем количество лет\r\n    years = (num - monthes) / 12;\r\n\r\n  //Возвращаем результат postfix() зависимости от значений $years и $monthes\r\n  if (years === 0) {\r\n    return monthes + \" \" + postfix(monthes, monthesPostfixes);\r\n  }\r\n\r\n  if (monthes === 0) {\r\n    return years + \" \" + postfix(years, yearsPostfixes);\r\n  }\r\n\r\n  return (\r\n    years +\r\n    \" \" +\r\n    postfix(years, yearsPostfixes) +\r\n    \" \" +\r\n    monthes +\r\n    \" \" +\r\n    postfix(monthes, monthesPostfixes)\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loading from \"../Elements/Loading\";\r\nimport { connect } from \"react-redux\";\r\nimport api from \"../config/api\";\r\n\r\nclass FaqRow extends React.Component {\r\n  state = {\r\n    sections: [],\r\n    isFething: true,\r\n  };\r\n  componentDidMount() {\r\n    this.setState({ isFething: true }, () => {\r\n      fetch(`${api.urlApi}/api/page/questions`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          type: this.props.type ? this.props.type : \"all\",\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then(({ sections }) => {\r\n          if (sections)\r\n            this.setState({\r\n              sections: sections,\r\n              isFething: false,\r\n            });\r\n        });\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"faq-questions row\">\r\n        <Loading isLoading={this.state.isFething} />\r\n        {!this.state.isFething &&\r\n          this.state.sections.map((section, index) => {\r\n            let view = false;\r\n\r\n            let q = this.props.q.split(\" \");\r\n\r\n            if (\r\n              section.questions.find((x) => {\r\n                for (let i = 0; i < q.length; i++) {\r\n                  if (\r\n                    !(\r\n                      ~x.title.toLowerCase().indexOf(q[i].toLowerCase()) ||\r\n                      q[i] === 0\r\n                    ) &&\r\n                    !(\r\n                      ~x.content.toLowerCase().indexOf(q[i].toLowerCase()) ||\r\n                      q[i] === 0\r\n                    )\r\n                  )\r\n                    return false;\r\n                }\r\n                return true;\r\n              })\r\n            )\r\n              view = true;\r\n            else view = false;\r\n            if (this.props.q.length === 0) {\r\n              view = true;\r\n            }\r\n\r\n            return (\r\n              view && (\r\n                <div\r\n                  className=\"faq-question col-12 col-sm-6 col-md-4 col-lg-3\"\r\n                  key={index}\r\n                >\r\n                  <h4>{section.title}</h4>\r\n                  <ul>\r\n                    {section.questions.map((question, index) => {\r\n                      let view = false;\r\n                      let q = this.props.q.split(\" \");\r\n\r\n                      for (let i = 0; i < q.length; i++) {\r\n                        if (\r\n                          ~question.title\r\n                            .toLowerCase()\r\n                            .indexOf(q[i].toLowerCase() || q[i]) ||\r\n                          ~question.content\r\n                            .toLowerCase()\r\n                            .indexOf(q[i].toLowerCase() || q[i])\r\n                        ) {\r\n                          view = true;\r\n                        } else {\r\n                          view = false;\r\n                          break;\r\n                        }\r\n                      }\r\n\r\n                      if (this.props.q.length === 0) {\r\n                        view = true;\r\n                      }\r\n\r\n                      return (\r\n                        view && (\r\n                          <li key={index}>\r\n                            <Link\r\n                              to={`${\r\n                                this.props.user.isAuth && this.props.type\r\n                                  ? \"/lk\"\r\n                                  : \"\"\r\n                              }/questions/${section.slug}#${question._id}`}\r\n                            >\r\n                              {question.title}\r\n                            </Link>\r\n                          </li>\r\n                        )\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              )\r\n            );\r\n          })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(FaqRow);\r\n","// App\r\nimport React from \"react\";\r\nimport Slider from \"../Elements/Slider\";\r\n// Elements\r\nimport Button from \"../Elements/Button\";\r\nimport { prettyDate } from \"../controllers/TimeController\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Loading from \"../Elements/Loading\";\r\nimport LoadingFixed from \"../Elements/LoadingFixed\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport { toast } from \"react-toastify\";\r\nimport api from \"../config/api\";\r\n\r\nclass Tariffs extends React.Component {\r\n  state = {\r\n    tariffs: false,\r\n    isFetching: true,\r\n  };\r\n  bayTariff = (tariff) => {\r\n    this.setState({ isFetching: true }, () => {\r\n      fetch(`${api.urlApi}/api/tariffs/buy`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          tariffId: tariff._id,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then(({ response, error }) => {\r\n          if (!error) {\r\n            if (response.formUrl) {\r\n              window.open(response.formUrl);\r\n            } else {\r\n              this.setState({ isFetching: false });\r\n            }\r\n          }\r\n        });\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    fetch(`${api.urlApi}/api/tariffs/`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ tariffs }) => {\r\n        this.setState({ isFetching: false, tariffs: tariffs });\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Loading isLoading={this.state.isFetching && !this.state.tariffs} />\r\n        <LoadingFixed isLoading={this.state.isFetching && this.state.tariffs} />\r\n        <CSSTransitionGroup\r\n          transitionName=\"height-animation-item\"\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={1}\r\n          style={{\r\n            display: \"contents\",\r\n          }}\r\n        >\r\n          {this.state.tariffs && (\r\n            <>\r\n              <div\r\n                id=\"tariffs\"\r\n                className={`tariffs-list position-relative ${this.props.className}`}\r\n              >\r\n                <Slider>\r\n                  {this.state.tariffs &&\r\n                    this.state.tariffs.map((item, index) => {\r\n                      let priceWithSale = item.discount\r\n                        ? item.price - item.price * (item.discount / 100)\r\n                        : item.price;\r\n                      let duration;\r\n                      if (item.duration <= 28) {\r\n                        duration = item.duration / 7;\r\n                        if (duration > 1) duration += \" недели\";\r\n                        else duration += \" неделя\";\r\n                      }\r\n                      if (item.duration > 28) {\r\n                        duration = prettyDate(item.duration / 30);\r\n                      }\r\n                      return (\r\n                        <div\r\n                          key={index}\r\n                          className={`tariff-wrapper ${\r\n                            this.props.user.isAuth && item.isDemo\r\n                              ? \"isDemoUsed\"\r\n                              : \"\"\r\n                          }`}\r\n                        >\r\n                          <div\r\n                            className={`tariff ${\r\n                              !!item.discount ? `yellow` : ``\r\n                            }`}\r\n                          >\r\n                            <div className=\"info\">\r\n                              <div className=\"d-flex justify-content-between\">\r\n                                <span className=\"name\">{item.name}</span>\r\n                                {!!item.discount && (\r\n                                  <span className=\"withoutSale\">\r\n                                    {\" \"}\r\n                                    {item.price} руб{\" \"}\r\n                                  </span>\r\n                                )}\r\n                              </div>\r\n                              <span className=\"price\">\r\n                                {!!priceWithSale\r\n                                  ? priceWithSale + \" руб\"\r\n                                  : \"Бесплатно\"}\r\n                              </span>\r\n\r\n                              <span className=\"sale\">\r\n                                {!!item.discount && (\r\n                                  <>Скидка {item.discount}% </>\r\n                                )}\r\n                              </span>\r\n\r\n                              <div className=\"tags\">\r\n                                <span className=\"left-angle mt-1\">\r\n                                  {duration}\r\n                                </span>\r\n                                {item.isDemo && (\r\n                                  <span className=\"left-angle mt-1\">\r\n                                    Может быть использован 1 раз\r\n                                  </span>\r\n                                )}\r\n                                {!item.isDemo && (\r\n                                  <span className=\"left-angle mt-1\">\r\n                                    {priceWithSale / item.duration} руб в день\r\n                                  </span>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                              <Button\r\n                                type={`${item.discount ? `empty` : `fill`}  `}\r\n                                className={`${\r\n                                  item.discount ? `yellow-after` : ``\r\n                                } `}\r\n                                onClick={() => {\r\n                                  if (!this.props.user.isAuth)\r\n                                    this.props.history.push(\"/register\");\r\n                                  else if (!item.isDemo) {\r\n                                    this.bayTariff(item);\r\n                                  }\r\n                                }}\r\n                                paddingVertical=\"4px\"\r\n                              >\r\n                                {!this.props.user.isAuth &&\r\n                                  item.isDemo &&\r\n                                  \"Активировать\"}\r\n                                {this.props.user.isAuth &&\r\n                                  item.isDemo &&\r\n                                  (!this.props.user.tariff ||\r\n                                    !this.props.user.tariff.isDemo) &&\r\n                                  \"Использован\"}\r\n                                {this.props.user.isAuth &&\r\n                                  this.props.user.tariff &&\r\n                                  this.props.user.tariff.isDemo &&\r\n                                  item.isDemo &&\r\n                                  \"Активен\"}\r\n                                {!item.isDemo && \"Оплатить\"}\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </Slider>\r\n              </div>\r\n            </>\r\n          )}\r\n        </CSSTransitionGroup>\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(Tariffs));\r\n","// App\r\nimport React from \"react\";\r\n\r\n// Router\r\nimport FaqRow from \"../../Partials/FaqRow\";\r\n// Elemnts\r\nimport Input from \"../../Elements/Input\";\r\nimport Meta from \"../../Elements/Meta\";\r\n\r\nclass FAQ extends React.Component {\r\n  state = {\r\n    q: \"\",\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={`faq-page`}>\r\n        <Meta keyMeta=\"faq\" options={{}} />\r\n        <div className=\"container-fluid\">\r\n          <h2 className=\"faq-title\">Часто задаваемые вопросы</h2>\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <Input\r\n                type=\"text\"\r\n                placeholder=\"Что ищем?\"\r\n                value={this.state.q}\r\n                onChange={(e) => {\r\n                  this.setState({ q: e.target.value });\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <FaqRow q={this.state.q} type={this.props.type} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FAQ;\r\n","// App\r\nimport React from \"react\";\r\n//PHONE\r\nimport ReactPhoneInput from \"react-phone-input-2\";\r\nimport Button from \"../Elements/Button\";\r\nimport Input from \"../Elements/Input\";\r\nimport api from \"../config/api\";\r\nimport LoadingFixed from \"../Elements/LoadingFixed\";\r\nimport { toast } from \"react-toastify\";\r\nclass InputPhone extends React.Component {\r\n  state = {\r\n    isSend: false,\r\n    timer: false,\r\n    disabled: false,\r\n    code: false,\r\n    codeHash: false,\r\n    isUnique: false,\r\n    isFetching: false,\r\n    isUniqueCanDo: true,\r\n  };\r\n  refresh = () => {\r\n    this.setState({\r\n      isSend: false,\r\n      timer: false,\r\n      disabled: false,\r\n      code: false,\r\n      codeHash: false,\r\n      isFetching: false,\r\n      isUniqueCanDo: true,\r\n    });\r\n  };\r\n  sendSMS = () => {\r\n    if (\r\n      this.props.value.length === 11 &&\r\n      this.state.isUnique &&\r\n      !this.state.isFetching\r\n    ) {\r\n      this.setState(\r\n        {\r\n          isSend: true,\r\n          disabled: true,\r\n          timer: 60,\r\n          isFetching: true,\r\n        },\r\n        () => {\r\n          fetch(`${api.urlApi}/auth/smsSend`, {\r\n            method: \"post\",\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n              phone: this.props.value,\r\n            }),\r\n          })\r\n            .then((response) => response.json())\r\n            .then(({ error, code }) => {\r\n              if (error) {\r\n                toast.error(\r\n                  \"Сообщение не доставлено. Свяжитесь с админстратором!\"\r\n                );\r\n                this.props.setVerified(false);\r\n                this.refresh();\r\n              } else {\r\n                this.setState({ isFetching: false, codeHash: code });\r\n                let Interval = setInterval(async () => {\r\n                  if (!!this.state.timer)\r\n                    this.setState({\r\n                      timer: this.state.timer - 1,\r\n                    });\r\n                  else {\r\n                    clearInterval(Interval);\r\n                    this.props.setVerified(false);\r\n                    this.refresh();\r\n                  }\r\n                }, 1000);\r\n              }\r\n            });\r\n        }\r\n      );\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <LoadingFixed isLoading={this.state.isFetching} />\r\n        <div\r\n          className=\"col \"\r\n          style={{\r\n            paddingBottom:\r\n              !this.state.isUnique &&\r\n              this.props.value.length === 11 &&\r\n              !this.state.isFetching &&\r\n              !this.state.isUniqueCanDo\r\n                ? \"15px\"\r\n                : \"0px\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"contents\",\r\n              position: \"relative\",\r\n            }}\r\n          >\r\n            <ReactPhoneInput\r\n              inputExtraProps={{\r\n                name: \"phone\",\r\n              }}\r\n              disabled={this.state.disabled}\r\n              country={\"ru\"}\r\n              disableDropdown={false}\r\n              style={this.props.style}\r\n              inputClass={`col input-text ${this.props.className} ${\r\n                this.props.error ? \"input-error\" : \"\"\r\n              }`}\r\n              specialLabel={false}\r\n              placeholder={this.props.placeholder}\r\n              value={this.props.value}\r\n              on\r\n              onChange={(val) => {\r\n                if (!this.state.isSend) {\r\n                  if (val.length < this.props.value.length)\r\n                    this.setState({ isUnique: false, isUniqueCanDo: true });\r\n                  console.log(\r\n                    val != this.props.value,\r\n                    val.length === 11,\r\n                    !this.state.isUnique,\r\n                    this.state.isUniqueCanDo\r\n                  );\r\n                  if (val != this.props.value && val.length === 11) {\r\n                    this.setState({ isFetching: true }, () => {\r\n                      fetch(`${api.urlApi}/auth/uniquePhone`, {\r\n                        method: \"post\",\r\n                        headers: {\r\n                          Accept: \"application/json\",\r\n                          \"Content-Type\": \"application/json\",\r\n                        },\r\n                        body: JSON.stringify({\r\n                          phone: val,\r\n                        }),\r\n                      })\r\n                        .then((response) => response.json())\r\n                        .then(({ error, unique }) => {\r\n                          this.setState({\r\n                            isUnique: unique,\r\n                            isFetching: false,\r\n                            isUniqueCanDo: false,\r\n                          });\r\n                        });\r\n                    });\r\n                  }\r\n                  this.props.onChange(val);\r\n                }\r\n              }}\r\n            />\r\n            {!this.state.isUnique &&\r\n              this.props.value.length === 11 &&\r\n              !this.state.isFetching &&\r\n              !this.state.isUniqueCanDo && (\r\n                <span className=\"input-error-label\">\r\n                  Этот номер уже используется\r\n                </span>\r\n              )}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"col-12 col-sm-4 text-right mt-3 mt-sm-0 verified-field\"\r\n          style={{\r\n            alignSelf: \"flex-start\",\r\n          }}\r\n        >\r\n          {this.props.isVerified === false && !this.state.isSend && (\r\n            <Button\r\n              paddingVertical={\"8px\"}\r\n              disable={\r\n                this.props.value.length !== 11 &&\r\n                this.state.isUnique &&\r\n                !this.state.isFetching\r\n              }\r\n              type=\"empty\"\r\n              onClick={this.sendSMS}\r\n            >\r\n              Получить код\r\n            </Button>\r\n          )}\r\n          {!(\r\n            this.props.isVerified === \"success\" ||\r\n            this.props.isVerified === \"error\"\r\n          ) &&\r\n            this.state.isSend && (\r\n              <div\r\n                style={{\r\n                  display: \"contents\",\r\n                  position: \"relative\",\r\n                }}\r\n              >\r\n                <Input\r\n                  type=\"text\"\r\n                  className=\"input-error\"\r\n                  value={this.state.code || \"\"}\r\n                  placeholder=\"Код\"\r\n                  onChange={(e) => {\r\n                    if (e.target.value.length <= 4 && !this.state.isFetching)\r\n                      this.setState(\r\n                        {\r\n                          code: e.target.value,\r\n                        },\r\n                        () => {\r\n                          if (this.state.code.length === 4) {\r\n                            fetch(`${api.urlApi}/auth/compareCode`, {\r\n                              method: \"post\",\r\n                              headers: {\r\n                                Accept: \"application/json\",\r\n                                \"Content-Type\": \"application/json\",\r\n                              },\r\n                              body: JSON.stringify({\r\n                                codeHash: this.state.codeHash,\r\n                                code: this.state.code,\r\n                              }),\r\n                            })\r\n                              .then((response) => response.json())\r\n                              .then((compare) => {\r\n                                if (compare) this.props.setVerified(\"success\");\r\n                                else this.props.setVerified(\"error\");\r\n                              });\r\n                          }\r\n                        }\r\n                      );\r\n                  }}\r\n                ></Input>\r\n                <span className=\"input-error-label\">\r\n                  Осталось {this.state.timer} сек\r\n                </span>\r\n              </div>\r\n            )}\r\n          {this.props.isVerified === \"success\" && \"Подтвержден\"}\r\n          {this.props.isVerified === \"error\" &&\r\n            `Повторно отправить смс можно через ${this.state.timer}`}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InputPhone;\r\n","module.exports = __webpack_public_path__ + \"static/media/attachDelete.661f2d69.svg\";","module.exports = \"data:image/gif;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/document.26436f4e.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload.b3aa4b4b.svg\";","module.exports = __webpack_public_path__ + \"static/media/redWarning.8c82077a.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAIAAAD9b0jDAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAACxMAAAsTAQCanBgAAAXRaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0NSA3OS4xNjM0OTksIDIwMTgvMDgvMTMtMTY6NDA6MjIgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDctMTVUMTM6NDY6NDcrMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDctMTVUMTM6NDY6NDcrMDU6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA3LTE1VDEzOjQ2OjQ3KzA1OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmIyODg4NmRkLWIzYTYtZTE0MS1hZDliLTA4MzExMWI5MTlmOCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjZjMzkxZTczLTljZmItZTc0NC05YTU4LTZkYTk4ZWYxOWM3ZiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjZjNDk5YTgzLTUwYWEtYjg0NC05NThhLWM4NDk4MThjNTA2MCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjZjNDk5YTgzLTUwYWEtYjg0NC05NThhLWM4NDk4MThjNTA2MCIgc3RFdnQ6d2hlbj0iMjAyMC0wNy0xNVQxMzo0Njo0NyswNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiMjg4ODZkZC1iM2E2LWUxNDEtYWQ5Yi0wODMxMTFiOTE5ZjgiIHN0RXZ0OndoZW49IjIwMjAtMDctMTVUMTM6NDY6NDcrMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6O3D40AAABPklEQVRIiZXWS1qDMBQF4BPyKC20dQWu0VW6E4cOLGBrckkc6KClSQ4wgnDzw/kuAdT72wy2TR/p55PU9K/KvfzvN1RMETKSmsbB9HeHFJURsyc1tkNjtqB+SEgMPav7Q4ImQbgQsXGw3eNIfUKYEANB3QlKb0H9F0uuYI9qMVZDo0AmYuodTLccrKEyIgpBbQ/1ZNTQVX0/LbPX0BggAxF1C3PIjBfRsCK7O2WyV1HWd9XksxfR6BFo31uYff5UHvUDEnt52R7I32gWTZCBdb3Q9yI6r8huDsXseTSMPLs7q1L2Akr7rmGPtYIlOt/4ejd76HYL6i9IdGk+vZaqaIKMa555ctUHVG6QbzLBdNC7LWgYkCKZ4MqPZw5NK/puSN+XqFwhV1JtOzRuC8o/R9WlmUfpb4gysD2p+dt+AVLLbXKbIUIXAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/music.21255322.svg\";","module.exports = __webpack_public_path__ + \"static/media/carGeo.e6f14e2e.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.8196 15.9959C15.3227 16.4765 14.8794 16.8218 14.3988 16.325L10.5758 12.3727L6.62347 16.1957C6.12752 16.6754 5.69502 16.3164 5.21443 15.8195C4.73384 15.3227 4.38939 14.8785 4.88533 14.3988L8.83764 10.5757L5.01461 6.62344C4.53489 6.12749 4.89391 5.695 5.39076 5.2144C5.88761 4.73381 6.3318 4.38936 6.81153 4.88531L10.6346 8.83761L14.5869 5.01459C15.0837 4.53399 15.5153 4.89389 15.9959 5.39073C16.4765 5.88758 16.8218 6.3309 16.325 6.8115L12.3727 10.6345L16.1957 14.5868C16.6763 15.0837 16.3164 15.5153 15.8196 15.9959Z\",\n  fill: \"#DD2828\"\n});\n\nvar SvgRedClose = function SvgRedClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgRedClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/redClose.c38d47cf.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.21264 10.4338C5.08206 10.434 4.95274 10.4054 4.83211 10.3496C4.71148 10.2938 4.60191 10.212 4.50971 10.1088L0.291161 5.40217C0.198852 5.29918 0.125628 5.17692 0.0756703 5.04235C0.0257128 4.90779 9.7264e-10 4.76357 0 4.61792C-9.72639e-10 4.47227 0.0257128 4.32804 0.0756703 4.19348C0.125628 4.05892 0.198852 3.93665 0.291161 3.83366C0.383471 3.73067 0.493058 3.64897 0.613666 3.59324C0.734275 3.5375 0.863542 3.50881 0.994087 3.50881C1.12463 3.50881 1.2539 3.5375 1.37451 3.59324C1.49512 3.64897 1.6047 3.73067 1.69701 3.83366L5.21264 7.75605L11.713 0.503621C11.8053 0.400631 11.9149 0.318935 12.0355 0.263198C12.1561 0.20746 12.2853 0.178772 12.4159 0.178772C12.5464 0.178772 12.6757 0.20746 12.7963 0.263198C12.9169 0.318935 13.0265 0.400631 13.1188 0.503621C13.2111 0.606611 13.2843 0.728878 13.3343 0.863441C13.3843 0.998004 13.41 1.14223 13.41 1.28788C13.41 1.43353 13.3843 1.57775 13.3343 1.71231C13.2843 1.84688 13.2111 1.96914 13.1188 2.07213L5.91556 10.1088C5.82336 10.212 5.71379 10.2938 5.59316 10.3496C5.47253 10.4054 5.34321 10.434 5.21264 10.4338Z\",\n  fill: \"#909090\"\n});\n\nvar SvgGreyAngle = function SvgGreyAngle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 11,\n    viewBox: \"0 0 14 11\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGreyAngle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/greyAngle.abff42d2.svg\";\nexport { ForwardRef as ReactComponent };","export default [\r\n  {\r\n    value: 1,\r\n    label: \"Россия\",\r\n  },\r\n  {\r\n    value: 2,\r\n    label: \"Америка\",\r\n  },\r\n  {\r\n    value: 3,\r\n    label: \"Китай\",\r\n  },\r\n];\r\n","// App\r\nimport React from \"react\";\r\nimport ConfigSettings from \"../../config/settings\";\r\n// Elements\r\nimport Button from \"../../Elements/Button\";\r\nimport InputPhone from \"../../Elements/InputPhone\";\r\nimport Input from \"../../Elements/Input\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Fancybox from \"../../Elements/Fancybox.js\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport CheckBox from \"../../Elements/CheckBox\";\r\nimport Select from \"../../Elements/Select\";\r\nimport { toast } from \"react-toastify\";\r\nimport AdressSelect from \"../../Elements/AdressSelect\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport * as userActions from \"../../redux/actions/user\";\r\nimport { bindActionCreators } from \"redux\";\r\n//IMGS\r\nimport { ReactComponent as Passport } from \"../../img/passport.svg\";\r\nimport { ReactComponent as RedClose } from \"../../img/redClose.svg\";\r\nimport { ReactComponent as GreyAngle } from \"../../img/greyAngle.svg\";\r\nimport upload from \"../../img/upload.svg\";\r\nimport { contractParams } from \"../../config/baseInfo/carParams\";\r\nimport countryList from \"../../config/countryList\";\r\nclass Profile extends React.Component {\r\n  state = {\r\n    firstName: \"\",\r\n    middleName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    isVerified: false,\r\n    contract: {},\r\n    address: \"\",\r\n    country: \"\",\r\n    avatar: false,\r\n    passportPhoto: false,\r\n    lastPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n    dataFancybox: false,\r\n  };\r\n  componentDidUpdate(a) {\r\n    let state = {};\r\n    if (\r\n      Object.entries(this.props.user.passportPhoto).length !==\r\n      Object.entries(a.user.passportPhoto).length\r\n    ) {\r\n      state.passportPhoto = this.props.user.passportPhoto;\r\n    }\r\n    if (this.props.user.isPassportVerified !== a.user.isPassportVerified) {\r\n      state.isPassportVerified = this.props.user.isPassportVerified;\r\n    }\r\n    if (!!Object.entries(state).length) this.setState(state);\r\n  }\r\n  componentDidMount() {\r\n    let state = {\r\n      firstName: this.props.user.name.first,\r\n      middleName: this.props.user.name.middle,\r\n      lastName: this.props.user.name.last,\r\n      email: this.props.user.email,\r\n      contract: this.props.user.contract || {},\r\n      phone: this.props.user.phone,\r\n      address: this.props.user.address,\r\n      country: this.props.user.country,\r\n    };\r\n    if (this.props.user.avatar) state.avatar = this.props.user.avatar;\r\n    if (this.props.user.passportPhoto)\r\n      state.passportPhoto = this.props.user.passportPhoto;\r\n    this.setState(state);\r\n  }\r\n  saveUser = () => {\r\n    if (!this.state.email) {\r\n      toast.error(\"Email не может быть пустым\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      return 0;\r\n    }\r\n    if (!this.state.firstName) {\r\n      toast.error(\"Имя не может быть пустым\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      return 0;\r\n    }\r\n    if (!this.state.middleName) {\r\n      toast.error(\"Отчество не может быть пустым\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      return 0;\r\n    }\r\n    if (!this.state.lastName) {\r\n      toast.error(\"Фамилия не может быть пустым\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      return 0;\r\n    }\r\n    let userChanges = {\r\n      name: {\r\n        first: this.state.firstName,\r\n        middle: this.state.middleName,\r\n        last: this.state.lastName,\r\n      },\r\n      avatar: this.state.avatar,\r\n      passportPhoto: this.state.passportPhoto,\r\n      contract: this.state.contract,\r\n      address: this.state.address,\r\n      country: this.state.country,\r\n      email: this.state.email,\r\n    };\r\n    this.props.userActions\r\n      .userEdit(userChanges, this.props.user.apiToken)\r\n      .then((responce) => {\r\n        if (responce.error)\r\n          responce.errors.map((item) => {\r\n            if (item.param === \"file\")\r\n              toast.error(\"Файл больше 10 мб!\", {\r\n                position: toast.POSITION.TOP_CENTER,\r\n              });\r\n            if (item.param === \"email\")\r\n              toast.error(\"Пользователь с таким email уже существует\", {\r\n                position: toast.POSITION.TOP_CENTER,\r\n              });\r\n          });\r\n        else\r\n          toast.success(\"Данные успешно сохранены\", {\r\n            position: toast.POSITION.TOP_CENTER,\r\n          });\r\n      });\r\n  };\r\n  passChange = () => {\r\n    if (\r\n      !!this.state.lastPassword.length &&\r\n      !!this.state.newPassword.length &&\r\n      !!this.state.confirmPassword.length\r\n    ) {\r\n      if (this.state.newPassword.length >= 8) {\r\n        if (this.state.newPassword === this.state.confirmPassword) {\r\n          let passwords = {\r\n            lastPassword: this.state.lastPassword,\r\n            newPassword: this.state.newPassword,\r\n            confirmPassword: this.state.confirmPassword,\r\n          };\r\n          this.props.userActions\r\n            .passChange(passwords, this.props.user.apiToken)\r\n            .then((responce) => {\r\n              if (responce.error)\r\n                responce.errors.map((item) => {\r\n                  if (item.param === \"password\")\r\n                    toast.error(\"Введен неверный текущий пароль\", {\r\n                      position: toast.POSITION.TOP_CENTER,\r\n                    });\r\n                  if (item.param === \"confirmPassword\")\r\n                    toast.error(\"Подтверждение пароля не совпадает\", {\r\n                      position: toast.POSITION.TOP_CENTER,\r\n                    });\r\n                });\r\n              else\r\n                toast.success(\"Пароль изменён\", {\r\n                  position: toast.POSITION.TOP_CENTER,\r\n                });\r\n            });\r\n        } else {\r\n          toast.error(\"Подтверждение пароля не совпадает\", {\r\n            position: toast.POSITION.TOP_CENTER,\r\n          });\r\n        }\r\n      } else\r\n        toast.error(\"Пароль должен сожержать не менее 8 символов\", {\r\n          position: toast.POSITION.TOP_CENTER,\r\n        });\r\n    } else\r\n      toast.error(\"Введите данные для изменения пароля\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n  };\r\n  render() {\r\n    if (this.props.step === 1)\r\n      return (\r\n        <div className=\"profile-page container-fluid\">\r\n          <h2 className=\"title\">Личная информация</h2>\r\n          <div>\r\n            <a href={`/user/${this.props.user._id}`}>\r\n              Как вас видят пользователи\r\n            </a>\r\n          </div>\r\n          <div className=\"row profile-input-fixed\">\r\n            <div className=\"col-12 col-sm\">\r\n              <Input\r\n                type=\"text\"\r\n                style={{\r\n                  marginBottom: 12,\r\n                }}\r\n                placeholder=\"Имя *\"\r\n                value={this.state.firstName}\r\n                onChange={(e) => {\r\n                  this.setState({ firstName: e.target.value });\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-sm\">\r\n              <Input\r\n                type=\"text\"\r\n                style={{\r\n                  marginBottom: 12,\r\n                }}\r\n                placeholder=\"Фамилия *\"\r\n                value={this.state.lastName}\r\n                onChange={(e) => {\r\n                  this.setState({ lastName: e.target.value });\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-sm\">\r\n              <Input\r\n                type=\"text\"\r\n                style={{\r\n                  marginBottom: 12,\r\n                }}\r\n                placeholder=\"Отчество *\"\r\n                value={this.state.middleName}\r\n                onChange={(e) => {\r\n                  this.setState({ middleName: e.target.value });\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6\">\r\n              <h4 className=\"subtitle pt-0\">Контактные данные *</h4>\r\n              <Input\r\n                type=\"text\"\r\n                placeholder=\"Email *\"\r\n                style={{ marginBottom: 12, maxWidth: \"265px\" }}\r\n                value={this.state.email}\r\n                onChange={(e) => {\r\n                  this.setState({ email: e.target.value });\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <h4 className=\"subtitle pt-0 \">Фотография</h4>\r\n              <Button\r\n                type=\"fill\"\r\n                paddingHorizontal=\"30px\"\r\n                paddingVertical=\"7px\"\r\n                className=\"mr-2 f-17\"\r\n                onClick={() => {\r\n                  document.getElementById(\"photoAvatar\").click();\r\n                }}\r\n              >\r\n                Загрузить\r\n              </Button>\r\n              <input\r\n                id=\"photoAvatar\"\r\n                onChange={(e) => {\r\n                  let file = e.target.files[0];\r\n                  if (file) {\r\n                    if (file.size > 10485760)\r\n                      toast.error(\"Файл больше 10 мб!\", {\r\n                        position: toast.POSITION.TOP_CENTER,\r\n                      });\r\n                    else\r\n                      this.setState({\r\n                        avatar: { file: file, path: URL.createObjectURL(file) },\r\n                      });\r\n                  }\r\n                }}\r\n                type=\"file\"\r\n                accept=\"image/jpeg,image/png\"\r\n                hidden\r\n              />\r\n              <img\r\n                className=\"avatar-img\"\r\n                src={\r\n                  this.state.avatar\r\n                    ? this.state.avatar.path\r\n                    : ConfigSettings.defaultAvatar\r\n                }\r\n                alt=\"\"\r\n              />\r\n              <span\r\n                className=\"d-block mt-2\"\r\n                style={{\r\n                  maxWidth: \"381px\",\r\n                  fontSize: \"12px\",\r\n                  lineHeight: \"14px\",\r\n                }}\r\n              >\r\n                На фото должны быть только Вы. Лицо не должны закрывать\r\n                посторонние предметы или люди.\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div className=\"row\">\r\n            <div className=\"col-12 col-md-6 col-lg-4 col-xl-6 adress-input\">\r\n              <h4 className=\"subtitle pt-0 \">Расположение *</h4>\r\n              <div className=\"row mx-0 align-items-center\">\r\n                <span>Страна:</span>\r\n                <div className=\"col\" style={{ maxWidth: \"320px\" }}>\r\n                  <Select\r\n                    type=\"text\"\r\n                    options={countryList}\r\n                    value={countryList.find(\r\n                      (item) => item.value === this.state.country\r\n                    )}\r\n                    onChange={(val) => {\r\n                      this.setState({ country: val.value });\r\n                    }}\r\n                    placeholder=\"Страна\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"row mx-0 align-items-center\">\r\n                <span>Адрес:</span>\r\n                <div className=\"col\" style={{ maxWidth: \"320px\" }}>\r\n                  <AdressSelect\r\n                    placeholder=\"Адрес\"\r\n                    filterFromBound=\"country\"\r\n                    filterToBound=\"city\"\r\n                    onChange={(val) => {\r\n                      this.setState({ address: val.value });\r\n                    }}\r\n                    value={this.state.address}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-12 col-sm-6 col-md-4 col-lg-4 col-xl-3 \">\r\n              <h4 className=\"subtitle pt-0\">Заключение договора</h4>\r\n              <div className=\"f-12 pb-2\">Основная форма для аккаунта</div>\r\n              {contractParams.map((item, index) => {\r\n                return (\r\n                  <div key={index} className=\"checkboxParam\">\r\n                    <CheckBox\r\n                      id={`contractParams${item.id}`}\r\n                      name={`contractParams`}\r\n                      value={this.state.contract.id === item.id}\r\n                      onChange={() => {\r\n                        if (this.state.contract.id === item.id)\r\n                          this.setState({ contract: {} });\r\n                        else this.setState({ contract: { id: item.id } });\r\n                      }}\r\n                      text={item.name}\r\n                    />\r\n\r\n                    {item.additionFields &&\r\n                      this.state.contract.id === item.id &&\r\n                      item.additionFields.map((itemField, index) => {\r\n                        return (\r\n                          <itemField.field\r\n                            key={index}\r\n                            {...itemField.props}\r\n                            value={\r\n                              (this.state.contract.data &&\r\n                                this.state.contract.data.value) ||\r\n                              \"\"\r\n                            }\r\n                            onChange={(val) => {\r\n                              this.setState({\r\n                                contract: { ...this.state.contract, data: val },\r\n                              });\r\n                            }}\r\n                          ></itemField.field>\r\n                        );\r\n                      })}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <hr />\r\n\r\n          <div className=\"row mt-2\">\r\n            <h4 className=\" col-12 subtitle pt-0 px-3\">Паспорт</h4>\r\n            <div className=\"col-12  mb-4\">\r\n              <input\r\n                id=\"passportPhoto\"\r\n                onChange={(e) => {\r\n                  let file = e.target.files[0];\r\n                  if (file)\r\n                    this.setState({\r\n                      passportPhoto: {\r\n                        path: URL.createObjectURL(file),\r\n                        file: file,\r\n                      },\r\n                    });\r\n                }}\r\n                type=\"file\"\r\n                accept=\"image/jpeg,image/png\"\r\n                hidden\r\n              />\r\n              <div>\r\n                <span\r\n                  className=\"d-block d-md-inline-block mr-2 foto-lable-passport\"\r\n                  style={{\r\n                    lineHeight: \"16px\",\r\n                    marginBottom: \"12px\",\r\n                  }}\r\n                >\r\n                  Фото с паспортом в руках\r\n                </span>\r\n\r\n                <div\r\n                  className={`inputPhoto ${\r\n                    !this.state.passportPhoto ? \"unload\" : \"\"\r\n                  } mr-3`}\r\n                  style={{\r\n                    height: \"70px\",\r\n                    width: \"100px\",\r\n                    verticalAlign: \"middle\",\r\n                  }}\r\n                >\r\n                  <div className=\"placeholder\" onClick={() => {}}></div>\r\n                  {!!Object.entries(this.state.passportPhoto).length && (\r\n                    <img\r\n                      src={this.state.passportPhoto.path}\r\n                      className=\"avatarPhoto\"\r\n                      alt=\"avatarPhoto\"\r\n                    />\r\n                  )}\r\n                  {!Object.entries(this.state.passportPhoto).length && (\r\n                    <div className=\"carPhoto\" />\r\n                  )}\r\n                </div>\r\n                <Button\r\n                  type=\"fill\"\r\n                  className={`mr-4 f-17 ${\r\n                    this.props.user.isPassportVerified ? \"disable\" : \"\"\r\n                  }`}\r\n                  paddingHorizontal=\"30px\"\r\n                  paddingVertical=\"7px\"\r\n                  margin=\"0 0 12px 0\"\r\n                  onClick={() => {\r\n                    if (!this.props.user.isPassportVerified)\r\n                      document.getElementById(\"passportPhoto\").click();\r\n                  }}\r\n                >\r\n                  <span className=\"d-none d-md-block\">Загрузить</span>\r\n                  <img\r\n                    className=\"d-block d-md-none\"\r\n                    style={{\r\n                      width: \"18px\",\r\n                    }}\r\n                    src={upload}\r\n                    alt=\"\"\r\n                  />\r\n                </Button>\r\n                {!this.props.user.isPassportVerified &&\r\n                  !!Object.entries(this.props.user.passportPhoto).length && (\r\n                    <span className=\"f-12 passport-status\">\r\n                      <GreyAngle className=\"mr-2\" />\r\n                      Фото с паспортом на проверке\r\n                    </span>\r\n                  )}\r\n                {!this.props.user.isPassportVerified &&\r\n                  !Object.entries(this.props.user.passportPhoto).length && (\r\n                    <span className=\"f-12 passport-status\">\r\n                      <RedClose className=\"mr-2\" />\r\n                      Фото с паспортом не загружено\r\n                    </span>\r\n                  )}\r\n                {this.props.user.isPassportVerified && (\r\n                  <span className=\"f-12 passport-status\">\r\n                    <Passport className=\"mr-2\" />\r\n                    Паспорт загружен\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div className=\"col-md-8 col-12 px-0 pt-2\">\r\n                <span className=\"d-block f-12\">\r\n                  Возьмите паспорт в руки разверните парспорт и разместите так,\r\n                  чтобы он не закрывал Ваше лицо, но был четким и читабельным.\r\n                  Ваше лицо на этой фотографии оператор будет сравнивать с лоцом\r\n                  на аватаре.\r\n                </span>\r\n                <Link\r\n                  to=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    this.setState({\r\n                      dataFancybox: {\r\n                        images: [{ path: ConfigSettings.defaultPassport }],\r\n                        index: 0,\r\n                      },\r\n                    });\r\n                  }}\r\n                  className=\"href\"\r\n                >\r\n                  <span\r\n                    className=\"d-inline-block f-14 text-center\"\r\n                    style={{\r\n                      lineHeight: \"16px\",\r\n                      margin: 0,\r\n                      marginTop: \"5px\",\r\n                      marginRight: \"10px\",\r\n                    }}\r\n                  >\r\n                    Открыть пример фото\r\n                  </span>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"d-flex mt-2\">\r\n            <Button\r\n              type=\"fill\"\r\n              paddingVertical={\"7px\"}\r\n              className=\"ml-auto f-14\"\r\n              paddingHorizontal={\"26px\"}\r\n              onClick={this.saveUser}\r\n            >\r\n              Сохранить все\r\n            </Button>\r\n          </div>\r\n          <CSSTransitionGroup\r\n            transitionName=\"fancybox-animation\"\r\n            transitionEnterTimeout={300}\r\n            transitionLeaveTimeout={300}\r\n          >\r\n            {this.state.dataFancybox.images && (\r\n              <Fancybox\r\n                close={() => {\r\n                  this.setState({\r\n                    dataFancybox: { images: false, index: false },\r\n                  });\r\n                }}\r\n                images={this.state.dataFancybox.images}\r\n                index={this.state.dataFancybox.index}\r\n              />\r\n            )}\r\n          </CSSTransitionGroup>\r\n        </div>\r\n      );\r\n    if (this.props.step === 2)\r\n      return (\r\n        <div className=\"profile-page container-fluid\">\r\n          <h2 className=\"title\">Безопасность</h2>\r\n          <div className=\"row\">\r\n            <div className=\"col-12 col-sm-6 col-md-6\">\r\n              <h4 className=\"subtitle pt-0\">Изменение телефона *</h4>\r\n              <InputPhone\r\n                ref={(ref) => {\r\n                  this.InputPhone = ref;\r\n                }}\r\n                value={this.state.phone}\r\n                isVerified={this.state.isVerified}\r\n                setVerified={(val) => {\r\n                  if (val === \"success\") {\r\n                    this.props.userActions\r\n                      .userEdit(\r\n                        { phone: this.state.phone },\r\n                        this.props.user.apiToken\r\n                      )\r\n                      .then((responce) => {\r\n                        if (!responce.error)\r\n                          toast.success(\"Данные успешно сохранены\", {\r\n                            position: toast.POSITION.TOP_CENTER,\r\n                          });\r\n                      });\r\n                    this.InputPhone.refresh();\r\n                  } else this.setState({ isVerified: val });\r\n                }}\r\n                onChange={(phone) => {\r\n                  this.setState({ phone });\r\n                }}\r\n                placeholder=\"+7 (_ _ _) _ _ _ - _ _ - _ _\"\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-sm-6 col-md-6\">\r\n              <h4 className=\"subtitle pt-0\">Безопасность</h4>\r\n              <div className=\"position-relative\" style={{ maxWidth: \"320px\" }}>\r\n                <Input\r\n                  type=\"password\"\r\n                  placeholder=\"Старый пароль\"\r\n                  value={this.state.lastPassword}\r\n                  style={{ paddingRight: 50, marginBottom: 10 }}\r\n                  onChange={(e) => {\r\n                    this.setState({ lastPassword: e.target.value });\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"position-relative\" style={{ maxWidth: \"320px\" }}>\r\n                <Input\r\n                  type=\"password\"\r\n                  placeholder=\"Новый пароль\"\r\n                  value={this.state.newPassword}\r\n                  style={{ paddingRight: 50, marginBottom: 10 }}\r\n                  onChange={(e) => {\r\n                    this.setState({ newPassword: e.target.value });\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"position-relative\" style={{ maxWidth: \"320px\" }}>\r\n                <Input\r\n                  type=\"password\"\r\n                  placeholder=\"Подтверждение пароля\"\r\n                  value={this.state.confirmPassword}\r\n                  style={{ paddingRight: 50, marginBottom: 10 }}\r\n                  onChange={(e) => {\r\n                    this.setState({ confirmPassword: e.target.value });\r\n                  }}\r\n                />\r\n              </div>\r\n              <Button type=\"empty bg-gray \" onClick={this.passChange}>\r\n                Сохранить пароль\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    userActions: bindActionCreators(userActions, dispatch),\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","// App\r\nimport React from \"react\";\r\n// Elements\r\nimport Article from \"../../ArticlesElements/Article\";\r\nimport ArticleHeader from \"../../ArticlesElements/Partials/ArticleHeader\";\r\nimport LoadingFixed from \"../../Elements/LoadingFixed\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport { connect } from \"react-redux\";\r\nimport * as myArticlesActions from \"../../redux/actions/myarticles\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nclass MyArticles extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.prestatus = 1;\r\n  }\r\n  state = {\r\n    currentStatus: \"all\",\r\n  };\r\n  componentDidMount() {\r\n    if (this.props.statusArticle.length === 1)\r\n      this.setState({ currentStatus: this.props.statusArticle[0] }, () => {\r\n        this.props.myArticlesActions.articlesMyLoad(\r\n          this.state.currentStatus,\r\n          this.props.user.apiToken\r\n        );\r\n      });\r\n    else\r\n      this.props.myArticlesActions.articlesAllMyGet(this.props.user.apiToken);\r\n  }\r\n  renderTabs() {\r\n    let reduxArticles = this.props.myarticles.my;\r\n    return (\r\n      <div className=\"tab_groups\">\r\n        {this.props.statusArticle.length > 1 && (\r\n          <span\r\n            className={`tab_group ${\r\n              this.state.currentStatus === \"all\" ? \"active\" : \"\"\r\n            }`}\r\n            onClick={() => {\r\n              this.setState({ currentStatus: \"all\" });\r\n            }}\r\n          >\r\n            Все &nbsp;\r\n            {this.props.myarticles.myAll.countAll}\r\n          </span>\r\n        )}\r\n        {this.props.statusArticle.map((item, index) => {\r\n          return (\r\n            <span\r\n              key={index}\r\n              className={`tab_group ${\r\n                this.state.currentStatus === item ? \"active\" : \"\"\r\n              }`}\r\n              onClick={() => {\r\n                this.setState({ currentStatus: item }, () => {\r\n                  if (\r\n                    !reduxArticles[this.state.currentStatus - this.prestatus]\r\n                      .isGetted\r\n                  ) {\r\n                    this.props.myArticlesActions.articlesMyGet(\r\n                      this.state.currentStatus,\r\n                      this.props.user.apiToken\r\n                    );\r\n                  }\r\n                });\r\n              }}\r\n            >\r\n              {item === 1 && \"Черновики\"}\r\n              {item === 2 && \"Открытые\"}\r\n              {item === 3 && \"Выбран исполнитель\"}\r\n              {item === 4 && \"В пути\"}\r\n              {item === 5 && \"Выполненные\"}\r\n              {item === 6 && \"Отмененные\"}\r\n              {item === 7 && \"Корзина\"}\r\n              &nbsp;{this.props.myarticles.my[item - 1].countAll}\r\n            </span>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n  onScroll() {\r\n    if (\r\n      this.articlesBlock.getScrollHeight() -\r\n        this.articlesBlock.getScrollTop() <=\r\n      200 + this.articlesBlock.getClientHeight()\r\n    )\r\n      if (this.state.currentStatus !== \"all\") {\r\n        let reduxArticles = this.props.myarticles.my;\r\n        if (\r\n          reduxArticles[this.state.currentStatus - this.prestatus].canLoad &&\r\n          !reduxArticles[this.state.currentStatus - this.prestatus].isFetching\r\n        ) {\r\n          this.props.myArticlesActions.articlesMyLoad(\r\n            this.state.currentStatus,\r\n            this.props.user.apiToken\r\n          );\r\n        }\r\n      } else {\r\n        if (\r\n          this.props.myarticles.myAll.canLoad &&\r\n          !this.props.myarticles.myAll.isFetching\r\n        )\r\n          this.props.myArticlesActions.articlesAllMyLoad(\r\n            this.props.user.apiToken\r\n          );\r\n      }\r\n  }\r\n  render() {\r\n    let reduxArticles;\r\n    if (this.state.currentStatus === \"all\")\r\n      reduxArticles = this.props.myarticles.myAll;\r\n    else reduxArticles = this.props.myarticles.my[this.state.currentStatus - 1];\r\n    return (\r\n      <div className=\"lk-order-page\">\r\n        <div className=\"container-fluid\">\r\n          <h2 className=\"title\">{this.props.title}</h2>\r\n          {this.renderTabs()}\r\n        </div>\r\n        <div className=\"articles-block\">\r\n          <ArticleHeader></ArticleHeader>\r\n          <LoadingFixed isLoading={reduxArticles.isFetching}></LoadingFixed>\r\n          <CSSTransitionGroup\r\n            transitionName=\"height-animation-item\"\r\n            transitionEnterTimeout={500}\r\n            transitionLeaveTimeout={1}\r\n            style={{\r\n              display: \"contents\",\r\n            }}\r\n          >\r\n            <Scrollbars\r\n              onScroll={() => {\r\n                this.onScroll();\r\n              }}\r\n              ref={(ref) => {\r\n                this.articlesBlock = ref;\r\n              }}\r\n              renderTrackVertical={(props) => (\r\n                <div className=\"track-vertical\" />\r\n              )}\r\n              renderThumbVertical={(props) => (\r\n                <div className=\"thumb-vertical\" />\r\n              )}\r\n              className=\"load-content scroll\"\r\n              autoHide\r\n            >\r\n              {(!reduxArticles.isFetching || reduxArticles.isGetted) && (\r\n                <>\r\n                  {reduxArticles.articles &&\r\n                    reduxArticles.articles.map((article, i) => {\r\n                      return (\r\n                        <Article IsManage={true} key={i} article={article} />\r\n                      );\r\n                    })}\r\n                  {(!reduxArticles.isFetching || reduxArticles.isGetted) &&\r\n                    reduxArticles.articles &&\r\n                    !reduxArticles.articles.length && (\r\n                      <div className=\"text-center py-3\">Записей не найдено</div>\r\n                    )}\r\n                </>\r\n              )}\r\n            </Scrollbars>\r\n          </CSSTransitionGroup>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    myarticles: state.myarticles,\r\n  };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    myArticlesActions: bindActionCreators(myArticlesActions, dispatch),\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyArticles);\r\n","// App\r\nimport React from \"react\";\r\n// Elements\r\nimport Article from \"../../ArticlesElements/Article\";\r\nimport ArticleHeader from \"../../ArticlesElements/Partials/ArticleHeader\";\r\nimport LoadingFixed from \"../../Elements/LoadingFixed\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport { connect } from \"react-redux\";\r\nimport * as myArticlesActions from \"../../redux/actions/myarticles\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nclass MyArticles extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.prestatus = 2;\r\n  }\r\n  state = {\r\n    currentStatus: \"all\",\r\n  };\r\n  componentDidMount() {\r\n    if (this.props.statusArticle.length === 1)\r\n      this.setState({ currentStatus: this.props.statusArticle[0] }, () => {\r\n        this.props.myArticlesActions.articlesTakingGet(\r\n          this.state.currentStatus,\r\n          this.props.user.apiToken\r\n        );\r\n      });\r\n    else\r\n      this.props.myArticlesActions.articlesAllTakingGet(\r\n        this.props.user.apiToken\r\n      );\r\n  }\r\n  renderTabs() {\r\n    let reduxArticles = this.props.myarticles.taking;\r\n    return (\r\n      <div className=\"tab_groups\">\r\n        {this.props.statusArticle.length > 1 && (\r\n          <span\r\n            className={`tab_group ${\r\n              this.state.currentStatus === \"all\" ? \"active\" : \"\"\r\n            }`}\r\n            onClick={() => {\r\n              this.setState({ currentStatus: \"all\" });\r\n            }}\r\n          >\r\n            Все &nbsp;\r\n            {this.props.myarticles.takingAll.countAll}\r\n          </span>\r\n        )}\r\n        {this.props.statusArticle.map((item, index) => {\r\n          return (\r\n            <span\r\n              key={index}\r\n              className={`tab_group ${\r\n                this.state.currentStatus === item ? \"active\" : \"\"\r\n              }`}\r\n              onClick={() => {\r\n                this.setState({ currentStatus: item }, () => {\r\n                  if (\r\n                    !reduxArticles[this.state.currentStatus - this.prestatus]\r\n                      .isGetted\r\n                  ) {\r\n                    this.props.myArticlesActions.articlesTakingGet(\r\n                      this.state.currentStatus,\r\n                      this.props.user.apiToken\r\n                    );\r\n                  }\r\n                });\r\n              }}\r\n            >\r\n              {item === 1 && \"Черновики\"}\r\n              {item === 2 && \"Открытые\"}\r\n              {item === 3 && \"Выбран исполнитель\"}\r\n              {item === 4 && \"В пути\"}\r\n              {item === 5 && \"Выполненные\"}\r\n              {item === 6 && \"Отмененные\"}\r\n              {item === 7 && \"Корзина\"}\r\n              &nbsp;\r\n              {this.props.myarticles.taking[item - this.prestatus].countAll}\r\n            </span>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n  onScroll() {\r\n    if (\r\n      this.articlesBlock.getScrollHeight() -\r\n        this.articlesBlock.getScrollTop() <=\r\n      200 + this.articlesBlock.getClientHeight()\r\n    )\r\n      if (this.state.currentStatus !== \"all\") {\r\n        let reduxArticles = this.props.myarticles.taking;\r\n        if (\r\n          reduxArticles[this.state.currentStatus - this.prestatus].canLoad &&\r\n          !reduxArticles[this.state.currentStatus - this.prestatus].isFetching\r\n        ) {\r\n          this.props.myArticlesActions.articlesTakingLoad(\r\n            this.state.currentStatus,\r\n            this.props.user.apiToken\r\n          );\r\n        }\r\n      } else {\r\n        if (\r\n          this.props.myarticles.takingAll.canLoad &&\r\n          !this.props.myarticles.takingAll.isFetching\r\n        )\r\n          this.props.myArticlesActions.articlesAllTakingLoad(\r\n            this.props.user.apiToken\r\n          );\r\n      }\r\n  }\r\n  render() {\r\n    let reduxArticles;\r\n    if (this.state.currentStatus === \"all\")\r\n      reduxArticles = this.props.myarticles.takingAll;\r\n    else\r\n      reduxArticles = this.props.myarticles.taking[\r\n        this.state.currentStatus - this.prestatus\r\n      ];\r\n    return (\r\n      <div className=\"lk-order-page\">\r\n        <div className=\"container-fluid\">\r\n          <h2 className=\"title\">{this.props.title}</h2>\r\n          {this.renderTabs()}\r\n        </div>\r\n        <div className=\"articles-block\">\r\n          <ArticleHeader></ArticleHeader>\r\n          <LoadingFixed isLoading={reduxArticles.isFetching}></LoadingFixed>\r\n          <CSSTransitionGroup\r\n            transitionName=\"height-animation-item\"\r\n            transitionEnterTimeout={500}\r\n            transitionLeaveTimeout={1}\r\n            style={{\r\n              display: \"contents\",\r\n            }}\r\n          >\r\n            <Scrollbars\r\n              onScroll={() => {\r\n                this.onScroll();\r\n              }}\r\n              ref={(ref) => {\r\n                this.articlesBlock = ref;\r\n              }}\r\n              renderTrackVertical={(props) => (\r\n                <div className=\"track-vertical\" />\r\n              )}\r\n              renderThumbVertical={(props) => (\r\n                <div className=\"thumb-vertical\" />\r\n              )}\r\n              className=\"load-content scroll\"\r\n              autoHide\r\n            >\r\n              {(!reduxArticles.isFetching || reduxArticles.isGetted) && (\r\n                <>\r\n                  {reduxArticles.articles &&\r\n                    reduxArticles.articles.map((article, i) => {\r\n                      return (\r\n                        <Article IsManage={true} key={i} article={article} />\r\n                      );\r\n                    })}\r\n                  {(!reduxArticles.isFetching || reduxArticles.isGetted) &&\r\n                    reduxArticles.articles &&\r\n                    !reduxArticles.articles.length && (\r\n                      <div className=\"text-center py-3\">Записей не найдено</div>\r\n                    )}\r\n                </>\r\n              )}\r\n            </Scrollbars>\r\n          </CSSTransitionGroup>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    myarticles: state.myarticles,\r\n  };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    myArticlesActions: bindActionCreators(myArticlesActions, dispatch),\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyArticles);\r\n","// App\r\nimport React from \"react\";\r\n\r\nclass CheckBoxSwitcher extends React.Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <div\r\n          className={`CheckBoxSwitcher ${this.props.className} ${\r\n            this.props.val ? \"checked\" : \"\"\r\n          }`}\r\n          onClick={this.props.onChange ? this.props.onChange : () => {}}\r\n        ></div>\r\n        {this.props.lable && (\r\n          <label\r\n            className={this.props.lableClassname}\r\n            onClick={this.props.onChange ? this.props.onChange : () => {}}\r\n          >\r\n            {this.props.lable}\r\n          </label>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CheckBoxSwitcher;\r\n","import React from \"react\";\r\nimport Select from \"./Select\";\r\nimport api from \"../config/api\";\r\n\r\nclass CarSelect extends React.Component {\r\n  loadOptions = (inputValue, callback) => {\r\n    setTimeout(() => {\r\n      fetch(`${api.urlApi}/api/car/getLikeCars`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.apiToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          stringLikes: inputValue,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          callback(\r\n            data.cars.map((item) => ({ value: item.name, label: item.name }))\r\n          );\r\n        });\r\n    }, 1000);\r\n  };\r\n  handleBlur = (event) => {\r\n    const inputValue = this.props.value;\r\n    if (!inputValue) {\r\n      event.preventDefault();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <Select\r\n        async={true}\r\n        className=\"carSelect\"\r\n        placeholder=\"Марка, модель\"\r\n        loadOptions={this.loadOptions}\r\n        value={\r\n          this.props.value\r\n            ? { value: this.props.value, label: this.props.value }\r\n            : false\r\n        }\r\n        onChange={this.props.onChange}\r\n        inputValue={this.props.value}\r\n        onBlur={this.handleBlur}\r\n        onInputChange={(val, { action }) => {\r\n          if (action === \"input-change\")\r\n            this.props.onChange({ value: val, label: val });\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default CarSelect;\r\n","export function setForceTitle(title) {\r\n  var pageTitle;\r\n  pageTitle = \"Pogrooz | \" + title;\r\n  document.title = pageTitle ? pageTitle : \"Pogrooz\";\r\n}","import React from \"react\";\r\nimport Button from \"../../../Elements/Button\";\r\nimport LoadingFixed from \"../../../Elements/LoadingFixed\";\r\nimport Loading from \"../../../Elements/Loading\";\r\nimport Input from \"../../../Elements/Input\";\r\nimport Select from \"../../../Elements/Select\";\r\nimport CheckBox from \"../../../Elements/CheckBox\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport CheckBoxSwitcher from \"../../../Elements/CheckBoxSwitcher\";\r\nimport CarSelect from \"../../../Elements/CarSelect\";\r\nimport { setForceTitle } from \"../../../functions/functions\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport { toast } from \"react-toastify\";\r\nimport { connect } from \"react-redux\";\r\n//Configs\r\nimport {\r\n  extraParams,\r\n  contractParams,\r\n  paymentParams,\r\n} from \"../../../config/baseInfo/carParams\";\r\nimport carTypesList from \"../../../config/baseInfo/carTypesList\";\r\nimport api from \"../../../config/api\";\r\nimport NoMatch from \"../../NoMatch\";\r\n//Configs\r\nclass OfferCreate1 extends React.Component {\r\n  state = {\r\n    isExtra: false,\r\n    isContract: false,\r\n    isPayment: false,\r\n    //Step1\r\n    notFound: false,\r\n    isEditing: false,\r\n    car: {},\r\n    isFetching: true,\r\n    isFetchingAction: false,\r\n  };\r\n  editTemplate = () => {\r\n    let car = this.getArticlesInfo();\r\n    if (car) {\r\n      let formData = new FormData();\r\n      formData.append(\"car\", JSON.stringify(car));\r\n      formData.append(\"templateId\", this.editingId);\r\n      if (car.photo.file) formData.append(\"carPhoto\", car.photo.file);\r\n      this.setState({ isFetchingAction: true }, () => {\r\n        fetch(`${api.urlApi}/api/car/updateCarTemplate`, {\r\n          method: \"post\",\r\n          headers: {\r\n            Authorization: `Bearer ${this.props.user.apiToken}`,\r\n          },\r\n          body: formData,\r\n        })\r\n          .then((data) => data.json())\r\n          .then((data) => {\r\n            if (data.error)\r\n              data.errors.map((item) => {\r\n                toast.error(item.msg, { position: toast.POSITION.TOP_CENTER });\r\n              });\r\n            else {\r\n              this.props.history.push(\"/mytemplate-auto\");\r\n            }\r\n          });\r\n      });\r\n    }\r\n  };\r\n  saveTemplate = () => {\r\n    let car = this.getArticlesInfo();\r\n    if (car) {\r\n      let formData = new FormData();\r\n      formData.append(\"car\", JSON.stringify(car));\r\n      formData.append(\"carPhoto\", car.photo.file);\r\n      fetch(`${api.urlApi}/api/car/createCarTemplate`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n        body: formData,\r\n      })\r\n        .then((data) => data.json())\r\n        .then((data) => {\r\n          if (data.error)\r\n            data.errors.map((item) => {\r\n              toast.error(item.msg, { position: toast.POSITION.TOP_CENTER });\r\n            });\r\n          else {\r\n            this.props.history.push(\"/mytemplate-auto\");\r\n          }\r\n        });\r\n    }\r\n  };\r\n  getArticlesInfo = () => {\r\n    let errorArr = {};\r\n    let isError = false;\r\n    if (!this.state.car.typesCar || !this.state.car.typesCar.length) {\r\n      toast.error(\"Выберите тип машины\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (!this.state.car.name) {\r\n      toast.error(\"Выберите марку и модель машины\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (!this.state.car.photo) {\r\n      toast.error(\"Выберите Фото машины\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (\r\n      this.state.car.contractInfo.find((item) => {\r\n        return (item.id === 2 || item.id === 3) && !item.org;\r\n      })\r\n    ) {\r\n      toast.error(\"Выберете организацию\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (isError) {\r\n      return false;\r\n    } else return this.state.car;\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.match.params.id)\r\n      fetch(`${api.urlApi}/api/car/getCarTemplate`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          templateId: this.props.match.params.id,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (!data.error) {\r\n            if (data.Template) {\r\n              this.editingId = data.Template._id;\r\n              this.defaultInitializate(data.Template.car, () => {\r\n                this.setState(\r\n                  {\r\n                    isFetching: false,\r\n                    isEditing: true,\r\n                  },\r\n                  () => {\r\n                    setForceTitle(\r\n                      \"Редактирование шаблона №\" + data.Template.car.name\r\n                    );\r\n                  }\r\n                );\r\n              });\r\n            }\r\n          } else this.setState({ notFound: true, isFetching: false });\r\n        });\r\n    else {\r\n      this.defaultInitializate({}, () => {\r\n        this.setState({\r\n          isFetching: false,\r\n        });\r\n      });\r\n    }\r\n  }\r\n  defaultInitializate(car, callback) {\r\n    let newState = {};\r\n    car = {\r\n      additionally: [],\r\n      contractInfo: [],\r\n      info: [],\r\n      property: \"\",\r\n      paymentInfo: [],\r\n      ...car,\r\n    };\r\n    newState = {\r\n      ...newState,\r\n      isExtra: !!car.additionally.length,\r\n      isContract: !!car.contractInfo && car.contractInfo.length,\r\n      isPayment: !!car.paymentInfo.length,\r\n    };\r\n    this.setState(\r\n      {\r\n        car: car,\r\n        ...newState,\r\n      },\r\n      callback\r\n    );\r\n  }\r\n  getIfExit(array, item, prop) {\r\n    let element = false;\r\n    if ((element = array.find((itemX) => itemX.id == item)))\r\n      return element[prop] ? element[prop] : \"\";\r\n    else return \"\";\r\n  }\r\n  onChange = (val, prop) => {\r\n    let car = this.state.car;\r\n    switch (prop) {\r\n      case \"carType\":\r\n        car = { ...car, typesCar: [val], info: [] };\r\n        break;\r\n      case \"carProperty\":\r\n        car = { ...car, property: val };\r\n        break;\r\n      case \"carName\":\r\n        car = { ...car, name: val };\r\n        break;\r\n      case \"carPhoto\":\r\n        car = { ...car, photo: val };\r\n        break;\r\n    }\r\n    this.setState({\r\n      car: car,\r\n    });\r\n  };\r\n  onChangeParams = (prop, val, isSingle = false) => {\r\n    let car = { ...this.state.car };\r\n    if (!isSingle) {\r\n      if (\r\n        car[prop].find((item) => {\r\n          return item.id === val;\r\n        })\r\n      ) {\r\n        car[prop] = car[prop].filter((item, index) => {\r\n          return item.id !== val;\r\n        });\r\n      } else {\r\n        car[prop].push({ id: val });\r\n      }\r\n      this.setState({\r\n        car: car,\r\n      });\r\n    } else {\r\n      car[prop] = { id: val };\r\n      this.setState({\r\n        car: car,\r\n      });\r\n    }\r\n  };\r\n  onChangeParamsFiels = (prop, idProp, name, val, isSingle = false) => {\r\n    let car = { ...this.state.car };\r\n    if (!isSingle) {\r\n      if (\r\n        car[prop].find((item) => {\r\n          return item.id === idProp;\r\n        })\r\n      ) {\r\n        car[prop] = car[prop].map((item) => {\r\n          if (item.id === idProp) {\r\n            item[name] = val;\r\n            return item;\r\n          } else return item;\r\n        });\r\n      }\r\n    } else {\r\n      car[prop][name] = val;\r\n    }\r\n    this.setState({\r\n      car: car,\r\n    });\r\n  };\r\n  onChangeCarData = (carId, prop, val) => {\r\n    let carDataX = this.state.car.info;\r\n    if (carDataX.find((item) => item.carId === carId)) {\r\n      carDataX = carDataX.map((item) => {\r\n        if (item.carId === carId) {\r\n          item[prop] = val;\r\n          return item;\r\n        } else return item;\r\n      });\r\n    } else {\r\n      carDataX.push({ carId: carId });\r\n      carDataX[carDataX.length - 1][prop] = val;\r\n    }\r\n    this.setState({ car: { ...this.state.car, info: carDataX } });\r\n  };\r\n  render() {\r\n    let currentCarType =\r\n      this.state.car.typesCar && !!this.state.car.typesCar.length\r\n        ? carTypesList.find((item) => this.state.car.typesCar[0] === item.id)\r\n        : false;\r\n    let currentInfo = {};\r\n    if (this.state.car.info)\r\n      currentInfo =\r\n        this.state.car.info.find((item) => item.carId === currentCarType.id) ||\r\n        {};\r\n    return (\r\n      <div className=\"create-page create-order-page\">\r\n        <LoadingFixed isLoading={this.state.isFetchingAction} />\r\n        <Loading isLoading={this.state.isFetching} />\r\n        {!this.state.isFetching && !this.state.notFound && (\r\n          <div className=\"container-fluid\">\r\n            <h2 className=\"title\">{this.props.title}</h2>\r\n            <div className={`step-create ${this.props.className}`}>\r\n              <div className=\"row\">\r\n                <div className=\"mt-3 col-12 col-md-8 mx-0 px-0 row carInfo\">\r\n                  <h4\r\n                    className=\"f-16 col-12 mb-1\"\r\n                    style={{\r\n                      fontWeight: \"normal\",\r\n                    }}\r\n                  >\r\n                    Тип авто\r\n                  </h4>\r\n                  <div className=\"mt-3 carType\">\r\n                    <Select\r\n                      placeholder=\"Тип  машины\"\r\n                      options={carTypesList.map((item) => {\r\n                        return {\r\n                          value: item.id,\r\n                          label: item.name,\r\n                        };\r\n                      })}\r\n                      value={\r\n                        currentCarType\r\n                          ? {\r\n                              value: currentCarType.id,\r\n                              label: currentCarType.name,\r\n                            }\r\n                          : null\r\n                      }\r\n                      onChange={(val) => {\r\n                        this.onChange(val.value, \"carType\");\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div className=\"carName mt-3\">\r\n                    <CarSelect\r\n                      value={this.state.car.name}\r\n                      apiToken={this.props.user.apiToken}\r\n                      onChange={(val) => {\r\n                        this.onChange(val.value, \"carName\");\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  {currentCarType && (\r\n                    <div className=\"carMoreInfo carInfo row w-100\">\r\n                      {currentCarType.id !== 1 && (\r\n                        <div className=\"carType\">\r\n                          <div className=\"f-14 mb-2\">\r\n                            Грузоподъемность в тоннах\r\n                          </div>\r\n                          <Input\r\n                            type=\"number\"\r\n                            min=\"0\"\r\n                            placeholder=\"Грузоподьемность\"\r\n                            value={currentInfo.capacity || \"\"}\r\n                            onChange={(e) => {\r\n                              this.onChangeCarData(\r\n                                currentCarType.id,\r\n                                \"capacity\",\r\n                                e.target.value\r\n                              );\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                      {currentCarType.id === 12 && (\r\n                        <div className=\"moreInfoCheckBox\">\r\n                          <div className=\"f-14 mb-3\">Тентовый</div>\r\n                          <div\r\n                            style={{\r\n                              display: \"inline-block\",\r\n                            }}\r\n                          >\r\n                            <CheckBox\r\n                              id=\"awning1\"\r\n                              name=\"awning\"\r\n                              value={\r\n                                currentInfo.awning === \"Жесткий борт\" || \"\"\r\n                              }\r\n                              onChange={() => {\r\n                                this.onChangeCarData(\r\n                                  currentCarType.id,\r\n                                  \"awning\",\r\n                                  \"Жесткий борт\"\r\n                                );\r\n                              }}\r\n                              text={\"Жесткий борт\"}\r\n                            />\r\n                          </div>\r\n                          <div\r\n                            style={{\r\n                              display: \"inline-block\",\r\n                            }}\r\n                          >\r\n                            <CheckBox\r\n                              id=\"awning2\"\r\n                              name=\"awning\"\r\n                              value={\r\n                                currentInfo.awning ===\r\n                                  \"Съемная верхняя балка\" || \"\"\r\n                              }\r\n                              onChange={() => {\r\n                                this.onChangeCarData(\r\n                                  currentCarType.id,\r\n                                  \"awning\",\r\n                                  \"Съемная верхняя балка\"\r\n                                );\r\n                              }}\r\n                              text={\"Съемная верхняя балка\"}\r\n                            />\r\n                          </div>\r\n                          <div\r\n                            style={{\r\n                              display: \"inline-block\",\r\n                            }}\r\n                          >\r\n                            <CheckBox\r\n                              id=\"awning3\"\r\n                              name=\"awning\"\r\n                              value={\r\n                                (currentInfo &&\r\n                                  currentInfo.awning ===\r\n                                    \"Съемная боковая стойка\") ||\r\n                                \"\"\r\n                              }\r\n                              onChange={() => {\r\n                                this.onChangeCarData(\r\n                                  currentCarType.id,\r\n                                  \"awning\",\r\n                                  \"Съемная боковая стойка\"\r\n                                );\r\n                              }}\r\n                              text={\"Съемная боковая стойка\"}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {currentCarType.id === 9 && (\r\n                        <div className=\"moreInfoCheckBox\">\r\n                          <div className=\"f-14 mb-3\">Тип</div>\r\n                          <div\r\n                            style={{\r\n                              display: \"inline-block\",\r\n                            }}\r\n                          >\r\n                            <CheckBox\r\n                              id=\"typeGazel1\"\r\n                              name=\"typeGazel\"\r\n                              value={\r\n                                currentInfo.typeGazel ===\r\n                                  \"Цельнометаллическая\" || \"\"\r\n                              }\r\n                              onChange={() => {\r\n                                this.onChangeCarData(\r\n                                  currentCarType.id,\r\n                                  \"typeGazel\",\r\n                                  \"Цельнометаллическая\"\r\n                                );\r\n                              }}\r\n                              text={\"Цельнометаллическая\"}\r\n                            />\r\n                          </div>\r\n                          <div\r\n                            style={{\r\n                              display: \"inline-block\",\r\n                            }}\r\n                          >\r\n                            <CheckBox\r\n                              id=\"typeGazel2\"\r\n                              name=\"typeGazel\"\r\n                              value={currentInfo.typeGazel === \"С тентом\" || \"\"}\r\n                              onChange={() => {\r\n                                this.onChangeCarData(\r\n                                  currentCarType.id,\r\n                                  \"typeGazel\",\r\n                                  \"С тентом\"\r\n                                );\r\n                              }}\r\n                              text={\"С тентом\"}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"moreInfoCheckBox\">\r\n                        <div className=\"f-14 mb-3\">Свойство:</div>\r\n                        <div\r\n                          style={{\r\n                            display: \"inline-block\",\r\n                          }}\r\n                        >\r\n                          <CheckBox\r\n                            id=\"property1\"\r\n                            name=\"property\"\r\n                            value={\r\n                              (this.state.car &&\r\n                                this.state.car.property === \"Манипулятор\") ||\r\n                              \"\"\r\n                            }\r\n                            onChange={() => {\r\n                              this.onChange(\"Манипулятор\", \"carProperty\");\r\n                            }}\r\n                            text={\"Манипулятор\"}\r\n                          />\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            display: \"inline-block\",\r\n                          }}\r\n                        >\r\n                          <CheckBox\r\n                            id=\"property2\"\r\n                            name=\"property\"\r\n                            value={\r\n                              (this.state.car &&\r\n                                this.state.car.property === \"Рефрижератор\") ||\r\n                              \"\"\r\n                            }\r\n                            onChange={() => {\r\n                              this.onChange(\"Рефрижератор\", \"carProperty\");\r\n                            }}\r\n                            text={\"Рефрижератор\"}\r\n                          />\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            display: \"inline-block\",\r\n                          }}\r\n                        >\r\n                          <CheckBox\r\n                            id=\"property3\"\r\n                            name=\"property\"\r\n                            value={\r\n                              (this.state.car &&\r\n                                this.state.car.property === \"Изотерм\") ||\r\n                              \"\"\r\n                            }\r\n                            onChange={() => {\r\n                              this.onChange(\"Изотерм\", \"carProperty\");\r\n                            }}\r\n                            text={\"Изотерм\"}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"mt-3 col-12 col-md-4 row addPhotoCarBlock\">\r\n                  <h4\r\n                    className=\"f-16 col-12 text-center\"\r\n                    style={{\r\n                      marginBottom: \"20px\",\r\n                      fontWeight: \"normal\",\r\n                    }}\r\n                  >\r\n                    Добавьте фото машины\r\n                  </h4>\r\n                  <input\r\n                    id=\"photoCar\"\r\n                    onChange={(e) => {\r\n                      let file = e.target.files[0];\r\n                      if (file.size / 1000 > 10000)\r\n                        toast.error(\"Изображение больше 10 мб!\", {\r\n                          position: toast.POSITION.TOP_CENTER,\r\n                        });\r\n                      else\r\n                        this.onChange(\r\n                          { file: file, path: URL.createObjectURL(file) },\r\n                          \"carPhoto\"\r\n                        );\r\n                    }}\r\n                    type=\"file\"\r\n                    accept=\"image/jpeg,image/png\"\r\n                    hidden\r\n                  />\r\n                  <div\r\n                    className={`inputPhoto ${\r\n                      !this.state.car.photo ? \"unload\" : \"\"\r\n                    } `}\r\n                  >\r\n                    <div\r\n                      className=\"placeholder\"\r\n                      onClick={() => {\r\n                        document.getElementById(\"photoCar\").click();\r\n                      }}\r\n                    >\r\n                      <span>Загрузить</span>\r\n                    </div>\r\n                    {this.state.car.photo && (\r\n                      <img\r\n                        src={\r\n                          this.state.car.photo\r\n                            ? this.state.car.photo.path\r\n                            : false\r\n                        }\r\n                        className=\"carPhoto\"\r\n                        alt=\"carPhoto\"\r\n                      />\r\n                    )}\r\n                    {!this.state.car.photo && <div className=\"carPhoto\" />}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row swicher-wrapper\">\r\n                <div className=\"col-sm-6 col-md-4\">\r\n                  <div className=\"CheckBoxSwitcher-wrapper\">\r\n                    <CheckBoxSwitcher\r\n                      lableClassname=\"f-16\"\r\n                      val={this.state.isExtra}\r\n                      onChange={() => {\r\n                        this.setState({\r\n                          isExtra: !this.state.isExtra,\r\n                        });\r\n                      }}\r\n                      lable=\"Дополнительные параметры\"\r\n                    />\r\n                  </div>\r\n                  <CSSTransitionGroup\r\n                    transitionName=\"height-animation-item\"\r\n                    transitionEnterTimeout={300}\r\n                    transitionLeaveTimeout={300}\r\n                    style={{\r\n                      display: \"contents\",\r\n                    }}\r\n                  >\r\n                    {this.state.isExtra && (\r\n                      <div className=\"checkboxGroup\">\r\n                        {extraParams.map((item, index) => {\r\n                          return (\r\n                            <div key={index} className=\"checkboxParam\">\r\n                              <CheckBox\r\n                                id={`additionally${item.id}`}\r\n                                name={`additionally${item.id}`}\r\n                                value={this.state.car.additionally.find(\r\n                                  (itemX) => itemX.id == item.id\r\n                                )}\r\n                                onChange={() => {\r\n                                  this.onChangeParams(\"additionally\", item.id);\r\n                                }}\r\n                                text={item.name}\r\n                              />\r\n                              {item.additionFields &&\r\n                                this.state.car.additionally.find(\r\n                                  (itemX) => itemX.id === item.id\r\n                                ) &&\r\n                                item.additionFields.map((itemField, index) => {\r\n                                  return (\r\n                                    <itemField.field\r\n                                      key={index}\r\n                                      {...itemField.props}\r\n                                      value={this.getIfExit(\r\n                                        this.state.car.additionally,\r\n                                        item.id,\r\n                                        itemField.name\r\n                                      )}\r\n                                      onChange={(e) => {\r\n                                        this.onChangeParamsFiels(\r\n                                          \"additionally\",\r\n                                          item.id,\r\n                                          itemField.name,\r\n                                          e.target.value\r\n                                        );\r\n                                      }}\r\n                                    ></itemField.field>\r\n                                  );\r\n                                })}\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                  </CSSTransitionGroup>\r\n                </div>\r\n                <div className=\"col-sm-6 col-md-4\">\r\n                  <div className=\"CheckBoxSwitcher-wrapper\">\r\n                    <CheckBoxSwitcher\r\n                      val={this.state.isContract}\r\n                      onChange={() => {\r\n                        this.setState({\r\n                          isContract: !this.state.isContract,\r\n                        });\r\n                      }}\r\n                      lable=\"Заключение договора\"\r\n                    />\r\n                  </div>\r\n                  <CSSTransitionGroup\r\n                    transitionName=\"height-animation-item\"\r\n                    transitionEnterTimeout={300}\r\n                    transitionLeaveTimeout={300}\r\n                    style={{\r\n                      display: \"contents\",\r\n                    }}\r\n                  >\r\n                    {this.state.isContract && (\r\n                      <div className=\"checkboxGroup contract\">\r\n                        {contractParams.map((item, index) => {\r\n                          return (\r\n                            <div key={index} className=\"checkboxParam\">\r\n                              <CheckBox\r\n                                id={`contractParams${item.id}`}\r\n                                name={`contractParams`}\r\n                                value={this.state.car.contractInfo.find(\r\n                                  (itemX) => itemX.id === item.id\r\n                                )}\r\n                                onChange={() => {\r\n                                  this.onChangeParams(\"contractInfo\", item.id);\r\n                                }}\r\n                                text={item.name}\r\n                              />\r\n                              {item.additionFields &&\r\n                                this.state.car.contractInfo.find(\r\n                                  (itemX) => itemX.id === item.id\r\n                                ) &&\r\n                                item.additionFields.map((itemField, index) => {\r\n                                  return (\r\n                                    <itemField.field\r\n                                      key={index}\r\n                                      {...itemField.props}\r\n                                      value={\r\n                                        this.getIfExit(\r\n                                          this.state.car.contractInfo,\r\n                                          item.id,\r\n                                          itemField.props.name\r\n                                        ).value\r\n                                      }\r\n                                      onChange={(val) => {\r\n                                        this.onChangeParamsFiels(\r\n                                          \"contractInfo\",\r\n                                          item.id,\r\n                                          itemField.props.name,\r\n                                          val\r\n                                        );\r\n                                      }}\r\n                                    ></itemField.field>\r\n                                  );\r\n                                })}\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                  </CSSTransitionGroup>\r\n                </div>\r\n                <div className=\"col-sm-6 col-md-4\">\r\n                  <div className=\"CheckBoxSwitcher-wrapper\">\r\n                    <CheckBoxSwitcher\r\n                      val={this.state.isPayment}\r\n                      onChange={() => {\r\n                        this.setState({\r\n                          isPayment: !this.state.isPayment,\r\n                        });\r\n                      }}\r\n                      lable=\"Способы оплаты водителю\"\r\n                    />\r\n                  </div>\r\n                  <CSSTransitionGroup\r\n                    transitionName=\"height-animation-item\"\r\n                    transitionEnterTimeout={300}\r\n                    transitionLeaveTimeout={300}\r\n                    style={{\r\n                      display: \"contents\",\r\n                    }}\r\n                  >\r\n                    {this.state.isPayment && (\r\n                      <div className=\"checkboxGroup\">\r\n                        {paymentParams.map((item, index) => {\r\n                          return (\r\n                            <div key={index} className=\"checkboxParam\">\r\n                              <CheckBox\r\n                                id={`paymentParams${item.id}`}\r\n                                name={`paymentParams${item.id}`}\r\n                                value={\r\n                                  this.state.car.paymentInfo.length &&\r\n                                  !!this.state.car.paymentInfo.find(\r\n                                    (itemX) => itemX.id === item.id\r\n                                  )\r\n                                }\r\n                                onChange={() => {\r\n                                  this.onChangeParams(\"paymentInfo\", item.id);\r\n                                }}\r\n                                text={item.name}\r\n                              />\r\n                              {item.additionFields &&\r\n                                this.state.car.paymentInfo.find(\r\n                                  (itemX) => itemX === item.id\r\n                                ) &&\r\n                                item.additionFields.map((itemField, index) => {\r\n                                  return (\r\n                                    <itemField.field\r\n                                      key={index}\r\n                                      {...itemField.props}\r\n                                      value={\r\n                                        this.state.car.paymentInfo[\r\n                                          itemField.props.name\r\n                                        ]\r\n                                      }\r\n                                      onChange={(e) => {\r\n                                        this.onChangeParamsFiels(\r\n                                          \"paymentInfo\",\r\n                                          item.id,\r\n                                          itemField.props.name,\r\n                                          e.target.value\r\n                                        );\r\n                                      }}\r\n                                    ></itemField.field>\r\n                                  );\r\n                                })}\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                  </CSSTransitionGroup>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row slide-step justify-content-end\">\r\n                <Button\r\n                  type=\"fill\"\r\n                  className=\" input-action\"\r\n                  paddingHorizontal=\"40px\"\r\n                  onClick={\r\n                    this.state.isEditing ? this.editTemplate : this.saveTemplate\r\n                  }\r\n                >\r\n                  Сохранить\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {!this.state.isFething && this.state.notFound && <NoMatch />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withRouter(OfferCreate1));\r\n","// App\r\nimport React from \"react\";\r\n\r\n// Elements\r\nimport Button from \"../Elements/Button\";\r\nimport LoadingFixed from \"../Elements/LoadingFixed\";\r\nimport settings from \"../config/settings\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ReactComponent as PayIco } from \"../img/pay-ico.svg\";\r\nimport { ReactComponent as Dogovor } from \"../img/dogovor.svg\";\r\nimport api from \"../config/api\";\r\nimport carTypesList from \"../config/baseInfo/carTypesList\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  extraParams,\r\n  contractParams,\r\n  paymentParams,\r\n} from \"../config/baseInfo/carParams\";\r\n\r\nclass CarTemplate extends React.Component {\r\n  state = {\r\n    isFetching: false,\r\n  };\r\n  delete = () => {\r\n    this.setState({ isFetching: true }, () => {\r\n      fetch(`${api.urlApi}/api/car/deleteCarTemplate`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          templateId: this.props.template._id,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (data.error) {\r\n            data.errors.map((item) => {\r\n              toast.error(item.msg);\r\n            });\r\n            this.setState({\r\n              isFetching: false,\r\n            });\r\n          }\r\n          if (!data.error) {\r\n            this.setState(\r\n              {\r\n                isFetching: false,\r\n              },\r\n              () => {\r\n                this.props.reload();\r\n              }\r\n            );\r\n          }\r\n        });\r\n    });\r\n  };\r\n  splitArr = (arr, chunks) =>\r\n    [...Array(chunks)].map((_, c) => arr.filter((n, i) => i % chunks === c));\r\n  render() {\r\n    return (\r\n      <div className=\"auto-template mt-4\">\r\n        <LoadingFixed isLoading={this.state.isFetching} />\r\n        <div className=\"head-template align-items-center row\">\r\n          <div\r\n            className=\"px-3 title-auto\"\r\n            style={{\r\n              minWidth: \"280px\",\r\n            }}\r\n          >\r\n            {this.props.template.car.name}\r\n          </div>\r\n          <div className=\"row mx-0 templateAction\">\r\n            <div className=\"px-3\">\r\n              <Button\r\n                type=\"fill\"\r\n                paddingVertical=\"6px\"\r\n                className=\"f-12 position-relative\"\r\n              >\r\n                Редактировать\r\n                <Link\r\n                  to={`/edit-template-auto/${this.props.template._id}`}\r\n                  className=\"sharected-link\"\r\n                ></Link>\r\n              </Button>\r\n            </div>\r\n            <div className=\"px-3\">\r\n              <Button\r\n                type=\"fill\"\r\n                paddingVertical=\"6px\"\r\n                className=\"bg-gray f-12 \"\r\n                onClick={this.delete}\r\n              >\r\n                Удалить\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row mt-4 template-content\">\r\n          <div className=\"templatePhoto\">\r\n            <img\r\n              className=\"w-100\"\r\n              src={this.props.template.car.photo.path}\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div className=\"px-3 f-14 carDescription\">\r\n            {this.props.template.car.typesCar.length === carTypesList.length &&\r\n              \"Любая\"}\r\n            {this.props.template.car.typesCar.length !== carTypesList.length &&\r\n              this.props.template.car.typesCar.map((itemY, index, items) => {\r\n                let type = carTypesList.find((itemX) => itemY === itemX.id);\r\n                return (\r\n                  <div key={index}>\r\n                    <div>\r\n                      <b>{type.name}</b>\r\n                    </div>\r\n                    {this.props.template.car.info &&\r\n                      this.props.template.car.info.find(\r\n                        (itemX) => itemX.carId === itemY\r\n                      ) &&\r\n                      Object.entries(\r\n                        this.props.template.car.info.find(\r\n                          (itemX) => itemX.carId === itemY\r\n                        )\r\n                      ).map((itemY, index) => {\r\n                        if (itemY[0] !== \"carId\") {\r\n                          let name;\r\n                          if (itemY[0] === \"capacity\")\r\n                            name = \"Грузоподъемность\";\r\n                          if (itemY[0] === \"awning\") name = \"Тентовый\";\r\n                          if (itemY[0] === \"typeGazel\") name = \"Тип Газели\";\r\n                          if (name) {\r\n                            return (\r\n                              <div key={index}>\r\n                                {name}: {itemY[1]}\r\n                              </div>\r\n                            );\r\n                          }\r\n                        }\r\n                      })}\r\n                    {this.props.template.car.property && (\r\n                      <div key={index}>\r\n                        Свойство: {this.props.template.car.property}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n          <div className=\"row px-3\">\r\n            {this.props.template.car.additionally &&\r\n              this.splitArr(\r\n                this.props.template.car.additionally,\r\n                this.props.template.car.additionally.length > 4 ? 2 : 1\r\n              ).map((itemY, i) => {\r\n                {\r\n                  return (\r\n                    <div className=\"additionally\">\r\n                      {itemY.map((itemZ, index) => {\r\n                        return (\r\n                          <span className=\"position-relative left-angle f-12\">\r\n                            {\r\n                              extraParams.find((itemX) => itemZ.id === itemX.id)\r\n                                .name\r\n                            }\r\n                          </span>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  );\r\n                }\r\n              })}\r\n          </div>\r\n          <div className=\"col contractInfoTemplate\">\r\n            {this.props.template.car.contractInfo &&\r\n              !!this.props.template.car.contractInfo.length && (\r\n                <span className=\"property-user f-12\">\r\n                  <Dogovor /> &nbsp;\r\n                  {this.props.template.car.contractInfo.map(\r\n                    (item, index, items) => {\r\n                      let string = contractParams.find(\r\n                        (itemX) => itemX.id === item.id\r\n                      ).label;\r\n                      if (item.id === 3 || item.id === 2)\r\n                        string += \"(\" + item.org.value + \")\";\r\n                      return string + (items.length - 1 === index ? \".\" : \", \");\r\n                    }\r\n                  )}\r\n                </span>\r\n              )}\r\n\r\n            {this.props.template.car.paymentInfo &&\r\n              !!this.props.template.car.paymentInfo.length && (\r\n                <span className=\"property-user  f-12\">\r\n                  <PayIco /> &nbsp; Оплата&nbsp;\r\n                  {this.props.template.car.paymentInfo.map(\r\n                    (item, index, items) => {\r\n                      return (\r\n                        paymentParams.find((itemX) => itemX.id === item.id)\r\n                          .label + (items.length - 1 === index ? \".\" : \", \")\r\n                      );\r\n                    }\r\n                  )}\r\n                </span>\r\n              )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CarTemplate;\r\n","// App\r\nimport React from \"react\";\r\n\r\n// Elements\r\nimport Button from \"../../Elements/Button\";\r\nimport { connect } from \"react-redux\";\r\nimport Loading from \"../../Elements/Loading\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport { Link } from \"react-router-dom\";\r\nimport api from \"../../config/api\";\r\nimport CarTemplate from \"../../ArticlesElements/CarTemplate\";\r\n\r\nclass OfferCreate extends React.Component {\r\n  state = {\r\n    carTemplates: [],\r\n    isFetching: true,\r\n  };\r\n  componentDidMount() {\r\n    this.getCarTemplates();\r\n  }\r\n  getCarTemplates = () => {\r\n    this.setState({ isFetching: true }, () => {\r\n      fetch(`${api.urlApi}/api/car/getCarTemplates`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (!data.error) {\r\n            if (data.carTemplates) {\r\n              this.setState({\r\n                carTemplates: data.carTemplates,\r\n                isFetching: false,\r\n              });\r\n            }\r\n          }\r\n        });\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"myauto-page\">\r\n          <div className=\"container-fluid\">\r\n            <h2\r\n              className=\"title\"\r\n              style={{\r\n                padding: \"0 28px 15px 28px\",\r\n                marginRight: \"-28px\",\r\n                marginLeft: \"-28px\",\r\n                borderBottom: \"1px solid #DDDDDD\",\r\n              }}\r\n            >\r\n              Мои шаблоны авто\r\n            </h2>\r\n\r\n            <div>\r\n              <Link to=\"/create-template-auto\">\r\n                <Button\r\n                  paddingVertical=\"11px\"\r\n                  className=\"f-14\"\r\n                  paddingVertical=\"10px\"\r\n                  type=\"fill\"\r\n                >\r\n                  Добавить шаблон авто\r\n                </Button>\r\n              </Link>\r\n              <div className=\"carTemplates-block\">\r\n                <Loading isLoading={this.state.isFetching}></Loading>\r\n                <CSSTransitionGroup\r\n                  transitionName=\"height-animation-item\"\r\n                  transitionEnterTimeout={500}\r\n                  transitionLeaveTimeout={1}\r\n                  style={{\r\n                    display: \"contents\",\r\n                  }}\r\n                >\r\n                  {this.state.carTemplates.map((item, index) => {\r\n                    return (\r\n                      <CarTemplate\r\n                        reload={this.getCarTemplates}\r\n                        user={this.props.user}\r\n                        template={item}\r\n                      />\r\n                    );\r\n                  })}\r\n                  {!this.state.carTemplates.length && (\r\n                    <div className=\"text-center\">\r\n                      Шаблоны авто еще не созданы\r\n                    </div>\r\n                  )}\r\n                </CSSTransitionGroup>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(OfferCreate);\r\n","// App\r\nimport React from \"react\";\r\nimport Avatar from \"../Elements/Avatar\";\r\nimport { Link } from \"react-router-dom\";\r\n// Elements\r\nimport RatingInput from \"../Elements/RatingInput\";\r\nimport Button from \"../Elements/Button\";\r\n//IMGS\r\nimport ImgActiveStar from \"../img/active-star.png\";\r\n\r\nclass ReviewItem extends React.Component {\r\n  state = { isEdit: false, comment: \"\", reting: 0 };\r\n  componentDidMount() {\r\n    this.setState({\r\n      comment: this.props.review.comment,\r\n      rating: this.props.review.rating,\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"review-article\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div\r\n              className=\"col f-14\"\r\n              style={{\r\n                maxWidth: \"115px\",\r\n              }}\r\n            >\r\n              <span\r\n                style={{\r\n                  color: \"#6C6C6C\",\r\n                }}\r\n              >\r\n                {new Date(this.props.review.createdAt).toDateR()}\r\n              </span>\r\n            </div>\r\n            {this.props.isMy && (\r\n              <div\r\n                className=\"col f-14 d-flex align-items-start\"\r\n                style={{\r\n                  whiteSpace: \"pre-line\",\r\n                  maxWidth: \"150px\",\r\n                  color: \"#322F2F\",\r\n                }}\r\n              >\r\n                {this.props.review.order.type === \"offer\"\r\n                  ? \"предложение\"\r\n                  : \"заказ\"}{\" \"}\r\n                №{this.props.review.order.articleId}\r\n              </div>\r\n            )}\r\n            <div\r\n              className=\"col f-14 d-flex align-items-start\"\r\n              style={{\r\n                whiteSpace: \"pre-line\",\r\n                maxWidth: \"190px\",\r\n              }}\r\n            >\r\n              {!this.props.isMy && (\r\n                <>\r\n                  <Link\r\n                    to={`/user/${this.props.review.author._id}`}\r\n                    style={{\r\n                      color: \"#000\",\r\n                    }}\r\n                  >\r\n                    <Avatar\r\n                      name={this.props.review.author.name.first}\r\n                      avatar={this.props.review.author.avatar}\r\n                    />\r\n                  </Link>\r\n                  <Link\r\n                    to={`/user/${this.props.review.author._id}`}\r\n                    style={{\r\n                      color: \"#000\",\r\n                    }}\r\n                  >\r\n                    <span style={{ lineHeight: \"16px\" }}>\r\n                      {this.props.review.author.name.last}\r\n                      <br />\r\n                      {this.props.review.author.name.first}\r\n                      <br />\r\n                      {this.props.review.author.name.middle}\r\n                    </span>\r\n                  </Link>\r\n                </>\r\n              )}\r\n              {this.props.isMy && (\r\n                <>\r\n                  <Link\r\n                    to={`/user/${this.props.review.user._id}`}\r\n                    style={{\r\n                      color: \"#000\",\r\n                    }}\r\n                  >\r\n                    <Avatar\r\n                      name={this.props.review.user.name.first}\r\n                      avatar={this.props.review.user.avatar}\r\n                    />\r\n                  </Link>\r\n                  <Link\r\n                    to={`/user/${this.props.review.user._id}`}\r\n                    style={{\r\n                      color: \"#000\",\r\n                    }}\r\n                  >\r\n                    <span style={{ lineHeight: \"16px\" }}>\r\n                      {this.props.review.user.name.last}\r\n                      <br />\r\n                      {this.props.review.user.name.first}\r\n                      <br />\r\n                      {this.props.review.user.name.middle}\r\n                    </span>\r\n                  </Link>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div\r\n              className=\"col f-14\"\r\n              style={{\r\n                maxWidth: \"105px\",\r\n              }}\r\n            >\r\n              Рейтинг:\r\n              <br />\r\n              {this.state.isEdit && (\r\n                <RatingInput\r\n                  onClick={(val) => {\r\n                    this.setState({ rating: val });\r\n                  }}\r\n                  value={this.state.rating}\r\n                />\r\n              )}\r\n              {!this.state.isEdit && (\r\n                <>\r\n                  {this.props.review.rating || 0}{\" \"}\r\n                  <img src={ImgActiveStar} alt=\"\" />\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"col-12 col-md f-14 \">\r\n              {this.state.isEdit && (\r\n                <>\r\n                  <textarea\r\n                    value={this.state.comment}\r\n                    onChange={(e) => {\r\n                      this.setState({ comment: e.target.value });\r\n                    }}\r\n                  >\r\n                    {this.state.comment}\r\n                  </textarea>\r\n                </>\r\n              )}\r\n              {!this.state.isEdit && this.props.review.comment}\r\n            </div>\r\n            {this.props.isMy && this.props.notEdit && !this.state.isEdit && (\r\n              <div\r\n                className=\"col text-center\"\r\n                style={{\r\n                  maxWidth: \"155px\",\r\n                }}\r\n              >\r\n                <Button\r\n                  type=\"fill\"\r\n                  paddingHorizontal=\"25px\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      isEdit: true,\r\n                    });\r\n                  }}\r\n                >\r\n                  Изменить\r\n                </Button>\r\n              </div>\r\n            )}\r\n            {this.props.isMy && this.state.isEdit && (\r\n              <div\r\n                className=\"col text-center\"\r\n                style={{\r\n                  maxWidth: \"155px\",\r\n                }}\r\n              >\r\n                <Button\r\n                  type=\"fill\"\r\n                  paddingHorizontal=\"25px\"\r\n                  onClick={() => {\r\n                    this.props.onChange(this.state.rating, this.state.comment);\r\n                    this.setState({ isEdit: false });\r\n                  }}\r\n                >\r\n                  Сохранить\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n          {!this.props.isLast && <hr />}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ReviewItem;\r\n","// App\r\nimport React from \"react\";\r\n\r\n// Article\r\nimport Pagination from \"../Elements/Pagination\";\r\nimport settings from \"../config/settings\";\r\nimport configApi from \"../config/api\";\r\nimport { withCookies } from \"react-cookie\";\r\nimport Loading from \"../Elements/Loading\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport ReviewItem from \"./ReviewsItem\";\r\nclass ReviewsUser extends React.Component {\r\n  state = {\r\n    reviews: [],\r\n    currentPage: 0,\r\n    pageCount: false,\r\n    isFetching: true,\r\n  };\r\n  componentDidMount() {\r\n    this.setState({ pageCount: this.props.countAll / settings.reviewsOnPage });\r\n    this.getReviews(0);\r\n  }\r\n  getReviews(page = 0) {\r\n    this.setState({ isFetching: true }, () => {\r\n      fetch(`${configApi.urlApi}/api/article/getUserReviews`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          userId: this.props.userId,\r\n          page: page,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (data.reviews) {\r\n            this.setState({\r\n              currentPage: page,\r\n              reviews: data.reviews,\r\n              isFetching: false,\r\n            });\r\n          }\r\n        });\r\n    });\r\n  }\r\n  setPage(selected) {\r\n    if (selected !== this.state.currentPage) {\r\n      this.getReviews(selected);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"articles-block\">\r\n        <Loading isLoading={this.state.isFetching}></Loading>\r\n        <CSSTransitionGroup\r\n          transitionName=\"height-animation-item\"\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={1}\r\n          style={{\r\n            display: \"contents\",\r\n          }}\r\n        >\r\n          {this.state.reviews.map((review, index, reviews) => {\r\n            return (\r\n              <ReviewItem\r\n                key={index}\r\n                isLast={reviews.length === index + 1}\r\n                review={review}\r\n                notEdit={true}\r\n              />\r\n            );\r\n          })}\r\n        </CSSTransitionGroup>\r\n        {!this.state.reviews.length && (\r\n          <div className=\"text-center py-3\">Записей не найдено</div>\r\n        )}\r\n        {!!this.state.reviews.length && (\r\n          <Pagination\r\n            currentPage={this.state.currentPage}\r\n            pageCount={this.state.pageCount - 1}\r\n            onPageChange={this.setPage.bind(this)}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withCookies(ReviewsUser);\r\n","// App\r\nimport React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { ReactComponent as CloseSVG } from \"../img/close.svg\";\r\nimport Loading from \"../Elements/Loading\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport settings from \"../config/settings.js\";\r\nimport api from \"../config/api.js\";\r\nimport { toast } from \"react-toastify\";\r\nclass OrdersListModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    settings.stylesModals.content.padding = \"25px 30px 20px\";\r\n  }\r\n  state = {\r\n    isOpen: false,\r\n    isFetching: true,\r\n    orders: false,\r\n  };\r\n  componentDidMount() {\r\n    fetch(`${api.urlApi}/api/article/getMyArticles`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${this.props.apiToken}`,\r\n      },\r\n      body: JSON.stringify({\r\n        status: 2,\r\n        type: \"my\",\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ error, errors, articles }) => {\r\n        if (error)\r\n          errors.map((item) => {\r\n            toast.error(item.msg);\r\n          });\r\n        this.setState({ orders: articles, isFetching: false });\r\n      });\r\n  }\r\n  closeForm = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n  openForm = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n  offerCargoOrder = (orderId) => {\r\n    fetch(`${api.urlApi}/api/article/offerCargoOrder`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${this.props.apiToken}`,\r\n      },\r\n      body: JSON.stringify({\r\n        userId: this.props.userId,\r\n        orderId,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ error, errors }) => {\r\n        if (!error) {\r\n          toast.success(\"Предложение отправлено\");\r\n          this.closeForm();\r\n        }\r\n        if (error)\r\n          errors.map((item) => {\r\n            toast.error(item.msg);\r\n          });\r\n      });\r\n  };\r\n  render() {\r\n    return (\r\n      <Modal\r\n        isOpen={this.state.isOpen}\r\n        onRequestClose={this.closeForm}\r\n        className=\"orders-modal\"\r\n      >\r\n        <CSSTransitionGroup\r\n          transitionName=\"height-animation-item\"\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={1}\r\n          style={{\r\n            display: \"contents\",\r\n          }}\r\n        >\r\n          <Scrollbars\r\n            renderTrackVertical={(props) => <div className=\"track-vertical\" />}\r\n            renderThumbVertical={(props) => <div className=\"thumb-vertical\" />}\r\n            className=\"scroll\"\r\n            autoHide\r\n          >\r\n            <Loading isLoading={this.state.isFetching}></Loading>\r\n\r\n            {!this.state.isFetching && (\r\n              <div className=\"orders-item\">\r\n                {this.state.orders.map((item, index) => {\r\n                  return (\r\n                    <div\r\n                      key={index}\r\n                      onClick={() => {\r\n                        this.offerCargoOrder(item._id);\r\n                      }}\r\n                    >\r\n                      Заказ№ {item.articleId}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </Scrollbars>\r\n        </CSSTransitionGroup>\r\n        <CloseSVG\r\n          className=\"close-svg\"\r\n          onClick={this.closeForm}\r\n          className=\"close-svg\"\r\n        ></CloseSVG>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OrdersListModal;\r\n","// App\r\nimport React from \"react\";\r\n\r\nimport Articles from \"../../ArticlesElements/Articles\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { withLastLocation } from \"react-router-last-location\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport Button from \"../../Elements/Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport api from \"../../config/api\";\r\nimport avatar from \"../../img/avatar.svg\";\r\nimport ImgActiveStar from \"../../img/active-star.png\";\r\nimport redWarning from \"../../img/redWarning.svg\";\r\nimport NoMatch from \"../NoMatch\";\r\nimport Loading from \"../../Elements/Loading\";\r\nimport Meta from \"../../Elements/Meta\";\r\nimport ReviewsUser from \"../../Partials/ReviewsUser\";\r\nimport { setForceTitle } from \"../../functions/functions\";\r\n\r\nimport OrdersListModal from \"../../Modal/OrdersListModal\";\r\nclass User extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.articles = React.createRef();\r\n  }\r\n  state = {\r\n    filter: {},\r\n    currentTab: 1,\r\n    user: false,\r\n    isFething: true,\r\n    notFound: false,\r\n    countData: {},\r\n  };\r\n  componentDidMount() {\r\n    fetch(`${api.urlApi}/api/user/get`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        userId: this.props.match.params.id,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((responce) => {\r\n        if (responce.error || !responce.user)\r\n          this.setState({ notFound: true, isFething: false });\r\n        else {\r\n          let isHidden =\r\n            responce.user.type === \"carrier\" && !responce.user.isTariff;\r\n          let isBan = responce.user.isBan;\r\n          this.setState(\r\n            {\r\n              user: responce.user,\r\n              filter: {\r\n                type: responce.user.type === \"cargo\" ? \"order\" : \"offer\",\r\n                status: {\r\n                  $in: [2, 5, 6],\r\n                },\r\n                author: this.state.user._id,\r\n              },\r\n              isHidden,\r\n              isBan,\r\n              currentTab: isBan || isHidden ? false : this.state.currentTab,\r\n              countData: responce.countData,\r\n              isFething: false,\r\n            },\r\n            () => {\r\n              setForceTitle(\r\n                this.state.user.name.last + \" \" + this.state.user.name.first\r\n              );\r\n            }\r\n          );\r\n        }\r\n      });\r\n  }\r\n  renderTabs() {\r\n    let type = this.state.user.type === \"cargo\" ? \"order\" : \"offer\";\r\n    return (\r\n      <div className=\"tab_groups mt-3\">\r\n        <span\r\n          className=\"tab_group goPrev text-center\"\r\n          style={{\r\n            margin: \"0 15px 15px 15px\",\r\n          }}\r\n        >\r\n          <a\r\n            className=\"href hover left-angle mx-auto angle-go d-block\"\r\n            style={{\r\n              maxWidth: \"50px\",\r\n            }}\r\n            onClick={() => {\r\n              if (this.props.lastLocation) {\r\n                this.props.history.push(this.props.lastLocation.pathname);\r\n              } else {\r\n                this.props.history.push(\"/search\");\r\n              }\r\n            }}\r\n          >\r\n            Назад\r\n          </a>\r\n        </span>\r\n\r\n        <span\r\n          className={`tab_group ${this.state.currentTab === 1 ? \"active\" : \"\"}`}\r\n          onClick={() => {\r\n            if (this.state.currentTab !== 1)\r\n              this.onChengeArticles({\r\n                currentTab: 1,\r\n                filter: {\r\n                  type: type,\r\n                  status: 2,\r\n                  author: this.state.user._id,\r\n                },\r\n              });\r\n          }}\r\n        >\r\n          Все {type === \"offer\" ? \"предложения\" : \"заказы\"}\r\n          <span className=\"counter\">\r\n            {this.state.countData.public +\r\n              this.state.countData.success +\r\n              this.state.countData.canceled}\r\n          </span>\r\n        </span>\r\n\r\n        <span\r\n          className={`tab_group ${this.state.currentTab === 2 ? \"active\" : \"\"}`}\r\n          onClick={() => {\r\n            if (this.state.currentTab !== 2)\r\n              this.onChengeArticles({\r\n                currentTab: 2,\r\n                filter: {\r\n                  type: type === \"offer\" ? \"order\" : type,\r\n                  status: {\r\n                    $in: [4, 5, 6],\r\n                  },\r\n                  executors: this.state.user._id,\r\n                },\r\n              });\r\n          }}\r\n        >\r\n          Взятые {type === \"offer\" ? \"заказы\" : \"предложения\"}\r\n          <span className=\"counter\">{this.state.countData.isGetted} </span>\r\n        </span>\r\n\r\n        <span\r\n          className={`tab_group ${this.state.currentTab === 3 ? \"active\" : \"\"}`}\r\n          onClick={() => {\r\n            if (this.state.currentTab !== 3)\r\n              this.onChengeArticles({\r\n                currentTab: 3,\r\n                filter: {\r\n                  type: type,\r\n                  status: 2,\r\n                  author: this.state.user._id,\r\n                },\r\n              });\r\n          }}\r\n        >\r\n          Активные\r\n          <span className=\"counter\">{this.state.countData.public} </span>\r\n        </span>\r\n        <span\r\n          className={`tab_group ${this.state.currentTab === 4 ? \"active\" : \"\"}`}\r\n          onClick={() => {\r\n            if (this.state.currentTab !== 4)\r\n              this.onChengeArticles({\r\n                currentTab: 4,\r\n                filter: {\r\n                  type: type,\r\n                  status: 5,\r\n                  author: this.state.user._id,\r\n                },\r\n              });\r\n          }}\r\n        >\r\n          Выполненные\r\n          <span className=\"counter\">{this.state.countData.success} </span>\r\n        </span>\r\n        <span\r\n          className={`tab_group ${this.state.currentTab === 5 ? \"active\" : \"\"}`}\r\n          onClick={() => {\r\n            if (this.state.currentTab !== 5)\r\n              this.onChengeArticles({\r\n                currentTab: 5,\r\n                filter: {\r\n                  type: type,\r\n                  author: this.state.user._id,\r\n                  status: 6,\r\n                },\r\n              });\r\n          }}\r\n        >\r\n          Отмененные\r\n          <span className=\"counter\">{this.state.countData.canceled} </span>\r\n        </span>\r\n        <span\r\n          className={`tab_group ${this.state.currentTab === 6 ? \"active\" : \"\"}`}\r\n          onClick={() => {\r\n            if (this.state.currentTab !== 6)\r\n              this.setState({\r\n                currentTab: 6,\r\n              });\r\n          }}\r\n        >\r\n          Отзывы\r\n          <span className=\"counter\">{this.state.countData.reviews} </span>\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n  formatPhoneNumber(phoneNumberString) {\r\n    var re = /(?:([\\d]{1,}?))??(?:([\\d]{1,3}?))??(?:([\\d]{1,3}?))??(?:([\\d]{2}))??([\\d]{2})$/;\r\n\r\n    var formatted =\r\n      \"+\" +\r\n      phoneNumberString.replace(re, function (all, a, b, c, d, e) {\r\n        return (\r\n          (a ? a + \" (\" : \"\") +\r\n          (b ? b + \") \" : \"\") +\r\n          (c ? c + \"-\" : \"\") +\r\n          (d ? d + \"-\" : \"\") +\r\n          e\r\n        );\r\n      });\r\n\r\n    return formatted;\r\n  }\r\n  onChengeArticles(state) {\r\n    if (!this.state.isHidden && !this.state.isBan)\r\n      this.setState(state, () => {\r\n        this.articles.current.getAricles();\r\n      });\r\n  }\r\n\r\n  render() {\r\n    //Ставлю статус(0,1 - открытый, 2,3 - в работе, 3,4 - закрытый) и Тип(Заказ\r\n    //или Предложение) для отображения\r\n    let user = this.state.user;\r\n    if (!this.state.notFound) {\r\n      return (\r\n        <div className=\"standart-page user-page\">\r\n          <Loading isLoading={this.state.isFething}></Loading>\r\n          <CSSTransitionGroup\r\n            transitionName=\"loading-height-animation-item\"\r\n            transitionEnterTimeout={300}\r\n            transitionLeaveTimeout={300}\r\n            style={{\r\n              display: \"contents\",\r\n            }}\r\n          >\r\n            {!this.state.isFething && (\r\n              <>\r\n                <div className=\"container-fluid\">\r\n                  <Meta\r\n                    keyMeta=\"user\"\r\n                    options={{\r\n                      fio: `${user.name.last} ${user.name.first} ${user.name.middle}`,\r\n                      type:\r\n                        user.type === \"carrier\"\r\n                          ? \"Перевозчик\"\r\n                          : \"Грузовладелец\",\r\n                      rating: user.rating,\r\n                      address: user.address,\r\n                    }}\r\n                  />\r\n                  <div\r\n                    className=\"row\"\r\n                    itemScope\r\n                    itemType=\"https://schema.org/Person\"\r\n                  >\r\n                    <div className=\"col-12 col-lg avatar-img-wrapper text-center\">\r\n                      <img\r\n                        src={(user.avatar && user.avatar.path) || avatar}\r\n                        itemProp=\"image\"\r\n                        className=\"avatar-img\"\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"col row px-0 mx-0\">\r\n                      <div\r\n                        className=\"mx-0 col-12 col-lg-6 row\"\r\n                        style={{\r\n                          fontSize: \"24px\",\r\n                        }}\r\n                      >\r\n                        <div\r\n                          className=\"col-12 text-center text-lg-left\"\r\n                          style={{\r\n                            lineHeight: 1,\r\n                          }}\r\n                          itemProp=\"name\"\r\n                        >\r\n                          {user.name.last} {user.name.first} {user.name.middle}\r\n                        </div>\r\n                        <div\r\n                          className=\"col-12 col-sm-6 mt-2 mt-md-0 text-center text-lg-left\"\r\n                          style={{\r\n                            fontSize: \"18px\",\r\n                          }}\r\n                        >\r\n                          <div itemprop=\"jobTitle\">\r\n                            {user.type === \"carrier\" && <>Перевозчик</>}\r\n                            {user.type === \"cargo\" && <>Грузовладелец</>}\r\n                          </div>\r\n                          <div>\r\n                            {user.contract &&\r\n                              (user.contract.id == 2 ||\r\n                                user.contract.id == 3) &&\r\n                              user.contract.data.data.name.short}\r\n                            {user.contract &&\r\n                              user.contract.id == 1 &&\r\n                              \"Физ. лицо\"}\r\n                            {user.contract &&\r\n                              user.contract.id == 4 &&\r\n                              \"Самозанятый\"}\r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          className=\"col-12 col-sm-6 text-center mt-2 mt-md-0 text-lg-left\"\r\n                          style={{\r\n                            fontSize: \"18px\",\r\n                          }}\r\n                        >\r\n                          {this.state.isHidden && !this.state.isBan && (\r\n                            <div\r\n                              className=\"d-flex\"\r\n                              style={{\r\n                                color: \"#DD2828\",\r\n                                fontSize: \"14px\",\r\n                              }}\r\n                            >\r\n                              <img\r\n                                className=\"mr-2\"\r\n                                src={redWarning}\r\n                                alt=\"redWarning\"\r\n                              />\r\n                              Профиль скрыт\r\n                            </div>\r\n                          )}\r\n                          {this.state.isBan && (\r\n                            <div\r\n                              className=\"d-flex\"\r\n                              style={{\r\n                                color: \"#DD2828\",\r\n                                fontSize: \"14px\",\r\n                              }}\r\n                            >\r\n                              <img\r\n                                className=\"mr-2\"\r\n                                src={redWarning}\r\n                                alt=\"redWarning\"\r\n                              />\r\n                              Профиль заблокирован\r\n                            </div>\r\n                          )}\r\n                          {!this.state.isHidden &&\r\n                            !this.state.isBan &&\r\n                            this.state.user.type !== \"cargo\" && (\r\n                              <>\r\n                                <div>{this.formatPhoneNumber(user.phone)}</div>\r\n                                <div>{user.email}</div>\r\n                              </>\r\n                            )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-6 col-12 user-column-2\">\r\n                        <span className=\"f-14 col-12\">\r\n                          Рейтинг: &nbsp;\r\n                          <span className=\"d-inline-block\">\r\n                            {this.state.user.rating || 0}\r\n                            <img\r\n                              className=\"ml-1\"\r\n                              src={ImgActiveStar}\r\n                              alt=\"ImgActiveStar\"\r\n                            />\r\n                          </span>\r\n                        </span>\r\n                        {this.props.user.isAuth &&\r\n                          !this.state.isHidden &&\r\n                          !this.state.isBan &&\r\n                          this.props.user._id !== this.state.user._id && (\r\n                            <>\r\n                              <Link to={`/dialog/${this.state.user._id}`}>\r\n                                <Button\r\n                                  type=\"fill\"\r\n                                  paddingVertical=\"11px\"\r\n                                  paddingHorizontal=\"30px\"\r\n                                  className=\"input-action\"\r\n                                >\r\n                                  Написать\r\n                                </Button>\r\n                              </Link>\r\n                              {this.props.user.type === \"cargo\" &&\r\n                                this.state.user.type === \"carrier\" && (\r\n                                  <>\r\n                                    <Button\r\n                                      type=\"empty\"\r\n                                      paddingVertical=\"11px\"\r\n                                      paddingHorizontal=\"30px\"\r\n                                      className=\"input-action\"\r\n                                      onClick={() => {\r\n                                        this.orderOfered.openForm();\r\n                                      }}\r\n                                    >\r\n                                      Предложить заказ\r\n                                    </Button>\r\n                                    <OrdersListModal\r\n                                      ref={(ref) => (this.orderOfered = ref)}\r\n                                      userId={this.state.user._id}\r\n                                      apiToken={this.props.user.apiToken}\r\n                                    />\r\n                                  </>\r\n                                )}\r\n                            </>\r\n                          )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  {this.renderTabs()}\r\n                </div>\r\n                {!this.state.isHidden && !this.state.isBan && (\r\n                  <div className=\"lk-order-page\">\r\n                    {this.state.currentTab === 6 && (\r\n                      <ReviewsUser\r\n                        userId={this.state.user._id}\r\n                        countAll={this.state.countData.reviews}\r\n                      />\r\n                    )}\r\n                    {this.state.currentTab !== 6 && (\r\n                      <Articles\r\n                        notControl={true}\r\n                        onlyPublic={true}\r\n                        ref={this.articles}\r\n                        filter={this.state.filter}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                )}{\" \"}\r\n                {this.state.isHidden && !this.state.isBan && (\r\n                  <div className=\"text-center\">\r\n                    <img src={redWarning} width=\"70px\" alt=\"\" />\r\n                    <div\r\n                      className=\"mt-3\"\r\n                      style={{\r\n                        fontSize: \"24px\",\r\n                        color: \"#DD2828\",\r\n                      }}\r\n                    >\r\n                      Профиль скрыт\r\n                    </div>\r\n                    <div\r\n                      className=\"mt-3 mx-auto\"\r\n                      style={{\r\n                        fontSize: \"12px\",\r\n                        maxWidth: \"567px\",\r\n                      }}\r\n                    >\r\n                      Это значит, что пока Перевозчик не активирует свой\r\n                      профиль, его контакты и предложения и история заказов\r\n                      будет недоступны для просмотра.\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {this.state.isBan && (\r\n                  <div className=\"text-center\">\r\n                    <img src={redWarning} width=\"70px\" alt=\"\" />\r\n                    <div\r\n                      className=\"mt-3\"\r\n                      style={{\r\n                        fontSize: \"24px\",\r\n                        color: \"#DD2828\",\r\n                      }}\r\n                    >\r\n                      Профиль заблокирован\r\n                    </div>\r\n                    <div\r\n                      className=\"mt-3 mx-auto\"\r\n                      style={{\r\n                        fontSize: \"12px\",\r\n                        maxWidth: \"567px\",\r\n                      }}\r\n                    >\r\n                      Это значит, что администратор сайта заблокировал этот\r\n                      профиль. Если ВЫ владелец профиля, Вы можете написать\r\n                      администратору вопрос о причине блокировки из раздела\r\n                      Техподдердка в личном кабинете.\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </CSSTransitionGroup>\r\n        </div>\r\n      );\r\n    } else return <NoMatch></NoMatch>;\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(withLastLocation(User)));\r\n","// App\r\nimport React from \"react\";\r\nimport Button from \"../../Elements/Button\";\r\nimport Avatar from \"../../Elements/Avatar\";\r\n//IMGS\r\nimport ImgActiveStar from \"../../img/active-star.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport * as myArticlesActions from \"../../redux/actions/myarticles\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport LoadingFixed from \"../../Elements/LoadingFixed\";\r\n\r\nclass ArticleRequest extends React.Component {\r\n  state = {\r\n    isFetching: false,\r\n  };\r\n  deleteRequest = () => {\r\n    this.props.myArticlesActions\r\n      .deleteRequest(this.props.request._id, this.props.article)\r\n      .then(() => {\r\n        this.setState({\r\n          isFetching: false,\r\n        });\r\n      });\r\n  };\r\n  deleteExecutor = () => {\r\n    this.setState({ isFetching: true }, () => {\r\n      this.props.myArticlesActions\r\n        .deleteExecutor(this.props.article, this.props.request.author)\r\n        .then((data) => {\r\n          this.setState({ isFetching: false });\r\n        });\r\n    });\r\n  };\r\n  setExecutor = () => {\r\n    this.setState({ isFetching: true }, () => {\r\n      this.props.myArticlesActions\r\n        .setExecutor(this.props.article, this.props.request.author)\r\n        .then((data) => {\r\n          this.setState({ isFetching: false });\r\n        });\r\n    });\r\n  };\r\n  render() {\r\n    let myArticle = this.props.user._id === this.props.article.author._id;\r\n    let isExecutor = this.props.article.executors.find(\r\n      (item) => item._id === this.props.request.author._id\r\n    );\r\n    let isDelivered =\r\n      this.props.article.delivered &&\r\n      this.props.article.delivered.find(\r\n        (item) => item === this.props.request.author._id\r\n      );\r\n    return (\r\n      <div className=\"request-article\">\r\n        <LoadingFixed isLoading={this.state.isFetching} />\r\n        <div className=\"row\">\r\n          <div\r\n            className=\"col f-14\"\r\n            style={{\r\n              maxWidth: \"115px\",\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                color: \"#6C6C6C\",\r\n              }}\r\n            >\r\n              {new Date(this.props.request.createdAt).toDateR()} <br />\r\n              {new Date(this.props.request.createdAt).toLocaleTimeString([], {\r\n                hour: \"2-digit\",\r\n                minute: \"2-digit\",\r\n              })}\r\n            </span>\r\n          </div>\r\n          <div\r\n            className=\"col f-14 d-flex align-items-start user-avatar-image-block\"\r\n            style={{\r\n              whiteSpace: \"pre-line\",\r\n              maxWidth: \"220px\",\r\n            }}\r\n          >\r\n            <Avatar avatar={this.props.request.author.avatar} />\r\n            {this.props.request.author.name.last}\r\n            <br />\r\n            {this.props.request.author.name.first}\r\n            <br />\r\n            {this.props.request.author.name.middle}\r\n            <Link\r\n              to={`/user/${this.props.request.author._id}`}\r\n              className=\"sharected-link\"\r\n            ></Link>\r\n          </div>\r\n          <div\r\n            className=\"col f-14\"\r\n            style={{\r\n              maxWidth: \"105px\",\r\n            }}\r\n          >\r\n            Рейтинг:\r\n            <br />\r\n            {this.props.request.author.rating || 0}{\" \"}\r\n            <img src={ImgActiveStar} alt=\"\" />\r\n          </div>\r\n          <div className=\"col-12 col-lg f-14 price-request\">\r\n            {this.props.request.budget && (\r\n              <>\r\n                {this.props.request.budget + \"руб.\"}\r\n                <br />\r\n              </>\r\n            )}\r\n            Погрузка: {new Date(this.props.request.date).toDateR()}{\" \"}\r\n            {this.props.request.timeFrom && (\r\n              <>\r\n                с{\" \"}\r\n                {new Date(this.props.request.timeFrom).toLocaleTimeString([], {\r\n                  hour: \"2-digit\",\r\n                  minute: \"2-digit\",\r\n                })}\r\n              </>\r\n            )}\r\n            {this.props.request.timeTo && (\r\n              <>\r\n                {\" \"}\r\n                до{\" \"}\r\n                {new Date(this.props.request.timeFrom).toLocaleTimeString([], {\r\n                  hour: \"2-digit\",\r\n                  minute: \"2-digit\",\r\n                })}\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"col-12 col-md f-14 \">\r\n            {this.props.request.comment}\r\n            {!this.props.request.comment && <>Нет комментария</>}\r\n          </div>\r\n          {this.props.user.type === \"carrier\" &&\r\n            this.props.article.status > 3 &&\r\n            isDelivered && <div className=\"text-left col-12\">Доставлено</div>}\r\n          {isExecutor &&\r\n            (this.props.article.status == 3 ||\r\n              this.props.article.status == 2) &&\r\n            myArticle && (\r\n              <div className=\"text-right col-12\">\r\n                Выбран исполнителем\r\n                <Button\r\n                  type=\"fill\"\r\n                  paddingHorizontal=\"36px\"\r\n                  className=\"input-action\"\r\n                  onClick={this.deleteExecutor}\r\n                >\r\n                  Убрать из исполнителей\r\n                </Button>\r\n                {this.props.article.status == 2 && (\r\n                  <Link to={`/dialog/${this.props.request.author._id}`}>\r\n                    <Button\r\n                      type=\"empty\"\r\n                      paddingHorizontal=\"29px\"\r\n                      className=\"input-action mr-3\"\r\n                    >\r\n                      Написать\r\n                    </Button>\r\n                  </Link>\r\n                )}\r\n              </div>\r\n            )}\r\n          {this.props.article.type === \"offer\" &&\r\n            this.props.article.status >= 3 &&\r\n            myArticle &&\r\n            isExecutor && (\r\n              <div className=\"text-right col-12\">\r\n                <Link\r\n                  to={`/dialog-order/${this.props.article._id}/${this.props.request.author._id}`}\r\n                >\r\n                  <Button\r\n                    type=\"empty\"\r\n                    paddingHorizontal=\"29px\"\r\n                    className=\"input-action mr-3\"\r\n                  >\r\n                    Написать\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            )}\r\n          {this.props.article.status === 2 && (\r\n            <div className=\"text-right col-12\">\r\n              {myArticle && !isExecutor && (\r\n                <>\r\n                  <Link to={`/dialog/${this.props.request.author._id}`}>\r\n                    <Button\r\n                      type=\"empty\"\r\n                      paddingHorizontal=\"29px\"\r\n                      className=\"input-action mr-3\"\r\n                    >\r\n                      Написать\r\n                    </Button>\r\n                  </Link>\r\n                  <Button\r\n                    type=\"fill\"\r\n                    paddingHorizontal=\"36px\"\r\n                    className=\"input-action\"\r\n                    onClick={this.setExecutor}\r\n                  >\r\n                    Выбрать\r\n                  </Button>\r\n                </>\r\n              )}\r\n              {!myArticle &&\r\n                !isExecutor &&\r\n                this.props.user._id === this.props.request.author._id && (\r\n                  <>\r\n                    <Button\r\n                      type=\"empty\"\r\n                      paddingHorizontal=\"29px\"\r\n                      className=\"input-action mr-3\"\r\n                      onClick={() => {\r\n                        this.deleteRequest();\r\n                      }}\r\n                    >\r\n                      Отозвать\r\n                    </Button>\r\n                    <Button\r\n                      type=\"fill\"\r\n                      paddingHorizontal=\"36px\"\r\n                      className=\"input-action\"\r\n                      onClick={() => {\r\n                        this.props.setChangeRequest(this.props.request._id);\r\n                      }}\r\n                    >\r\n                      Редактировать\r\n                    </Button>\r\n                  </>\r\n                )}\r\n            </div>\r\n          )}\r\n        </div>\r\n        {this.props.isLast && <hr />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    myArticlesActions: bindActionCreators(myArticlesActions, dispatch),\r\n  };\r\n}\r\nexport default connect(null, mapDispatchToProps)(ArticleRequest);\r\n","// App\r\nimport React from \"react\";\r\nimport Input from \"../../Elements/Input\";\r\nimport Button from \"../../Elements/Button\";\r\nimport { connect } from \"react-redux\";\r\nimport * as myArticlesActions from \"../../redux/actions/myarticles\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport LoadingFixed from \"../../Elements/LoadingFixed\";\r\nimport api from \"../../config/api\";\r\nclass RequestForm extends React.Component {\r\n  state = {\r\n    comment: \"\",\r\n    date: false,\r\n    timeFrom: false,\r\n    timeTo: false,\r\n    budget: 0,\r\n    isFetching: false,\r\n  };\r\n  componentDidMount() {\r\n    if (this.props.request) {\r\n      this.setState({\r\n        comment: this.props.request.comment,\r\n        date: new Date(this.props.request.date),\r\n        timeFrom: this.props.request.timeFrom\r\n          ? new Date(this.props.request.timeFrom)\r\n          : null,\r\n        timeTo: this.props.request.timeTo\r\n          ? new Date(this.props.request.timeTo)\r\n          : null,\r\n        budget: this.props.request.budget,\r\n      });\r\n    }\r\n  }\r\n  requestCreate = () => {\r\n    if (!this.state.comment) {\r\n      toast.error(\"Напишите коментарий\");\r\n      return 0;\r\n    }\r\n    if (!this.state.date) {\r\n      toast.error(\"Необходимо ввести дату отправления\");\r\n      return 0;\r\n    }\r\n    if (!this.state.isFetching)\r\n      this.setState({ isFetching: true }, () => {\r\n        this.props.myArticlesActions\r\n          .setRequest(this.props.article, {\r\n            comment: this.state.comment,\r\n            date: this.state.date,\r\n            timeFrom: this.state.timeFrom,\r\n            timeTo: this.state.timeTo,\r\n            budget: this.state.budget,\r\n          })\r\n          .then(() => {\r\n            this.setState({\r\n              comment: \"\",\r\n              date: false,\r\n              timeFrom: false,\r\n              timeTo: false,\r\n              budget: 0,\r\n              isFetching: false,\r\n            });\r\n          });\r\n      });\r\n  };\r\n  requestSave = () => {\r\n    if (!this.state.comment) {\r\n      toast.error(\"Напишите коментарий\");\r\n      return 0;\r\n    }\r\n    if (!this.state.date) {\r\n      toast.error(\"Необходимо ввести дату отправления\");\r\n      return 0;\r\n    }\r\n    if (!this.state.isFetching)\r\n      this.setState({ isFetching: true }, () => {\r\n        this.props.myArticlesActions\r\n          .updateRequest(\r\n            this.props.request._id,\r\n            {\r\n              comment: this.state.comment,\r\n              date: this.state.date,\r\n              timeFrom: this.state.timeFrom,\r\n              timeTo: this.state.timeTo,\r\n              budget: this.state.budget,\r\n            },\r\n            this.props.article\r\n          )\r\n          .then(() => {\r\n            this.setState({\r\n              comment: \"\",\r\n              date: false,\r\n              timeFrom: false,\r\n              timeTo: false,\r\n              budget: 0,\r\n              isFetching: false,\r\n            });\r\n            this.props.endEdit();\r\n          });\r\n      });\r\n  };\r\n  render() {\r\n    if (this.props.user.isAuth) {\r\n      let canType;\r\n      if (this.props.user.type === \"cargo\") canType = \"offer\";\r\n      if (this.props.user.type === \"carrier\") canType = \"order\";\r\n      let canRequest =\r\n        this.props.user._id !== this.props.article.author._id &&\r\n        this.props.article.type === canType;\r\n      let isAlready = this.props.article.requests.find(\r\n        (item) => item.author._id === this.props.user._id\r\n      );\r\n      if (canRequest || this.props.isEditing)\r\n        return (\r\n          <div className=\"article-block request-article-block form\">\r\n            <LoadingFixed isLoading={this.state.isFetching} />\r\n            {isAlready && !this.props.isEditing && (\r\n              <div\r\n                className=\"row mx-0 mt-4 justify-content-center\"\r\n                style={{ minHeight: \"218px\" }}\r\n              >\r\n                <div\r\n                  className=\"f-18 text-center px-3 mt-2\"\r\n                  style={{\r\n                    maxWidth: \"480px\",\r\n                  }}\r\n                >\r\n                  Вы уже оставили отклик по этой заявке!\r\n                </div>\r\n              </div>\r\n            )}\r\n            {(!isAlready || this.props.isEditing) && (\r\n              <div className=\"container-fluid\">\r\n                <div className=\"mb-2\">\r\n                  <b className=\"f-14\">\r\n                    {this.props.isEditing\r\n                      ? \"Изменение отклика\"\r\n                      : \"Напишите комментарий\"}\r\n                  </b>\r\n                </div>\r\n                <div className=\"row align-items-center\">\r\n                  <div className=\"col-md-6\">\r\n                    <textarea\r\n                      onChange={(e) => {\r\n                        this.setState({ comment: e.target.value });\r\n                      }}\r\n                      value={this.state.comment}\r\n                      style={{\r\n                        width: \"100%\",\r\n                        height: \"100px\",\r\n                      }}\r\n                    ></textarea>\r\n                  </div>\r\n                  <div className=\"col-md-12 col-lg-6 row mx-0 px-0 fields\">\r\n                    <div\r\n                      className=\"d-inline-flex col px-3 mt-3\"\r\n                      style={{\r\n                        marginLeft: \"0\",\r\n                        marginRight: \"0\",\r\n                        alignItems: \"center\",\r\n                        flexDirection: \"row\",\r\n                        minWidth: \"270px\",\r\n                      }}\r\n                    >\r\n                      <span className=\"filter-input-title mb-0\">\r\n                        Дата<br></br>погрузки\r\n                      </span>\r\n                      <Input\r\n                        type=\"date\"\r\n                        style={{ width: \"130px\" }}\r\n                        value={this.state.date || null}\r\n                        onChange={(val) => {\r\n                          let state = { date: val };\r\n                          if (this.state.timeFrom)\r\n                            state.timeFrom = new Date(\r\n                              val.getFullYear(),\r\n                              val.getMonth(),\r\n                              val.getDate(),\r\n                              this.state.timeFrom.getHours(),\r\n                              this.state.timeFrom.getMinutes(),\r\n                              this.state.timeFrom.getSeconds()\r\n                            );\r\n                          if (this.state.timeTo)\r\n                            state.timeTo = new Date(\r\n                              val.getFullYear(),\r\n                              val.getMonth(),\r\n                              val.getDate(),\r\n                              this.state.timeTo.getHours(),\r\n                              this.state.timeTo.getMinutes(),\r\n                              this.state.timeTo.getSeconds()\r\n                            );\r\n                          this.setState(state);\r\n                        }}\r\n                      />\r\n                    </div>\r\n\r\n                    <div\r\n                      className=\"d-inline-flex   px-3 mt-3\"\r\n                      style={{\r\n                        marginLeft: \"0\",\r\n                        marginRight: \"0\",\r\n                        alignItems: \"center\",\r\n                        flexDirection: \"row\",\r\n                      }}\r\n                    >\r\n                      <span className=\"filter-input-title mb-0\">\r\n                        Время<br></br>погрузки\r\n                      </span>\r\n                      <Input\r\n                        type=\"time\"\r\n                        date={this.state.date}\r\n                        value={this.state.timeFrom || null}\r\n                        onChange={(val) => {\r\n                          this.setState({ timeFrom: val });\r\n                        }}\r\n                      />\r\n                      <span className=\"filter-input-title mb-0\">\r\n                        &nbsp;&nbsp;-\r\n                      </span>\r\n                      <Input\r\n                        type=\"time\"\r\n                        date={this.state.date}\r\n                        value={this.state.timeTo || null}\r\n                        onChange={(val) => {\r\n                          this.setState({ timeTo: val });\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      className=\"d-inline-flex px-3 mt-3 budjet_div\"\r\n                      style={{\r\n                        marginLeft: \"0\",\r\n                        marginRight: \"0\",\r\n                        alignItems: \"center\",\r\n                        flexDirection: \"row\",\r\n                      }}\r\n                    >\r\n                      <span className=\"filter-input-title mb-0\">\r\n                        Желаемый<br></br>бюджет, руб\r\n                      </span>\r\n                      <Input\r\n                        type=\"number\"\r\n                        placeholder=\"0\"\r\n                        value={this.state.budget || \"\"}\r\n                        onChange={(e) => {\r\n                          this.setState({ budget: e.target.value });\r\n                        }}\r\n                        max=\"20000\"\r\n                      />\r\n                    </div>\r\n                    <Button\r\n                      type=\"fill\"\r\n                      paddingVertical=\"11px\"\r\n                      className=\"mt-3 mx-md-auto mr-xl-3 ml-xl-auto mr-3 ml-3 mb-0 input-action send-input-action\"\r\n                      onClick={\r\n                        this.props.isEditing\r\n                          ? this.requestSave\r\n                          : this.requestCreate\r\n                      }\r\n                    >\r\n                      Отправить\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n    } else\r\n      return (\r\n        <div className=\"article-block request-article-block form\">\r\n          <div\r\n            className=\"row mx-0 mt-4 justify-content-center\"\r\n            style={{ minHeight: \"218px\" }}\r\n          >\r\n            <div\r\n              className=\"f-18 text-center px-3 mt-2\"\r\n              style={{\r\n                maxWidth: \"480px\",\r\n              }}\r\n            >\r\n              Чтобы отправить заявку войдите в личный кабинет. или\r\n              зарегистрируйтесь на сайте и получите Тариф ДЕМО на 7 дней!\r\n            </div>\r\n            <div className=\"px-3 mt-2\">\r\n              <Button\r\n                type=\"fill\"\r\n                margin={\"0 0 0 auto\"}\r\n                paddingHorizontal={\"25px\"}\r\n                paddingVertical={\"12px\"}\r\n                className=\"input-action\"\r\n              >\r\n                Попробовать\r\n                <br />\r\n                БЕСПЛАТНО\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    return <></>;\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    myArticlesActions: bindActionCreators(myArticlesActions, dispatch),\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RequestForm);\r\n","// App\r\nimport React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { withCookies } from \"react-cookie\";\r\nimport Article from \"../../ArticlesElements/Article\";\r\nimport ArticleHeader from \"../../ArticlesElements/Partials/ArticleHeader\";\r\nimport ArticleRequest from \"../../ArticlesElements/Partials/ArticleRequest\";\r\nimport RequestForm from \"../../ArticlesElements/Partials/RequestForm.js\";\r\nimport queryString from \"query-string\";\r\nimport * as myArticlesActions from \"../../redux/actions/myarticles\";\r\nimport { bindActionCreators } from \"redux\";\r\n// Router\r\nimport { setForceTitle } from \"../../functions/functions\";\r\nimport { connect } from \"react-redux\";\r\n// Elements\r\nimport NoMatch from \"../NoMatch.js\";\r\nimport { withLastLocation } from \"react-router-last-location\";\r\nimport Loading from \"../../Elements/Loading\";\r\nimport Meta from \"../../Elements/Meta\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nclass ArticlePage extends React.Component {\r\n  state = {\r\n    isFetching: true,\r\n    notFound: false,\r\n    editRequestId: false,\r\n  };\r\n  componentDidMount() {\r\n    this.setState({ isFetching: true }, () => {\r\n      this.props.myArticlesActions\r\n        .currentLoad(this.props.match.params.id, this.props.type)\r\n        .then((data) => {\r\n          if (data.error) {\r\n            this.setState({\r\n              isFetching: false,\r\n              notFound: true,\r\n            });\r\n          }\r\n          if (data.article) {\r\n            let url = this.props.location.search;\r\n\r\n            let params = queryString.parse(url);\r\n            if (Object.prototype.hasOwnProperty.call(params, \"executors\")) {\r\n              document.getElementById(\"request-header\").scrollIntoView({\r\n                behavior: \"smooth\",\r\n              });\r\n            }\r\n            setForceTitle(\r\n              (data.article.type === \"offer\" ? \"Предложение\" : \"Заказ\") +\r\n                \" №\" +\r\n                data.article.articleId\r\n            );\r\n            this.setState({\r\n              isFetching: false,\r\n            });\r\n          }\r\n        });\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Loading isLoading={this.state.isFetching}></Loading>\r\n        <CSSTransitionGroup\r\n          transitionName=\"loading-height-animation-item\"\r\n          transitionEnterTimeout={300}\r\n          transitionLeaveTimeout={300}\r\n          style={{\r\n            display: \"contents\",\r\n          }}\r\n        >\r\n          {!this.state.isFetching && !this.state.notFound && (\r\n            <>\r\n              <div className=\"article-page\">\r\n                <Meta\r\n                  keyMeta={this.props.myarticles.currentArticle.type}\r\n                  options={{\r\n                    start: this.props.myarticles.currentArticle.from.value,\r\n                    tags: this.props.myarticles.currentArticle.car.additionally,\r\n                    finish: this.props.myarticles.currentArticle.to.value,\r\n                    date: this.props.myarticles.currentArticle.startDate.date,\r\n                    comment: this.props.myarticles.currentArticle.comment,\r\n                  }}\r\n                />\r\n                <div className=\"container-fluid\">\r\n                  <h2 className=\"title\">\r\n                    {this.props.myarticles.currentArticle.type == \"order\"\r\n                      ? \"Заказ\"\r\n                      : \"Предложение\"}{\" \"}\r\n                    № {this.props.myarticles.currentArticle.articleId}\r\n                  </h2>\r\n                  <a\r\n                    className=\"href hover left-angle angle-go mb-2\"\r\n                    onClick={() => {\r\n                      if (this.props.lastLocation) {\r\n                        this.props.history.push(\r\n                          this.props.lastLocation.pathname\r\n                        );\r\n                      } else {\r\n                        this.props.history.push(\"/search\");\r\n                      }\r\n                    }}\r\n                  >\r\n                    Назад\r\n                  </a>\r\n                </div>\r\n                <div className=\"articles-block full\">\r\n                  <ArticleHeader></ArticleHeader>\r\n                  <Article\r\n                    IsManage={true}\r\n                    onlyOpen={true}\r\n                    singlePage={true}\r\n                    article={this.props.myarticles.currentArticle}\r\n                  />\r\n                  <div className=\"articles-header\" id=\"request-header\">\r\n                    <div className=\"container-fluid\">\r\n                      <span className=\"f-16\">\r\n                        Заявок по заказу -{\" \"}\r\n                        {this.props.myarticles.currentArticle.requests.length}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"requests-article-block\">\r\n                    <div className=\"container-fluid\">\r\n                      {this.props.myarticles.currentArticle.requests &&\r\n                        !!this.props.myarticles.currentArticle.requests\r\n                          .length &&\r\n                        this.props.myarticles.currentArticle.requests.map(\r\n                          (item, index) => {\r\n                            if (this.state.editRequestId === item._id) {\r\n                              return (\r\n                                <RequestForm\r\n                                  key={index}\r\n                                  request={item}\r\n                                  isEditing={true}\r\n                                  endEdit={() => {\r\n                                    this.setState({ editRequestId: false });\r\n                                  }}\r\n                                  user={this.props.user}\r\n                                  article={this.props.myarticles.currentArticle}\r\n                                />\r\n                              );\r\n                            } else\r\n                              return (\r\n                                <ArticleRequest\r\n                                  key={index}\r\n                                  user={this.props.user}\r\n                                  article={this.props.myarticles.currentArticle}\r\n                                  setChangeRequest={(editRequestId) => {\r\n                                    this.setState({\r\n                                      editRequestId: editRequestId,\r\n                                    });\r\n                                  }}\r\n                                  request={item}\r\n                                  isLast={\r\n                                    this.props.myarticles.currentArticle\r\n                                      .requests.length !==\r\n                                    index + 1\r\n                                  }\r\n                                />\r\n                              );\r\n                          }\r\n                        )}\r\n                      {this.props.myarticles.currentArticle.requests &&\r\n                        !this.props.myarticles.currentArticle.requests\r\n                          .length && (\r\n                          <div className=\"text-center mt-2\">Заявок еще нет</div>\r\n                        )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {this.props.user &&\r\n                    (this.props.user.tariff ||\r\n                      this.props.user.type === \"cargo\") &&\r\n                    this.props.myarticles.currentArticle && (\r\n                      <RequestForm\r\n                        user={this.props.user}\r\n                        article={this.props.myarticles.currentArticle}\r\n                      />\r\n                    )}\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </CSSTransitionGroup>\r\n        {!this.state.isFething && this.state.notFound && <NoMatch />}\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    myarticles: state.myarticles,\r\n  };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    myArticlesActions: bindActionCreators(myArticlesActions, dispatch),\r\n  };\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withCookies(withRouter(withLastLocation(ArticlePage))));\r\n","// App\r\nimport React from \"react\";\r\n\r\nimport Notification from \"../../../Elements/Notification\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport * as notificationActions from \"../../../redux/actions/notification\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport Loading from \"../../../Elements/Loading\";\r\nimport LoadingFixed from \"../../../Elements/LoadingFixed\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nclass Notifications extends React.Component {\r\n  state = {\r\n    typeNotification: \"all\",\r\n  };\r\n  componentDidMount() {\r\n    if (!this.props.notifications.all.isGetted)\r\n      this.props.notificationActions\r\n        .notificationsGet(\"all\", this.props.user.apiToken)\r\n        .then(() => {\r\n          this.onScroll();\r\n        });\r\n  }\r\n  onScroll() {\r\n    if (\r\n      this.props.notifications[this.state.typeNotification].canLoad &&\r\n      !this.props.notifications[this.state.typeNotification].isFetching &&\r\n      this.notifyBlock.getScrollHeight() - this.notifyBlock.getScrollTop() <=\r\n        200 + this.notifyBlock.getClientHeight()\r\n    ) {\r\n      this.props.notificationActions.notifyLoad(\r\n        this.state.typeNotification,\r\n        this.props.user.apiToken\r\n      );\r\n    }\r\n  }\r\n  renderNotification = () => {\r\n    let notifications = this.props.notifications[this.state.typeNotification]\r\n      .notifications;\r\n    return (\r\n      <>\r\n        {notifications.map((item, index) => {\r\n          return (\r\n            <Notification\r\n              reading={(id, type) => {\r\n                this.props.notificationActions.notificationRead(\r\n                  id,\r\n                  type,\r\n                  this.props.user.apiToken\r\n                );\r\n              }}\r\n              key={index}\r\n              notification={item}\r\n            />\r\n          );\r\n        })}\r\n        {!notifications.length && (\r\n          <div className=\"text-center\">Уведомлений пока нет</div>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n  render() {\r\n    let notifications = this.props.notifications[this.state.typeNotification];\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid\">\r\n          <h2 className=\"title\">Уведомления</h2>\r\n          <LoadingFixed isLoading={notifications.isFetching}></LoadingFixed>\r\n        </div>\r\n        <CSSTransitionGroup\r\n          transitionName=\"height-animation-item\"\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={1}\r\n          style={{\r\n            display: \"contents\",\r\n          }}\r\n        >\r\n          {(!notifications.isFetching || notifications.isGetted) && (\r\n            <>\r\n              <div className=\"container-fluid\">\r\n                <div className=\"tab_groups\">\r\n                  <span\r\n                    className={`tab_group ${\r\n                      this.state.typeNotification === \"all\" ? \"active\" : \"\"\r\n                    }`}\r\n                    onClick={() => {\r\n                      this.setState({ typeNotification: \"all\" });\r\n                      if (!this.props.notifications.all.isGetted)\r\n                        this.props.notificationActions\r\n                          .notificationsGet(\"all\", this.props.user.apiToken)\r\n                          .then(() => {\r\n                            this.onScroll();\r\n                          });\r\n                    }}\r\n                  >\r\n                    Все\r\n                  </span>\r\n                  <span\r\n                    className={`tab_group ${\r\n                      this.state.typeNotification === \"order\" ? \"active\" : \"\"\r\n                    }`}\r\n                    onClick={() => {\r\n                      this.setState({ typeNotification: \"order\" });\r\n                      if (!this.props.notifications.order.isGetted)\r\n                        this.props.notificationActions\r\n                          .notificationsGet(\"order\", this.props.user.apiToken)\r\n                          .then(() => {\r\n                            this.onScroll();\r\n                          });\r\n                    }}\r\n                  >\r\n                    По заказам\r\n                  </span>\r\n                  <span\r\n                    className={`tab_group ${\r\n                      this.state.typeNotification === \"offer\" ? \"active\" : \"\"\r\n                    }`}\r\n                    onClick={() => {\r\n                      this.setState({ typeNotification: \"offer\" });\r\n                      if (!this.props.notifications.offer.isGetted)\r\n                        this.props.notificationActions\r\n                          .notificationsGet(\"offer\", this.props.user.apiToken)\r\n                          .then(() => {\r\n                            this.onScroll();\r\n                          });\r\n                    }}\r\n                  >\r\n                    По предложениям\r\n                  </span>\r\n                  <span\r\n                    className={`tab_group ${\r\n                      this.state.typeNotification === \"system\" ? \"active\" : \"\"\r\n                    }`}\r\n                    onClick={() => {\r\n                      this.setState({ typeNotification: \"system\" });\r\n                      if (!this.props.notifications.system.isGetted)\r\n                        this.props.notificationActions\r\n                          .notificationsGet(\"system\", this.props.user.apiToken)\r\n                          .then(() => {\r\n                            this.onScroll();\r\n                          });\r\n                    }}\r\n                  >\r\n                    Системные\r\n                  </span>\r\n                  <span\r\n                    className={`tab_group ${\r\n                      this.state.typeNotification === \"tariff\" ? \"active\" : \"\"\r\n                    }`}\r\n                    onClick={() => {\r\n                      this.setState({ typeNotification: \"tariff\" });\r\n                      if (!this.props.notifications.tariff.isGetted)\r\n                        this.props.notificationActions\r\n                          .notificationsGet(\"tariff\", this.props.user.apiToken)\r\n                          .then(() => {\r\n                            this.onScroll();\r\n                          });\r\n                    }}\r\n                  >\r\n                    По Тарифу\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <Scrollbars\r\n                onScroll={() => {\r\n                  this.onScroll();\r\n                }}\r\n                ref={(ref) => {\r\n                  this.notifyBlock = ref;\r\n                }}\r\n                renderTrackVertical={(props) => (\r\n                  <div className=\"track-vertical\" />\r\n                )}\r\n                renderThumbVertical={(props) => (\r\n                  <div className=\"thumb-vertical\" />\r\n                )}\r\n                className=\"load-content scroll\"\r\n                autoHide\r\n              >\r\n                {this.renderNotification()}\r\n              </Scrollbars>\r\n            </>\r\n          )}\r\n        </CSSTransitionGroup>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    notifications: state.notifications,\r\n  };\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    notificationActions: bindActionCreators(notificationActions, dispatch),\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifications);\r\n","// App\r\nimport React from \"react\";\r\nimport CheckBox from \"./CheckBox\";\r\n\r\nclass SettingsFiled extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"row  align-items-center user-settings\">\r\n        <div className=\"filed-label\">{this.props.label}</div>\r\n        <div className=\"col fields-checkbox\">\r\n          <span className=\"align-middle\">\r\n            <CheckBox\r\n              id={`${this.props.keyField}-mail`}\r\n              name={`${this.props.keyField}-mail`}\r\n              text=\"На почту\"\r\n              onChange={() => {\r\n                this.props.onChange(\"mail\", !this.props.valueMail);\r\n              }}\r\n              value={this.props.valueMail || \"\"}\r\n              wrapperlabelClass=\"ml-2\"\r\n              labelClass=\"f-12 gray\"\r\n            />\r\n          </span>\r\n          <span className=\"align-middle\">\r\n            <CheckBox\r\n              id={`${this.props.keyField}-push`}\r\n              name={`${this.props.keyField}-push`}\r\n              text=\"Push-уведомления\"\r\n              onChange={() => {\r\n                this.props.onChange(\"push\", !this.props.valuePush);\r\n              }}\r\n              value={this.props.valuePush || \"\"}\r\n              wrapperlabelClass=\"ml-2\"\r\n              labelClass=\"f-12 gray\"\r\n            />\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SettingsFiled;\r\n","// App\r\nimport React from \"react\";\r\nimport SettingsFiled from \"../../../Elements/SettingsFiled\";\r\nimport Button from \"../../../Elements/Button\";\r\nimport Loading from \"../../../Elements/Loading\";\r\nimport LoadingFixed from \"../../../Elements/LoadingFixed\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport { toast } from \"react-toastify\";\r\nimport api from \"../../../config/api\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nvar settingsField = [\r\n  {\r\n    label: \"Новая заявка\",\r\n    role: \"carrier\",\r\n    keyField: \"offer_new_request\",\r\n    type: \"offer\",\r\n  },\r\n  {\r\n    label: \"Вашу заявку подтвердили\",\r\n    role: \"cargo\",\r\n    keyField: \"offer_you_executor\",\r\n    type: \"offer\",\r\n  },\r\n  {\r\n    label: \"Смена статуса предложения\",\r\n    role: \"all\",\r\n    keyField: \"offer_status\",\r\n    type: \"offer\",\r\n  },\r\n  {\r\n    label: \"Новый отзыв\",\r\n    role: \"all\",\r\n    keyField: \"offer_new_review\",\r\n    type: \"offer\",\r\n  },\r\n  {\r\n    label: \"Сообщение по предложению\",\r\n    role: \"all\",\r\n    keyField: \"offer_new_message\",\r\n    type: \"offer\",\r\n  },\r\n  // {\r\n  //   label: \"Заказ в пути(отслеживание)\",\r\n  //   role: \"cargo\",\r\n  //   keyField: \"order_tracking\",\r\n  //   type: \"offer\",\r\n  // },\r\n  {\r\n    label: \"Новая заявка\",\r\n    role: \"cargo\",\r\n    keyField: \"order_new_request\",\r\n    type: \"order\",\r\n  },\r\n  {\r\n    label: \"Вас выбрали исполнителем\",\r\n    role: \"carrier\",\r\n    keyField: \"order_you_executor\",\r\n    type: \"order\",\r\n  },\r\n  {\r\n    label: \"Смена статуса заказа\",\r\n    role: \"all\",\r\n    keyField: \"order_status\",\r\n    type: \"order\",\r\n  },\r\n  {\r\n    label: \"Новый отзыв\",\r\n    role: \"all\",\r\n    keyField: \"order_new_review\",\r\n    type: \"order\",\r\n  },\r\n  {\r\n    label: \"Сообщение по заказу\",\r\n    role: \"all\",\r\n    keyField: \"order_new_message\",\r\n    type: \"order\",\r\n  },\r\n  // {\r\n  //   label: \"Заказ в пути(отслеживание)\",\r\n  //   role: \"cargo\",\r\n  //   keyField: \"order_tracking\",\r\n  //   type: \"order\",\r\n  // },\r\n  {\r\n    label: \"Новые сообщение пользователей\",\r\n    role: \"all\",\r\n    keyField: \"user_new_message\",\r\n    type: \"common\",\r\n  },\r\n  {\r\n    label: \"Модерация заказов\",\r\n    role: \"cargo\",\r\n    keyField: \"order_moderation\",\r\n    type: \"common\",\r\n  },\r\n  {\r\n    label: \"Модерация предложений\",\r\n    role: \"carrier\",\r\n    keyField: \"offer_moderation\",\r\n    type: \"common\",\r\n  },\r\n  {\r\n    label: \"Системные уведомления\",\r\n    role: \"all\",\r\n    keyField: \"system\",\r\n    type: \"common\",\r\n  },\r\n  {\r\n    label: \"Оповещения о остатке тарифа\",\r\n    role: \"carrier\",\r\n    keyField: \"tarif_ends\",\r\n    type: \"common2\",\r\n  },\r\n  {\r\n    label: \"Зачисление оплаты\",\r\n    role: \"carrier\",\r\n    keyField: \"tarif_payed\",\r\n    type: \"common2\",\r\n  },\r\n];\r\nclass NotificationsSettings extends React.Component {\r\n  state = {\r\n    settings: {},\r\n    isFetching: true,\r\n    isFetchingSave: false,\r\n  };\r\n  componentDidMount() {\r\n    fetch(`${api.urlApi}/api/user/getSettings`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${this.props.user.apiToken}`,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ settings }) => {\r\n        this.setState({ settings, isFetching: false });\r\n      });\r\n  }\r\n  saveSettings = () => {\r\n    this.setState({ isFetchingSave: true }, () => {\r\n      fetch(`${api.urlApi}/api/user/save-settings`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          settings: this.state.settings,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then(({ settings }) => {\r\n          toast.success(\"Настройки сохранены\");\r\n          this.setState({ isFetchingSave: false });\r\n        });\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <h2 className=\"title\">Настроики уведомлений</h2>\r\n        <Loading isLoading={this.state.isFetching}></Loading>\r\n        <LoadingFixed isLoading={this.state.isFetchingSave}></LoadingFixed>\r\n        <CSSTransitionGroup\r\n          transitionName=\"erase-animation-item\"\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={1}\r\n          style={{\r\n            display: \"contents\",\r\n          }}\r\n        >\r\n          {!this.state.isFetching && (\r\n            <div className=\"settings-notification\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12 col-sm-12 col-md-6\">\r\n                  <p className=\"setting-title\">По предложениям</p>\r\n                  {settingsField.map((item, i) => {\r\n                    if (\r\n                      item.type === \"offer\" &&\r\n                      (this.props.user.type === item.role ||\r\n                        item.role === \"all\")\r\n                    ) {\r\n                      return (\r\n                        <SettingsFiled\r\n                          key={i}\r\n                          label={item.label}\r\n                          onChange={(type, val) => {\r\n                            let settings = this.state.settings;\r\n                            if (!settings[item.keyField])\r\n                              settings[item.keyField] = {};\r\n                            settings[item.keyField][type] = val;\r\n                            this.setState({ settings });\r\n                          }}\r\n                          valueMail={\r\n                            this.state.settings[item.keyField] &&\r\n                            this.state.settings[item.keyField].mail\r\n                          }\r\n                          valuePush={\r\n                            this.state.settings[item.keyField] &&\r\n                            this.state.settings[item.keyField].push\r\n                          }\r\n                          keyField={item.keyField}\r\n                        />\r\n                      );\r\n                    } else return <></>;\r\n                  })}\r\n                </div>\r\n                <div className=\"col-12 col-sm-12 col-md-6\">\r\n                  <p className=\"setting-title\">По заказам</p>\r\n                  {settingsField.map((item, i) => {\r\n                    if (\r\n                      item.type === \"order\" &&\r\n                      (this.props.user.type === item.role ||\r\n                        item.role === \"all\")\r\n                    ) {\r\n                      return (\r\n                        <SettingsFiled\r\n                          key={i}\r\n                          label={item.label}\r\n                          onChange={(type, val) => {\r\n                            let settings = this.state.settings;\r\n                            if (!settings[item.keyField])\r\n                              settings[item.keyField] = {};\r\n                            settings[item.keyField][type] = val;\r\n                            this.setState({ settings });\r\n                          }}\r\n                          valueMail={\r\n                            this.state.settings[item.keyField] &&\r\n                            this.state.settings[item.keyField].mail\r\n                          }\r\n                          valuePush={\r\n                            this.state.settings[item.keyField] &&\r\n                            this.state.settings[item.keyField].push\r\n                          }\r\n                          keyField={item.keyField}\r\n                        />\r\n                      );\r\n                    } else return <></>;\r\n                  })}\r\n                </div>\r\n              </div>\r\n              <div className=\"row common-settings\">\r\n                <div className=\"col-12 col-sm-12 col-md-6\">\r\n                  <p className=\"setting-title\">Общие</p>\r\n                  {settingsField.map((item, i) => {\r\n                    if (\r\n                      item.type === \"common\" &&\r\n                      (this.props.user.type === item.role ||\r\n                        item.role === \"all\")\r\n                    ) {\r\n                      return (\r\n                        <SettingsFiled\r\n                          key={i}\r\n                          label={item.label}\r\n                          onChange={(type, val) => {\r\n                            let settings = this.state.settings;\r\n                            if (!settings[item.keyField])\r\n                              settings[item.keyField] = {};\r\n                            settings[item.keyField][type] = val;\r\n                            this.setState({ settings });\r\n                          }}\r\n                          valueMail={\r\n                            this.state.settings[item.keyField] &&\r\n                            this.state.settings[item.keyField].mail\r\n                          }\r\n                          valuePush={\r\n                            this.state.settings[item.keyField] &&\r\n                            this.state.settings[item.keyField].push\r\n                          }\r\n                          keyField={item.keyField}\r\n                        />\r\n                      );\r\n                    } else return <></>;\r\n                  })}\r\n                </div>\r\n                <div className=\"col-12 col-sm-12 col-md-6\">\r\n                  <p className=\"setting-title\"></p>\r\n                  {settingsField.map((item, i) => {\r\n                    if (\r\n                      item.type === \"common2\" &&\r\n                      (this.props.user.type === item.role ||\r\n                        item.role === \"all\")\r\n                    ) {\r\n                      return (\r\n                        <SettingsFiled\r\n                          key={i}\r\n                          label={item.label}\r\n                          onChange={(type, val) => {\r\n                            let settings = this.state.settings;\r\n                            if (!settings[item.keyField])\r\n                              settings[item.keyField] = {};\r\n                            settings[item.keyField][type] = val;\r\n                            this.setState({ settings });\r\n                          }}\r\n                          valueMail={\r\n                            this.state.settings[item.keyField] &&\r\n                            this.state.settings[item.keyField].mail\r\n                          }\r\n                          valuePush={\r\n                            this.state.settings[item.keyField] &&\r\n                            this.state.settings[item.keyField].push\r\n                          }\r\n                          keyField={item.keyField}\r\n                        />\r\n                      );\r\n                    } else return <></>;\r\n                  })}\r\n                </div>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <Button\r\n                  onClick={this.saveSettings}\r\n                  type=\"fill\"\r\n                  className=\"mb-4\"\r\n                  paddingVertical={\"8px\"}\r\n                  fontSize={\"17px\"}\r\n                  paddingHorizontal={\"35px\"}\r\n                >\r\n                  Сохранить все\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CSSTransitionGroup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(NotificationsSettings);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 1L8.53261 7L1 13\",\n  stroke: \"#909090\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgAngleRight = function SvgAngleRight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 9,\n    viewBox: \"0 0 10 14\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAngleRight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/angle-right.2dd65d39.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ReactComponent as AngleSvg } from \"../../../img/angle-right.svg\";\r\n\r\nclass HeaderCreate extends React.Component {\r\n  state = {\r\n    onMobile: false,\r\n  };\r\n  updateDimensions = () => {\r\n    if (window.innerWidth <= 480) this.setState({ onMobile: true });\r\n    else this.setState({ onMobile: false });\r\n  };\r\n  componentDidMount() {\r\n    this.updateDimensions();\r\n    window.addEventListener(\"resize\", this.updateDimensions);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updateDimensions);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"header-statusBar row\">\r\n        {!this.state.onMobile && (\r\n          <>\r\n            <div\r\n              className={`${this.props.currentTab >= 1 ? \"active\" : \"\"}`}\r\n              onClick={() => {\r\n                this.props.changeTub(1);\r\n              }}\r\n            >\r\n              <span>{this.props.tabs[0]}</span>\r\n              <AngleSvg />\r\n            </div>\r\n            <div\r\n              className={` ${this.props.currentTab >= 2 ? \"active\" : \"\"}`}\r\n              onClick={() => {\r\n                this.props.changeTub(2);\r\n              }}\r\n            >\r\n              <span>{this.props.tabs[1]}</span>\r\n              <AngleSvg />\r\n            </div>\r\n            <div\r\n              className={`${this.props.currentTab >= 3 ? \"active\" : \"\"}`}\r\n              onClick={() => {\r\n                this.props.changeTub(3);\r\n              }}\r\n            >\r\n              <span>{this.props.tabs[2]}</span>\r\n              <AngleSvg />\r\n            </div>\r\n            <div\r\n              className={`${this.props.currentTab >= 4 ? \"active\" : \"\"}`}\r\n              onClick={() => {\r\n                this.props.changeTub(4);\r\n              }}\r\n            >\r\n              <span>{this.props.tabs[3]}</span>\r\n            </div>\r\n          </>\r\n        )}\r\n        {this.state.onMobile && (\r\n          <>\r\n            {this.props.currentTab > 1 && (\r\n              <>\r\n                <div\r\n                  className=\"go-prev\"\r\n                  onClick={() => {\r\n                    this.props.changeTub(this.props.currentTab - 1);\r\n                  }}\r\n                >\r\n                  {Array.apply(null, { length: this.props.currentTab - 1 }).map(\r\n                    (item, index) => {\r\n                      return <div className=\"circle\"></div>;\r\n                    }\r\n                  )}\r\n                  <AngleSvg />\r\n                </div>\r\n              </>\r\n            )}\r\n            <div className=\"active\">\r\n              <span>{this.props.tabs[this.props.currentTab - 1]}</span>\r\n            </div>\r\n            {this.props.currentTab < 4 && (\r\n              <>\r\n                <div\r\n                  className=\"go-next\"\r\n                  onClick={() => {\r\n                    this.props.changeTub(this.props.currentTab + 1);\r\n                  }}\r\n                >\r\n                  <AngleSvg />\r\n                  {Array.apply(null, { length: 4 - this.props.currentTab }).map(\r\n                    (item, index) => {\r\n                      return <div key={index} className=\"circle\"></div>;\r\n                    }\r\n                  )}\r\n                </div>\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(HeaderCreate);\r\n","import React from \"react\";\r\nimport Button from \"../../../Elements/Button\";\r\nimport Input from \"../../../Elements/Input\";\r\nimport Select from \"../../../Elements/Select\";\r\nimport CarSelect from \"../../../Elements/CarSelect\";\r\nimport CheckBoxSwitcher from \"../../../Elements/CheckBoxSwitcher\";\r\nimport CheckBox from \"../../../Elements/CheckBox\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport { toast } from \"react-toastify\";\r\n//Configs\r\nimport {\r\n  extraParams,\r\n  contractParams,\r\n  paymentParams,\r\n} from \"../../../config/baseInfo/carParams\";\r\nimport carTypesList from \"../../../config/baseInfo/carTypesList\";\r\n\r\n//Configs\r\nclass OfferCreate1 extends React.Component {\r\n  state = {\r\n    isExtra: false,\r\n    isContract: false,\r\n    isPayment: false,\r\n    openTemplate: false,\r\n    currentTemplate: false,\r\n    //Step1\r\n    car: {},\r\n    comment: \"\",\r\n    budget: false,\r\n  };\r\n  getArticlesInfo() {\r\n    let errorArr = {};\r\n    let isError = false;\r\n    if (!this.state.car.typesCar || !this.state.car.typesCar.length) {\r\n      toast.error(\"Выберите тип машины\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (!this.state.car.name) {\r\n      toast.error(\"Выберите марку и модель машины\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (!this.state.car.photo) {\r\n      toast.error(\"Выберите Фото машины\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (\r\n      this.state.car.contractInfo.find((item) => {\r\n        return (item.id === 2 || item.id === 3) && !item.org;\r\n      })\r\n    ) {\r\n      toast.error(\"Выберете организацию\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (isError) {\r\n      return false;\r\n    } else\r\n      return {\r\n        car: this.state.car,\r\n        comment: this.state.comment,\r\n        budget: this.state.budget,\r\n      };\r\n  }\r\n  componentDidMount() {\r\n    //Инициализация\r\n    let newState = {};\r\n    if (this.props.comment)\r\n      newState = {\r\n        ...newState,\r\n        comment: this.props.comment,\r\n      };\r\n    if (this.props.budget)\r\n      newState = {\r\n        ...newState,\r\n        budget: this.props.budget,\r\n      };\r\n    let car = this.props.car;\r\n    car = {\r\n      additionally: [],\r\n      contractInfo: [],\r\n      info: [],\r\n      property: \"\",\r\n      paymentInfo: [],\r\n      ...car,\r\n    };\r\n    newState = {\r\n      ...newState,\r\n      isExtra: !!car.additionally.length,\r\n      isContract: !!car.contractInfo && car.contractInfo.length,\r\n      isPayment: !!car.paymentInfo.length,\r\n    };\r\n    this.setState({\r\n      car: car,\r\n      ...newState,\r\n    });\r\n  }\r\n  selectTemplate = (template) => {\r\n    let newState = {};\r\n    let car = {\r\n      additionally: [],\r\n      contractInfo: [],\r\n      info: [],\r\n      property: \"\",\r\n      paymentInfo: [],\r\n      ...template.car,\r\n    };\r\n    newState = {\r\n      ...newState,\r\n      isExtra: !!car.additionally.length,\r\n      isContract: !!car.contractInfo && car.contractInfo.length,\r\n      isPayment: !!car.paymentInfo.length,\r\n    };\r\n    this.props.onChange({ typesCar: template.car.typesCar });\r\n    this.setState({ car: car, currentTemplate: template, ...newState });\r\n  };\r\n  getIfExit(array, item, prop) {\r\n    let element = false;\r\n    if ((element = array.find((itemX) => itemX.id == item)))\r\n      return element[prop] ? element[prop] : \"\";\r\n    else return \"\";\r\n  }\r\n  onChange = (val, prop) => {\r\n    let car = this.state.car;\r\n    switch (prop) {\r\n      case \"carType\":\r\n        car = { ...car, typesCar: [val], info: [] };\r\n        this.props.onChange({ typesCar: [val] });\r\n        break;\r\n      case \"carProperty\":\r\n        car = { ...car, property: val };\r\n        break;\r\n      case \"carName\":\r\n        car = { ...car, name: val };\r\n        break;\r\n      case \"carPhoto\":\r\n        car = { ...car, photo: val };\r\n        break;\r\n    }\r\n    this.setState({\r\n      car: car,\r\n    });\r\n  };\r\n  onChangeParams = (prop, val, isSingle = false) => {\r\n    let car = { ...this.state.car };\r\n    if (!isSingle) {\r\n      if (\r\n        car[prop].find((item) => {\r\n          return item.id === val;\r\n        })\r\n      ) {\r\n        car[prop] = car[prop].filter((item, index) => {\r\n          return item.id !== val;\r\n        });\r\n      } else {\r\n        car[prop].push({ id: val });\r\n      }\r\n      this.setState({\r\n        car: car,\r\n      });\r\n    } else {\r\n      car[prop] = { id: val };\r\n      this.setState({\r\n        car: car,\r\n      });\r\n    }\r\n  };\r\n  onChangeParamsFiels = (prop, idProp, name, val, isSingle = false) => {\r\n    let car = { ...this.state.car };\r\n    if (!isSingle) {\r\n      if (\r\n        car[prop].find((item) => {\r\n          return item.id === idProp;\r\n        })\r\n      ) {\r\n        car[prop] = car[prop].map((item) => {\r\n          if (item.id === idProp) {\r\n            item[name] = val;\r\n            return item;\r\n          } else return item;\r\n        });\r\n      }\r\n    } else {\r\n      car[prop][name] = val;\r\n    }\r\n    this.setState({\r\n      car: car,\r\n    });\r\n  };\r\n  onChangeComment = (e) => {\r\n    this.setState({ comment: e.target.value });\r\n  };\r\n  onChangeBudget = (e) => {\r\n    this.setState({ budget: e.target.value });\r\n  };\r\n  onChangeCarData = (carId, prop, val) => {\r\n    let carDataX = this.state.car.info;\r\n    if (carDataX.find((item) => item.carId === carId)) {\r\n      carDataX = carDataX.map((item) => {\r\n        if (item.carId === carId) {\r\n          item[prop] = val;\r\n          return item;\r\n        } else return item;\r\n      });\r\n    } else {\r\n      carDataX.push({ carId: carId });\r\n      carDataX[carDataX.length - 1][prop] = val;\r\n    }\r\n    this.setState({ car: { ...this.state.car, info: carDataX } });\r\n  };\r\n\r\n  render() {\r\n    let currentCarType =\r\n      this.state.car.typesCar && !!this.state.car.typesCar.length\r\n        ? carTypesList.find((item) => this.state.car.typesCar[0] === item.id)\r\n        : false;\r\n    let currentInfo = {};\r\n    if (this.state.car.info)\r\n      currentInfo =\r\n        this.state.car.info.find((item) => item.carId === currentCarType.id) ||\r\n        {};\r\n    return (\r\n      <div className={`step-create ${this.props.className}`}>\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"mt-3 col-12 col-md-8 mx-0 px-0 row carInfo\">\r\n              {!!this.props.carTemplates.length && (\r\n                <div>\r\n                  <a\r\n                    className=\"href hover\"\r\n                    onClick={() => {\r\n                      this.setState({ openTemplate: !this.state.openTemplate });\r\n                    }}\r\n                  >\r\n                    {this.state.openTemplate\r\n                      ? \"Закрыть выбор шаблонов\"\r\n                      : \"Выбрать из шаблона Авто\"}\r\n                  </a>\r\n                  {this.state.openTemplate && (\r\n                    <Select\r\n                      placeholder=\"Шаблоны машины\"\r\n                      options={this.props.carTemplates.map((item) => {\r\n                        return {\r\n                          value: item,\r\n                          label: item.car.name,\r\n                        };\r\n                      })}\r\n                      value={\r\n                        this.state.currentTemplate\r\n                          ? {\r\n                              value: this.state.currentTemplate,\r\n                              label: this.state.currentTemplate.car.name,\r\n                            }\r\n                          : null\r\n                      }\r\n                      onChange={(val) => {\r\n                        this.selectTemplate(val.value);\r\n                      }}\r\n                    />\r\n                  )}\r\n                </div>\r\n              )}\r\n              <h4\r\n                className=\"f-16 col-12 mb-1\"\r\n                style={{\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                Тип авто\r\n              </h4>\r\n              <div className=\"mt-3 carType\">\r\n                <Select\r\n                  placeholder=\"Тип  машины\"\r\n                  options={carTypesList.map((item) => {\r\n                    return {\r\n                      value: item.id,\r\n                      label: item.name,\r\n                    };\r\n                  })}\r\n                  value={\r\n                    currentCarType\r\n                      ? {\r\n                          value: currentCarType.id,\r\n                          label: currentCarType.name,\r\n                        }\r\n                      : null\r\n                  }\r\n                  onChange={(val) => {\r\n                    this.onChange(val.value, \"carType\");\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"carName mt-3\">\r\n                <CarSelect\r\n                  value={this.state.car.name}\r\n                  apiToken={this.props.user.apiToken}\r\n                  onChange={(val) => {\r\n                    this.onChange(val.value, \"carName\");\r\n                  }}\r\n                />\r\n              </div>\r\n              {currentCarType && (\r\n                <div className=\"carMoreInfo carInfo row w-100\">\r\n                  {currentCarType.id !== 1 && (\r\n                    <div className=\"carType\">\r\n                      <div className=\"f-14 mb-2\">Грузоподъемность в тоннах</div>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        placeholder=\"Грузоподьемность\"\r\n                        value={currentInfo.capacity || \"\"}\r\n                        onChange={(e) => {\r\n                          this.onChangeCarData(\r\n                            currentCarType.id,\r\n                            \"capacity\",\r\n                            e.target.value\r\n                          );\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {currentCarType.id === 12 && (\r\n                    <div className=\"moreInfoCheckBox\">\r\n                      <div className=\"f-14 mb-3\">Тентовый</div>\r\n                      <div\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                        }}\r\n                      >\r\n                        <CheckBox\r\n                          id=\"awning1\"\r\n                          name=\"awning\"\r\n                          value={currentInfo.awning === \"Жесткий борт\" || \"\"}\r\n                          onChange={() => {\r\n                            this.onChangeCarData(\r\n                              currentCarType.id,\r\n                              \"awning\",\r\n                              \"Жесткий борт\"\r\n                            );\r\n                          }}\r\n                          text={\"Жесткий борт\"}\r\n                        />\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                        }}\r\n                      >\r\n                        <CheckBox\r\n                          id=\"awning2\"\r\n                          name=\"awning\"\r\n                          value={\r\n                            currentInfo.awning === \"Съемная верхняя балка\" || \"\"\r\n                          }\r\n                          onChange={() => {\r\n                            this.onChangeCarData(\r\n                              currentCarType.id,\r\n                              \"awning\",\r\n                              \"Съемная верхняя балка\"\r\n                            );\r\n                          }}\r\n                          text={\"Съемная верхняя балка\"}\r\n                        />\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                        }}\r\n                      >\r\n                        <CheckBox\r\n                          id=\"awning3\"\r\n                          name=\"awning\"\r\n                          value={\r\n                            (currentInfo &&\r\n                              currentInfo.awning ===\r\n                                \"Съемная боковая стойка\") ||\r\n                            \"\"\r\n                          }\r\n                          onChange={() => {\r\n                            this.onChangeCarData(\r\n                              currentCarType.id,\r\n                              \"awning\",\r\n                              \"Съемная боковая стойка\"\r\n                            );\r\n                          }}\r\n                          text={\"Съемная боковая стойка\"}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {currentCarType.id === 9 && (\r\n                    <div className=\"moreInfoCheckBox\">\r\n                      <div className=\"f-14 mb-3\">Тип</div>\r\n                      <div\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                        }}\r\n                      >\r\n                        <CheckBox\r\n                          id=\"typeGazel1\"\r\n                          name=\"typeGazel\"\r\n                          value={\r\n                            currentInfo.typeGazel === \"Цельнометаллическая\" ||\r\n                            \"\"\r\n                          }\r\n                          onChange={() => {\r\n                            this.onChangeCarData(\r\n                              currentCarType.id,\r\n                              \"typeGazel\",\r\n                              \"Цельнометаллическая\"\r\n                            );\r\n                          }}\r\n                          text={\"Цельнометаллическая\"}\r\n                        />\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                        }}\r\n                      >\r\n                        <CheckBox\r\n                          id=\"typeGazel2\"\r\n                          name=\"typeGazel\"\r\n                          value={currentInfo.typeGazel === \"С тентом\" || \"\"}\r\n                          onChange={() => {\r\n                            this.onChangeCarData(\r\n                              currentCarType.id,\r\n                              \"typeGazel\",\r\n                              \"С тентом\"\r\n                            );\r\n                          }}\r\n                          text={\"С тентом\"}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"moreInfoCheckBox\">\r\n                    <div className=\"f-14 mb-3\">Свойство:</div>\r\n                    <div\r\n                      style={{\r\n                        display: \"inline-block\",\r\n                      }}\r\n                    >\r\n                      <CheckBox\r\n                        id=\"property1\"\r\n                        name=\"property\"\r\n                        value={\r\n                          (this.state.car &&\r\n                            this.state.car.property === \"Манипулятор\") ||\r\n                          \"\"\r\n                        }\r\n                        onChange={() => {\r\n                          if (\r\n                            this.state.car &&\r\n                            this.state.car.property === \"Манипулятор\"\r\n                          )\r\n                            this.onChange(false, \"carProperty\");\r\n                          else this.onChange(\"Манипулятор\", \"carProperty\");\r\n                        }}\r\n                        text={\"Манипулятор\"}\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: \"inline-block\",\r\n                      }}\r\n                    >\r\n                      <CheckBox\r\n                        id=\"property2\"\r\n                        name=\"property\"\r\n                        value={\r\n                          (this.state.car &&\r\n                            this.state.car.property === \"Рефрижератор\") ||\r\n                          \"\"\r\n                        }\r\n                        onChange={() => {\r\n                          if (\r\n                            this.state.car &&\r\n                            this.state.car.property === \"Рефрижератор\"\r\n                          )\r\n                            this.onChange(false, \"carProperty\");\r\n                          else this.onChange(\"Рефрижератор\", \"carProperty\");\r\n                        }}\r\n                        text={\"Рефрижератор\"}\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: \"inline-block\",\r\n                      }}\r\n                    >\r\n                      <CheckBox\r\n                        id=\"property3\"\r\n                        name=\"property\"\r\n                        value={\r\n                          (this.state.car &&\r\n                            this.state.car.property === \"Изотерм\") ||\r\n                          \"\"\r\n                        }\r\n                        onChange={() => {\r\n                          if (\r\n                            this.state.car &&\r\n                            this.state.car.property === \"Изотерм\"\r\n                          )\r\n                            this.onChange(false, \"carProperty\");\r\n                          else this.onChange(\"Изотерм\", \"carProperty\");\r\n                        }}\r\n                        text={\"Изотерм\"}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"mt-3 col-12 col-md-4 row addPhotoCarBlock\">\r\n              <h4\r\n                className=\"f-16 col-12 text-center\"\r\n                style={{\r\n                  marginBottom: \"20px\",\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                Добавьте фото машины\r\n              </h4>\r\n              <input\r\n                id=\"photoCar\"\r\n                onChange={(e) => {\r\n                  let file = e.target.files[0];\r\n                  this.onChange(\r\n                    { file: file, path: URL.createObjectURL(file) },\r\n                    \"carPhoto\"\r\n                  );\r\n                }}\r\n                type=\"file\"\r\n                accept=\"image/jpeg,image/png\"\r\n                hidden\r\n              />\r\n              <div\r\n                className={`inputPhoto ${\r\n                  !this.state.car.photo ? \"unload\" : \"\"\r\n                } `}\r\n              >\r\n                <div\r\n                  className=\"placeholder\"\r\n                  onClick={() => {\r\n                    document.getElementById(\"photoCar\").click();\r\n                  }}\r\n                >\r\n                  <span>Загрузить</span>\r\n                </div>\r\n                {this.state.car.photo && (\r\n                  <img\r\n                    src={\r\n                      this.state.car.photo ? this.state.car.photo.path : false\r\n                    }\r\n                    className=\"carPhoto\"\r\n                    alt=\"carPhoto\"\r\n                  />\r\n                )}\r\n                {!this.state.car.photo && <div className=\"carPhoto\" />}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row swicher-wrapper\">\r\n            <div className=\"col-sm-6 col-md-4\">\r\n              <div className=\"CheckBoxSwitcher-wrapper\">\r\n                <CheckBoxSwitcher\r\n                  lableClassname=\"f-16\"\r\n                  val={this.state.isExtra}\r\n                  onChange={() => {\r\n                    this.setState({\r\n                      isExtra: !this.state.isExtra,\r\n                    });\r\n                  }}\r\n                  lable=\"Дополнительные параметры\"\r\n                />\r\n              </div>\r\n              <CSSTransitionGroup\r\n                transitionName=\"height-animation-item\"\r\n                transitionEnterTimeout={300}\r\n                transitionLeaveTimeout={300}\r\n                style={{\r\n                  display: \"contents\",\r\n                }}\r\n              >\r\n                {this.state.isExtra && (\r\n                  <div className=\"checkboxGroup\">\r\n                    {extraParams.map((item, index) => {\r\n                      return (\r\n                        <div key={index} className=\"checkboxParam\">\r\n                          <CheckBox\r\n                            id={`additionally${item.id}`}\r\n                            name={`additionally${item.id}`}\r\n                            value={this.state.car.additionally.find(\r\n                              (itemX) => itemX.id == item.id\r\n                            )}\r\n                            onChange={() => {\r\n                              this.onChangeParams(\"additionally\", item.id);\r\n                            }}\r\n                            text={item.name}\r\n                          />\r\n                          {item.additionFields &&\r\n                            this.state.car.additionally.find(\r\n                              (itemX) => itemX.id === item.id\r\n                            ) &&\r\n                            item.additionFields.map((itemField, index) => {\r\n                              return (\r\n                                <itemField.field\r\n                                  key={index}\r\n                                  {...itemField.props}\r\n                                  value={this.getIfExit(\r\n                                    this.state.car.additionally,\r\n                                    item.id,\r\n                                    itemField.name\r\n                                  )}\r\n                                  onChange={(e) => {\r\n                                    this.onChangeParamsFiels(\r\n                                      \"additionally\",\r\n                                      item.id,\r\n                                      itemField.name,\r\n                                      e.target.value\r\n                                    );\r\n                                  }}\r\n                                ></itemField.field>\r\n                              );\r\n                            })}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </CSSTransitionGroup>\r\n            </div>\r\n            <div className=\"col-sm-6 col-md-4\">\r\n              <div className=\"CheckBoxSwitcher-wrapper\">\r\n                <CheckBoxSwitcher\r\n                  val={this.state.isContract}\r\n                  onChange={() => {\r\n                    this.setState({\r\n                      isContract: !this.state.isContract,\r\n                    });\r\n                  }}\r\n                  lable=\"Заключение договора\"\r\n                />\r\n              </div>\r\n              <CSSTransitionGroup\r\n                transitionName=\"height-animation-item\"\r\n                transitionEnterTimeout={300}\r\n                transitionLeaveTimeout={300}\r\n                style={{\r\n                  display: \"contents\",\r\n                }}\r\n              >\r\n                {this.state.isContract && (\r\n                  <div className=\"checkboxGroup contract\">\r\n                    {contractParams.map((item, index) => {\r\n                      return (\r\n                        <div key={index} className=\"checkboxParam\">\r\n                          <CheckBox\r\n                            id={`contractParams${item.id}`}\r\n                            name={`contractParams`}\r\n                            value={this.state.car.contractInfo.find(\r\n                              (itemX) => itemX.id === item.id\r\n                            )}\r\n                            onChange={() => {\r\n                              this.onChangeParams(\"contractInfo\", item.id);\r\n                            }}\r\n                            text={item.name}\r\n                          />\r\n                          {item.additionFields &&\r\n                            this.state.car.contractInfo.find(\r\n                              (itemX) => itemX.id === item.id\r\n                            ) &&\r\n                            item.additionFields.map((itemField, index) => {\r\n                              return (\r\n                                <itemField.field\r\n                                  key={index}\r\n                                  {...itemField.props}\r\n                                  value={\r\n                                    this.getIfExit(\r\n                                      this.state.car.contractInfo,\r\n                                      item.id,\r\n                                      itemField.props.name\r\n                                    ).value\r\n                                  }\r\n                                  onChange={(val) => {\r\n                                    this.onChangeParamsFiels(\r\n                                      \"contractInfo\",\r\n                                      item.id,\r\n                                      itemField.props.name,\r\n                                      val\r\n                                    );\r\n                                  }}\r\n                                ></itemField.field>\r\n                              );\r\n                            })}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </CSSTransitionGroup>\r\n            </div>\r\n            <div className=\"col-sm-6 col-md-4\">\r\n              <div className=\"CheckBoxSwitcher-wrapper\">\r\n                <CheckBoxSwitcher\r\n                  val={this.state.isPayment}\r\n                  onChange={() => {\r\n                    this.setState({\r\n                      isPayment: !this.state.isPayment,\r\n                    });\r\n                  }}\r\n                  lable=\"Способы оплаты водителю\"\r\n                />\r\n              </div>\r\n              <CSSTransitionGroup\r\n                transitionName=\"height-animation-item\"\r\n                transitionEnterTimeout={300}\r\n                transitionLeaveTimeout={300}\r\n                style={{\r\n                  display: \"contents\",\r\n                }}\r\n              >\r\n                {this.state.isPayment && (\r\n                  <div className=\"checkboxGroup\">\r\n                    {paymentParams.map((item, index) => {\r\n                      return (\r\n                        <div key={index} className=\"checkboxParam\">\r\n                          <CheckBox\r\n                            id={`paymentParams${item.id}`}\r\n                            name={`paymentParams${item.id}`}\r\n                            value={\r\n                              this.state.car.paymentInfo.length &&\r\n                              !!this.state.car.paymentInfo.find(\r\n                                (itemX) => itemX.id === item.id\r\n                              )\r\n                            }\r\n                            onChange={() => {\r\n                              this.onChangeParams(\"paymentInfo\", item.id);\r\n                            }}\r\n                            text={item.name}\r\n                          />\r\n                          {item.additionFields &&\r\n                            this.state.car.paymentInfo.find(\r\n                              (itemX) => itemX === item.id\r\n                            ) &&\r\n                            item.additionFields.map((itemField, index) => {\r\n                              return (\r\n                                <itemField.field\r\n                                  key={index}\r\n                                  {...itemField.props}\r\n                                  value={\r\n                                    this.state.car.paymentInfo[\r\n                                      itemField.props.name\r\n                                    ]\r\n                                  }\r\n                                  onChange={(e) => {\r\n                                    this.onChangeParamsFiels(\r\n                                      \"paymentInfo\",\r\n                                      item.id,\r\n                                      itemField.props.name,\r\n                                      e.target.value\r\n                                    );\r\n                                  }}\r\n                                ></itemField.field>\r\n                              );\r\n                            })}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </CSSTransitionGroup>\r\n            </div>\r\n          </div>\r\n          <div className=\"row \">\r\n            <div className=\"col-12 col-sm-8 mt-4\">\r\n              <div className=\"mb-2 f-16\">Комментарий</div>\r\n              <textarea\r\n                className=\"w-100\"\r\n                onChange={this.onChangeComment}\r\n                style={{\r\n                  height: \"70px\",\r\n                }}\r\n                value={this.state.comment ? this.state.comment : \"\"}\r\n              ></textarea>\r\n            </div>\r\n            <div className=\"col-12 col-sm-4 mt-4\">\r\n              <div className=\"mb-2 f-16\">Желаемый бюджет</div>\r\n              <div className=\"d-flex align-items-center\">\r\n                <Input\r\n                  style={{\r\n                    maxWidth: \"113px\",\r\n                    marginRight: \"7px\",\r\n                  }}\r\n                  type=\"number\"\r\n                  onChange={this.onChangeBudget}\r\n                  value={this.state.budget ? this.state.budget : \"\"}\r\n                  placeholder=\"0\"\r\n                />\r\n                <span>руб</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row slide-step justify-content-end\">\r\n            <Button\r\n              type=\"fill\"\r\n              className=\" input-action\"\r\n              paddingHorizontal=\"40px\"\r\n              onClick={this.props.next}\r\n            >\r\n              Вперед\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default OfferCreate1;\r\n","// App\r\nimport React from \"react\";\r\n// Elements\r\nimport Button from \"../../../Elements/Button\";\r\nimport Input from \"../../../Elements/Input\";\r\nimport CheckBox from \"../../../Elements/CheckBox\";\r\nimport AdressSelect from \"../../../Elements/AdressSelect\";\r\nimport { Map, Placemark } from \"react-yandex-maps\";\r\nimport { toast } from \"react-toastify\";\r\nclass OfferCreate2 extends React.Component {\r\n  state = {\r\n    isTime: false,\r\n    isTimeInterval: false,\r\n    addressFrom: false,\r\n    addressTo: false,\r\n    startDate: false,\r\n    startTimeFrom: false,\r\n    startTimeTo: false,\r\n    errRequired: {},\r\n  };\r\n  getArticlesInfo() {\r\n    let errorArr = {};\r\n    let isError = false;\r\n    if (\r\n      this.state.startDate &&\r\n      new Date(this.state.startDate) < new Date().setHours(0,0,0,0)\r\n    ) {\r\n      toast.error(\"Дата должна быть больше текущей\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (\r\n      !this.state.addressFrom ||\r\n      Number(this.state.addressFrom.data.fias_level) !== 8\r\n    ) {\r\n      toast.error(\"Введите адрес отправления до дома\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (\r\n      !this.state.addressTo ||\r\n      Number(this.state.addressTo.data.fias_level) !== 8\r\n    ) {\r\n      toast.error(\"Введите адрес доставки до дома\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (isError) {\r\n      return false;\r\n    } else\r\n      return {\r\n        startDate: this.state.startDate\r\n          ? {\r\n              timeFrom: this.state.startTimeFrom,\r\n              timeTo: this.state.startTimeTo,\r\n              date: this.state.startDate,\r\n            }\r\n          : false,\r\n        from: this.state.addressFrom,\r\n        to: this.state.addressTo,\r\n      };\r\n  }\r\n  componentDidMount() {\r\n    //Инициализация\r\n    let newState = {};\r\n    if (this.props.addressFrom)\r\n      newState = {\r\n        addressFrom: this.props.addressFrom,\r\n      };\r\n    if (this.props.addressTo)\r\n      newState = {\r\n        ...newState,\r\n        addressTo: this.props.addressTo,\r\n      };\r\n    if (this.props.startDate) {\r\n      if (this.props.startDate.date)\r\n        newState = {\r\n          ...newState,\r\n          startDate: this.props.startDate.date,\r\n        };\r\n      if (this.props.startDate.date)\r\n        newState = {\r\n          ...newState,\r\n          startTimeFrom: this.props.startDate.timeFrom,\r\n        };\r\n      if (this.props.startDate.date)\r\n        newState = {\r\n          ...newState,\r\n          startTimeTo: this.props.startDate.timeTo,\r\n        };\r\n    }\r\n    this.setState({\r\n      ...newState,\r\n    });\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.state.startTimeFrom && !this.state.isTime)\r\n      this.setState({ isTime: true });\r\n    if (this.state.startTimeTo && !this.state.isTimeInterval)\r\n      this.setState({ isTimeInterval: true });\r\n  }\r\n  onChangeAddress = (prop, val, callback) => {\r\n    switch (prop) {\r\n      case \"From\":\r\n        this.setState({ addressFrom: val }, callback);\r\n        break;\r\n      case \"To\":\r\n        this.setState({ addressTo: val }, callback);\r\n        break;\r\n    }\r\n  };\r\n  onChangeTimeInfo = (prop, val, callback) => {\r\n    let startTimeFrom = new Date(this.state.startTimeFrom);\r\n    let startTimeTo = new Date(this.state.startTimeTo);\r\n    switch (prop) {\r\n      case \"date\":\r\n        {\r\n          let state = { startDate: val };\r\n          if (this.state.startTimeFrom) {\r\n            state.startTimeFrom = new Date(\r\n              val.getFullYear(),\r\n              val.getMonth(),\r\n              val.getDate(),\r\n              startTimeFrom.getHours(),\r\n              startTimeFrom.getMinutes(),\r\n              startTimeFrom.getSeconds()\r\n            );\r\n          }\r\n          if (this.state.startTimeTo) {\r\n            state.startTimeTo = new Date(\r\n              val.getFullYear(),\r\n              val.getMonth(),\r\n              val.getDate(),\r\n              startTimeTo.getHours(),\r\n              startTimeTo.getMinutes(),\r\n              startTimeTo.getSeconds()\r\n            );\r\n          }\r\n          this.setState(state, callback);\r\n        }\r\n        break;\r\n      case \"From\":\r\n        let state;\r\n        if (!val) {\r\n          state = { startTimeFrom: false, startTimeTo: false };\r\n        } else if (startTimeTo < val)\r\n          state = { startTimeFrom: val, startTimeTo: false };\r\n        else state = { startTimeFrom: val };\r\n        this.setState(state, callback);\r\n        break;\r\n      case \"To\":\r\n        if (startTimeFrom > val && val)\r\n          toast.error(`Время \"До\" должно быть больше времени \"От\" `, {\r\n            position: toast.POSITION.TOP_CENTER,\r\n          });\r\n        else {\r\n          this.setState({ startTimeTo: val }, callback);\r\n        }\r\n        break;\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={`step-create ${this.props.className}`}>\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row align-items-start\">\r\n            <div className=\"col-xl-8 mt-2 col-12 row\">\r\n              <h4\r\n                className=\"f-16 col-12 mb-1\"\r\n                style={{\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                Маршрут\r\n              </h4>\r\n              <div className=\"col-12 col-sm-6 mt-2\">\r\n                <AdressSelect\r\n                  placeholder=\"Откуда\"\r\n                  className={`${\r\n                    this.state.errRequired.addressFrom ? \"errRequired\" : \"\"\r\n                  }`}\r\n                  value={\r\n                    this.state.addressFrom ? this.state.addressFrom.value : \"\"\r\n                  }\r\n                  onChange={(val) => {\r\n                    if (val && Number(val.data.fias_level) === 8)\r\n                      this.setState({\r\n                        errRequired: {\r\n                          ...this.state.errRequired,\r\n                          addressFrom: false,\r\n                        },\r\n                      });\r\n                    this.onChangeAddress(\"From\", val, () => {\r\n                      if (val && val.data.geo_lat && val.data.geo_lon) {\r\n                        this.mapFrom.panTo(\r\n                          [Number(val.data.geo_lat), Number(val.data.geo_lon)],\r\n                          {\r\n                            delay: 1500,\r\n                          }\r\n                        );\r\n                      }\r\n                    });\r\n                  }}\r\n                />\r\n                <Map\r\n                  instanceRef={(ref) => {\r\n                    this.mapFrom = ref;\r\n                  }}\r\n                  defaultState={{\r\n                    center: this.state.addressFrom\r\n                      ? [\r\n                          this.state.addressFrom.data.geo_lat,\r\n                          this.state.addressFrom.data.geo_lon,\r\n                        ]\r\n                      : [55.684758, 37.738521],\r\n                    zoom: 10,\r\n                  }}\r\n                  style={{\r\n                    marginTop: \"21px\",\r\n                    height: \"220px\",\r\n                    width: \"100%\",\r\n                  }}\r\n                >\r\n                  {this.state.addressFrom &&\r\n                    this.state.addressFrom.data.geo_lat &&\r\n                    this.state.addressFrom.data.geo_lon && (\r\n                      <Placemark\r\n                        geometry={[\r\n                          this.state.addressFrom.data.geo_lat,\r\n                          this.state.addressFrom.data.geo_lon,\r\n                        ]}\r\n                      />\r\n                    )}\r\n                </Map>\r\n              </div>\r\n              <div className=\"col-12 col-sm-6 mt-2\">\r\n                <AdressSelect\r\n                  placeholder=\"Куда\"\r\n                  className={`${\r\n                    this.state.errRequired.addressTo ? \"errRequired\" : \"\"\r\n                  }`}\r\n                  value={this.state.addressTo ? this.state.addressTo.value : \"\"}\r\n                  onChange={(val) => {\r\n                    if (val && Number(val.data.fias_level) === 8)\r\n                      this.setState({\r\n                        errRequired: {\r\n                          ...this.state.errRequired,\r\n                          addressTo: false,\r\n                        },\r\n                      });\r\n\r\n                    this.onChangeAddress(\"To\", val, () => {\r\n                      if (val && val.data.geo_lat && val.data.geo_lon) {\r\n                        this.mapTo.panTo(\r\n                          [Number(val.data.geo_lat), Number(val.data.geo_lon)],\r\n                          {\r\n                            delay: 1500,\r\n                          }\r\n                        );\r\n                      }\r\n                    });\r\n                  }}\r\n                />\r\n                <Map\r\n                  instanceRef={(ref) => {\r\n                    this.mapTo = ref;\r\n                  }}\r\n                  defaultState={{\r\n                    center: this.state.addressTo\r\n                      ? [\r\n                          this.state.addressTo.data.geo_lat,\r\n                          this.state.addressTo.data.geo_lon,\r\n                        ]\r\n                      : [55.684758, 37.738521],\r\n                    zoom: 10,\r\n                  }}\r\n                  style={{\r\n                    marginTop: \"21px\",\r\n                    height: \"220px\",\r\n                    width: \"100%\",\r\n                  }}\r\n                >\r\n                  {this.state.addressTo &&\r\n                    this.state.addressTo.data.geo_lat &&\r\n                    this.state.addressTo.data.geo_lon && (\r\n                      <Placemark\r\n                        geometry={[\r\n                          this.state.addressTo.data.geo_lat,\r\n                          this.state.addressTo.data.geo_lon,\r\n                        ]}\r\n                      />\r\n                    )}\r\n                </Map>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-xl-4 mt-2 col-12 row\">\r\n              <h4\r\n                className=\"f-16 col-12\"\r\n                style={{\r\n                  marginBottom: \"12px\",\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                Дата и время\r\n              </h4>\r\n              <div\r\n                className=\"col-12 row mx-0\"\r\n                style={{\r\n                  marginLeft: \"0\",\r\n                  marginRight: \"0\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <span className=\"filter-input-title\">\r\n                  Дата<br></br>погрузки\r\n                </span>\r\n                <Input\r\n                  type=\"date\"\r\n                  className={`${\r\n                    this.state.errRequired.startDate ? \"errRequired\" : \"\"\r\n                  }`}\r\n                  style={{ width: \"130px\" }}\r\n                  placeholder=\"Введите дату\"\r\n                  value={this.state.startDate || null}\r\n                  onChange={(val) => {\r\n                    this.setState({\r\n                      errRequired: {\r\n                        ...this.state.startDate,\r\n                        startDate: false,\r\n                      },\r\n                    });\r\n                    this.onChangeTimeInfo(\"date\", val);\r\n                  }}\r\n                />\r\n              </div>\r\n              {this.state.startDate && (\r\n                <div\r\n                  className=\"col d-flex align-items-center\"\r\n                  style={{\r\n                    marginTop: \"21px\",\r\n                    maxWidth: \"146px\",\r\n                  }}\r\n                >\r\n                  <CheckBox\r\n                    id=\"isTime\"\r\n                    value={this.state.isTime}\r\n                    onChange={() => {\r\n                      if (this.state.isTime)\r\n                        this.onChangeTimeInfo(\"From\", false);\r\n                      this.setState({ isTime: !this.state.isTime });\r\n                    }}\r\n                    text=\"Указать время\"\r\n                  />\r\n                </div>\r\n              )}\r\n              {this.state.isTime && (\r\n                <>\r\n                  <div\r\n                    className=\"col d-flex align-items-center\"\r\n                    style={{\r\n                      marginTop: \"21px\",\r\n                      maxWidth: \"172px\",\r\n                    }}\r\n                  >\r\n                    {this.state.startTimeFrom && (\r\n                      <CheckBox\r\n                        id=\"isTimeInterval\"\r\n                        onChange={() => {\r\n                          if (this.state.isTimeInterval)\r\n                            this.onChangeTimeInfo(\"To\", false);\r\n                          this.setState({\r\n                            isTimeInterval: !this.state.isTimeInterval,\r\n                          });\r\n                        }}\r\n                        value={this.state.isTimeInterval}\r\n                        text=\"Добавить интервал\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <div\r\n                    className=\"d-inline-flex  col-12 mt-3\"\r\n                    style={{\r\n                      alignItems: \"center\",\r\n                      flexDirection: \"row\",\r\n                    }}\r\n                  >\r\n                    <span className=\"filter-input-title mb-0\">\r\n                      Время<br></br>погрузки\r\n                    </span>\r\n                    <Input\r\n                      date={this.state.startDate}\r\n                      type=\"time\"\r\n                      value={this.state.startTimeFrom || null}\r\n                      onChange={(val) => {\r\n                        this.onChangeTimeInfo(\"From\", val);\r\n                      }}\r\n                    />\r\n                    {this.state.isTimeInterval && (\r\n                      <>\r\n                        <span className=\"filter-input-title mb-0\">\r\n                          &nbsp;&nbsp;-\r\n                        </span>\r\n                        <Input\r\n                          date={this.state.startDate}\r\n                          type=\"time\"\r\n                          value={this.state.startTimeTo || null}\r\n                          onChange={(val) => {\r\n                            this.onChangeTimeInfo(\"To\", val);\r\n                          }}\r\n                        />\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"row slide-step justify-content-end\">\r\n            <Button\r\n              type=\"empty\"\r\n              className=\" input-action\"\r\n              paddingHorizontal=\"40px\"\r\n              onClick={this.props.prev}\r\n            >\r\n              Назад\r\n            </Button>\r\n            <Button\r\n              type=\"fill\"\r\n              className=\" input-action\"\r\n              paddingHorizontal=\"40px\"\r\n              onClick={this.props.next}\r\n            >\r\n              Вперед\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default OfferCreate2;\r\n","// App\r\nimport React from \"react\";\r\n// Elements\r\nimport Button from \"../../../Elements/Button\";\r\nimport Select from \"../../../Elements/Select\";\r\nimport { Link } from \"react-router-dom\";\r\n//Configs\r\nimport { toast } from \"react-toastify\";\r\nimport carTypesList from \"../../../config/baseInfo/carTypesList\";\r\nimport cargoTypesList from \"../../../config/baseInfo/cargoTypesList\";\r\n//Configs\r\nimport StandartParams from \"./StandartParams\";\r\n\r\nclass OfferCreate3 extends React.Component {\r\n  state = {\r\n    isPro: false,\r\n    cargoTypes: [],\r\n    cargoData: [],\r\n    cargoStandartData: {},\r\n    cargoListPossible: [],\r\n  };\r\n  componentDidMount() {\r\n    let currentCargoTypes = cargoTypesList.filter((item) => {\r\n      return (\r\n        !!this.props.cargoTypes &&\r\n        !!this.props.cargoTypes.find((itemX) => {\r\n          return itemX === item.id;\r\n        })\r\n      );\r\n    });\r\n    //Инициализация\r\n    let newState = {};\r\n    if (this.props.cargoTypes)\r\n      newState = {\r\n        cargoTypes: this.props.cargoTypes,\r\n      };\r\n    if (currentCargoTypes.find((item) => item.isPro))\r\n      newState = {\r\n        ...newState,\r\n        isPro: true,\r\n      };\r\n    if (this.props.cargoData)\r\n      newState = {\r\n        ...newState,\r\n        cargoData: this.props.cargoData,\r\n      };\r\n    if (this.props.cargoStandartData)\r\n      newState = {\r\n        ...newState,\r\n        cargoStandartData: this.props.cargoStandartData,\r\n      };\r\n    this.setState(\r\n      {\r\n        ...newState,\r\n      },\r\n      this.updateTypes()\r\n    );\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.typesCar || this.props.typesCar) {\r\n      let prevTypes = prevProps.typesCar || [];\r\n      let currentTypes = this.props.typesCar || [];\r\n      prevTypes.sort((a, b) => b - a);\r\n      currentTypes.sort((a, b) => b - a);\r\n      if (JSON.stringify(prevTypes) !== JSON.stringify(currentTypes)) {\r\n        //Получение позможных относителдьно машины грузов\r\n        this.updateTypes();\r\n      }\r\n    }\r\n  }\r\n  updateTypes() {\r\n    let cargoListPossible = [];\r\n\r\n    cargoListPossible = this.props.typesCar.map((item) => {\r\n      return carTypesList.find((itemX) => itemX.id == item).cargoTypes;\r\n    });\r\n\r\n    cargoListPossible = cargoListPossible\r\n      .flat()\r\n      .filter(function (value, index, self) {\r\n        return self.indexOf(value) === index;\r\n      });\r\n    cargoListPossible = cargoListPossible.map((item) => {\r\n      return cargoTypesList.find((itemX) => itemX.id === item);\r\n    });\r\n\r\n    //Получение позможных относителдьно машины грузов\r\n    let newCurentCargoType = this.state.cargoTypes.filter((item) => {\r\n      return cargoListPossible.find((itemX) => itemX.id === item);\r\n    });\r\n    let isPro = false;\r\n    if (\r\n      newCurentCargoType.find((item) => item.isPro) ||\r\n      !cargoListPossible.find((item) => !item.isPro)\r\n    )\r\n      isPro = true;\r\n    let resetStandartData = true;\r\n    if (!!cargoListPossible.find((item) => item.isStandart))\r\n      resetStandartData = false;\r\n    this.setState({\r\n      cargoListPossible: cargoListPossible,\r\n      cargoStandartData: resetStandartData ? {} : this.state.cargoStandartData,\r\n      cargoTypes: newCurentCargoType,\r\n      cargoData: [],\r\n      isPro: isPro,\r\n    });\r\n  }\r\n  getArticlesInfo() {\r\n    let errorArr = {};\r\n    let isError = false;\r\n    if (!this.state.cargoTypes.length) {\r\n      toast.error(\"Выберите тип груза\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (isError) {\r\n      return false;\r\n    } else\r\n      return {\r\n        cargoTypes: this.state.cargoTypes,\r\n        cargoData: this.state.cargoData,\r\n        cargoStandartData: this.state.cargoStandartData,\r\n      };\r\n  }\r\n  //Динамические данные не учавствующие  в поиске\r\n  onChangeCargoData = (typeID, prop, val) => {\r\n    let cargoDataX = this.state.cargoData;\r\n    if (cargoDataX.find((item) => item.typeID === typeID)) {\r\n      cargoDataX = cargoDataX.map((item) => {\r\n        if (item.typeID === typeID) {\r\n          item[prop] = val;\r\n          return item;\r\n        } else return item;\r\n      });\r\n    } else {\r\n      cargoDataX.push({ typeID: typeID });\r\n      cargoDataX[cargoDataX.length - 1][prop] = val;\r\n    }\r\n    this.setState({ cargoData: cargoDataX });\r\n  };\r\n  //Стандартные данные который участвуют в поиске\r\n  onChangeCargoStandartData = (prop, val) => {\r\n    let cargoStandartDataX = this.state.cargoStandartData;\r\n    cargoStandartDataX[prop] = val;\r\n    this.setState({ cargoStandartData: cargoStandartDataX });\r\n  };\r\n  onChangeTypesByOne = (item) => {\r\n    if (this.state.cargoTypes.find((itemX) => itemX === item.id)) {\r\n      this.setState({\r\n        cargoTypes: this.state.cargoTypes.filter((itemX) => itemX !== item.id),\r\n        //Удаление старых параметров\r\n        cargoData: this.state.cargoData.filter(\r\n          (itemX, index) => itemX.typeID !== item.id\r\n        ),\r\n      });\r\n    } else {\r\n      this.setState({\r\n        cargoTypes: [...this.state.cargoTypes, item.id],\r\n      });\r\n    }\r\n  };\r\n  onChangeTypesByMore = (val) => {\r\n    if (val)\r\n      val = val.map((item) => {\r\n        return item.value;\r\n      });\r\n    else val = [];\r\n    let cargoData = false;\r\n    if (val.length < this.state.cargoTypes) {\r\n      cargoData = this.state.cargoData.filter((item, index) =>\r\n        val.find((itemX) => itemX === item.typeID)\r\n      );\r\n    }\r\n    this.setState({\r\n      cargoTypes: [...val],\r\n      cargoData: cargoData || this.state.cargoData,\r\n    });\r\n  };\r\n  render() {\r\n    let currentCargoTypes = cargoTypesList.filter((item) => {\r\n      return !!this.state.cargoTypes.find((itemX) => {\r\n        return itemX === item.id;\r\n      });\r\n    });\r\n    return (\r\n      <div className={`step-create ${this.props.className}`}>\r\n        <div className=\"container-fluid\">\r\n          <div className=\"box-grooz-wrapper-row align-items-start justify-content-start\">\r\n            <h4\r\n              className={`f-16 col-12 mb-1`}\r\n              style={{\r\n                fontWeight: \"normal\",\r\n              }}\r\n            >\r\n              <span>Тип груза</span>\r\n\r\n              <Link\r\n                to=\"/\"\r\n                className=\"href f-14 ml-4\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  this.setState({ isPro: !this.state.isPro });\r\n                }}\r\n              >\r\n                {!this.state.isPro && <>Открыть</>}\r\n                {this.state.isPro && <>Закрыть</>} Pro список\r\n              </Link>\r\n            </h4>\r\n            {!this.state.isPro && (\r\n              <>\r\n                {this.state.cargoListPossible.map((item, index) => {\r\n                  if (!item.isPro) {\r\n                    //Проверка на отмеченность\r\n                    let isSelect = currentCargoTypes.find((itemX) => {\r\n                      return itemX.id === item.id;\r\n                    });\r\n\r\n                    return (\r\n                      <div key={index} className=\"col box-grooz-wrapper\">\r\n                        <div\r\n                          className={`box-grooz ${isSelect ? \"active\" : \"\"}`}\r\n                          onClick={() => {\r\n                            this.onChangeTypesByOne(item);\r\n                          }}\r\n                        >\r\n                          <div className=\"text-center\">\r\n                            <img src={item.img} alt=\"box\" />\r\n                            <span className=\"d-block\">{item.name}</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </>\r\n            )}\r\n            {this.state.isPro && (\r\n              <Select\r\n                placeholder=\"Тип Груза\"\r\n                options={this.state.cargoListPossible.map((item) => {\r\n                  return {\r\n                    value: item.id,\r\n                    label: item.name,\r\n                  };\r\n                })}\r\n                isMulti={true}\r\n                className=\"selectTypeCargo\"\r\n                value={currentCargoTypes.map((item) => {\r\n                  return {\r\n                    value: item.id,\r\n                    label: item.name,\r\n                  };\r\n                })}\r\n                onChange={(val) => {\r\n                  this.onChangeTypesByMore(val);\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n          <div className=\"row typeGrooz\">\r\n            {(currentCargoTypes.find((item) => item.isStandart) ||\r\n              (this.state.cargoData.find((itemX) => itemX.typeID === 4) &&\r\n                this.state.cargoData.find((itemX) => itemX.typeID === 4)[\r\n                  \"type\"\r\n                ] === \"Обычные\") ||\r\n              (this.state.cargoData.find((itemX) => itemX.typeID === 13) &&\r\n                this.state.cargoData.find((itemX) => itemX.typeID === 13)[\r\n                  \"type\"\r\n                ] === \"Обычные\") ||\r\n              (this.state.cargoData.find((itemX) => itemX.typeID === 3) &&\r\n                this.state.cargoData.find((itemX) => itemX.typeID === 3)[\r\n                  \"type\"\r\n                ] === \"Обычные\")) && (\r\n              <StandartParams\r\n                cargoStandartData={this.state.cargoStandartData}\r\n                needCube={false}\r\n                onChangeCargoStandartData={this.onChangeCargoStandartData}\r\n              />\r\n            )}\r\n            {!!currentCargoTypes.length &&\r\n              currentCargoTypes.map((item, index) => {\r\n                if (item.fields)\r\n                  return (\r\n                    <div key={index} className=\"rowParams\">\r\n                      <h4\r\n                        className=\"f-16 col-12 mb-1\"\r\n                        style={{\r\n                          fontWeight: \"normal\",\r\n                        }}\r\n                      >\r\n                        <div className=\"typeName\">{item.name}</div>Параметры\r\n                        одного места и количество мест\r\n                      </h4>\r\n                      <div className=\"moreParams\">\r\n                        {item.fields(\r\n                          this.onChangeCargoData,\r\n                          this.state.cargoData.find(\r\n                            (itemX) => itemX.typeID === item.id\r\n                          ) || [],\r\n                          this.props.typesCar\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                else return false;\r\n              })}\r\n          </div>\r\n          <div className=\"row slide-step justify-content-end\">\r\n            <Button\r\n              type=\"empty\"\r\n              className=\" input-action\"\r\n              paddingHorizontal=\"40px\"\r\n              onClick={this.props.prev}\r\n            >\r\n              Назад\r\n            </Button>\r\n\r\n            <Button\r\n              type=\"fill\"\r\n              className=\" input-action\"\r\n              paddingHorizontal=\"40px\"\r\n              onClick={this.props.next}\r\n            >\r\n              Вперед\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default OfferCreate3;\r\n","// App\r\nimport React from \"react\";\r\nimport { withCookies } from \"react-cookie\";\r\nimport * as myArticlesActions from \"../../../redux/actions/myarticles\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport configApi from \"../../../config/api\";\r\n\r\n// Elements\r\nimport Button from \"../../../Elements/Button\";\r\nimport ArticleHeader from \"../../../ArticlesElements/Partials/ArticleHeader\";\r\nimport Article from \"../../../ArticlesElements/Article\";\r\nclass Create4 extends React.Component {\r\n  state = {\r\n    dataFancybox: {\r\n      images: false,\r\n      index: false,\r\n      article: {},\r\n    },\r\n  };\r\n  createAricle = (status) => {\r\n    let apiToken = this.props.cookies.get(\"apiToken\");\r\n    this.props.myArticlesActions\r\n      .createMyArticle(this.props.article, status, apiToken)\r\n      .then((data) => {\r\n        if (!data.error) {\r\n          if (this.props.article.type === \"offer\")\r\n            this.props.history.push(\"/my-offers-open\");\r\n          if (this.props.article.type === \"order\")\r\n            this.props.history.push(\"/my-orders-open\");\r\n        }\r\n      });\r\n  };\r\n  save() {\r\n    let apiToken = this.props.cookies.get(\"apiToken\");\r\n    this.props.myArticlesActions\r\n      .editMyArticle(this.props.article, this.props.editingId, apiToken)\r\n      .then((data) => {\r\n        if (!data.error) {\r\n          if (this.props.article.type === \"offer\")\r\n            this.props.history.push(\"/my-offers-open\");\r\n          if (this.props.article.type === \"order\")\r\n            this.props.history.push(\"/my-orders-open\");\r\n        }\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={`step-create ${this.props.className}`}>\r\n        <div className=\"articles-block full\">\r\n          <ArticleHeader></ArticleHeader>\r\n          {this.props.article && (\r\n            <Article\r\n              onlyOpen={true}\r\n              singlePage={true}\r\n              article={this.props.article}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row slide-step justify-content-end\">\r\n            <Button\r\n              type=\"empty\"\r\n              className=\" input-action\"\r\n              paddingHorizontal=\"40px\"\r\n              onClick={this.props.prev}\r\n            >\r\n              Назад\r\n            </Button>\r\n            {this.props.isEditing && (\r\n              <>\r\n                <Button\r\n                  type=\"fill\"\r\n                  className=\" input-action\"\r\n                  paddingHorizontal=\"40px\"\r\n                  onClick={() => {\r\n                    this.save();\r\n                  }}\r\n                >\r\n                  Сохранить\r\n                </Button>\r\n              </>\r\n            )}\r\n            {!this.props.isEditing && (\r\n              <>\r\n                <Button\r\n                  type=\"empty\"\r\n                  className=\" input-action\"\r\n                  paddingHorizontal=\"40px\"\r\n                  onClick={() => {\r\n                    this.createAricle(1);\r\n                  }}\r\n                >\r\n                  В черновик\r\n                </Button>\r\n                <Button\r\n                  type=\"fill\"\r\n                  className=\" input-action\"\r\n                  paddingHorizontal=\"40px\"\r\n                  onClick={() => {\r\n                    this.createAricle(2);\r\n                  }}\r\n                >\r\n                  Опубликовать\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    myArticlesActions: bindActionCreators(myArticlesActions, dispatch),\r\n  };\r\n}\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(withRouter(withCookies(Create4)));\r\n","// App\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport HeaderCreate from \"./CreatePart/HeaderCreate\";\r\nimport OfferCreate1 from \"./CreatePart/Offer1\";\r\nimport OfferCreate2 from \"./CreatePart/Offer2\";\r\nimport OfferCreate3 from \"./CreatePart/Offer3\";\r\nimport OfferCreate4 from \"./CreatePart/Offer&Order4\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport api from \"../../config/api\";\r\nimport { setForceTitle } from \"../../functions/functions\";\r\nimport Loading from \"../../Elements/Loading\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport NoMatch from \"../NoMatch\";\r\nclass OfferCreate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.article = {};\r\n  }\r\n  state = {\r\n    isFetching: true,\r\n    notFound: false,\r\n    currentTab: 1,\r\n    typesCar: [],\r\n    carTemplates: [],\r\n    article: false,\r\n    isEditing: false,\r\n  };\r\n  componentDidMount() {\r\n    if (this.props.user.type === \"cargo\")\r\n      this.setState({ notFound: true, isFetching: false });\r\n    else if (this.props.match.params.id)\r\n      fetch(`${api.urlApi}/api/article/getUserArticle`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          id: this.props.match.params.id,\r\n          type: \"offer\",\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (!data.error) {\r\n            if (data.article) {\r\n              this.article = data.article;\r\n              this.editingId = data.article._id;\r\n              this.setState(\r\n                {\r\n                  typesCar: data.article.car.typesCar,\r\n                  isEditing: true,\r\n                },\r\n                () => {\r\n                  setForceTitle(\r\n                    (this.state.article.type === \"offer\"\r\n                      ? \"Редактирование предложения\"\r\n                      : \"Редактирование заказа\") +\r\n                      \" №\" +\r\n                      this.article.articleId\r\n                  );\r\n                  this.getCarTemplate();\r\n                }\r\n              );\r\n            }\r\n          } else this.setState({ notFound: true, isFetching: false });\r\n        });\r\n    else this.getCarTemplate();\r\n  }\r\n  getCarTemplate() {\r\n    fetch(`${api.urlApi}/api/car/getCarTemplates`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${this.props.user.apiToken}`,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (!data.error) {\r\n          if (data.carTemplates) {\r\n            this.setState({\r\n              carTemplates: data.carTemplates,\r\n              isFetching: false,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n  getRef(number) {\r\n    switch (number) {\r\n      case 1:\r\n        return this.step1;\r\n      case 2:\r\n        return this.step2;\r\n      case 3:\r\n        return this.step3;\r\n    }\r\n  }\r\n  nexTab(number) {\r\n    let error = false;\r\n    let data;\r\n    let article = { type: \"offer\" };\r\n    Array.from(Array(number - 1), (_, i) => i + 1).map((item, index) => {\r\n      if ((data = this.getRef(item).getArticlesInfo()))\r\n        article = {\r\n          ...article,\r\n          ...data,\r\n        };\r\n      else error = index + 1;\r\n    });\r\n    if (!error) {\r\n      if (number === 4) {\r\n        this.setState(\r\n          { article: { ...article, author: this.props.user } },\r\n          () => {\r\n            this.setState({ currentTab: number });\r\n          }\r\n        );\r\n      } else {\r\n        let state = { currentTab: number };\r\n        this.setState({ ...state });\r\n      }\r\n    } else if (this.state.currentTab !== error)\r\n      this.setState({ currentTab: error });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Loading isLoading={this.state.isFetching}></Loading>\r\n        <div className=\"create-page create-order-page\">\r\n          <CSSTransitionGroup\r\n            transitionName=\"loading-height-animation-item\"\r\n            transitionEnterTimeout={300}\r\n            transitionLeaveTimeout={300}\r\n            style={{\r\n              display: \"contents\",\r\n            }}\r\n          >\r\n            {!this.state.isFetching && !this.state.notFound && (\r\n              <>\r\n                <div className=\"container-fluid\">\r\n                  <h2 className=\"title\">{this.props.title}</h2>\r\n                  <HeaderCreate\r\n                    changeTub={(setTub) => {\r\n                      this.nexTab(setTub);\r\n                    }}\r\n                    currentTab={this.state.currentTab}\r\n                    tabs={[\r\n                      \"Описание авто\",\r\n                      \"Мартшрут\",\r\n                      \"Описание груза\",\r\n                      \"Публикация товара\",\r\n                    ]}\r\n                  />\r\n                </div>\r\n                <div className=\"steps-create\">\r\n                  <OfferCreate1\r\n                    ref={(ref) => (this.step1 = ref)}\r\n                    className={`${this.state.currentTab === 1 ? \"active\" : \"\"} \r\n              ${this.state.currentTab > 1 ? \"deactive\" : \"\"}`}\r\n                    car={this.article.car}\r\n                    next={() => {\r\n                      this.nexTab(2);\r\n                    }}\r\n                    user={this.props.user}\r\n                    carTemplates={this.state.carTemplates}\r\n                    onChange={(state) => {\r\n                      this.setState(state);\r\n                    }}\r\n                    comment={this.article.comment}\r\n                    budget={this.article.budget}\r\n                  />\r\n                  <OfferCreate2\r\n                    ref={(ref) => (this.step2 = ref)}\r\n                    className={`${\r\n                      this.state.currentTab === 2 ? \"active\" : \"\"\r\n                    } ${this.state.currentTab > 2 ? \"deactive\" : \"\"}`}\r\n                    next={() => {\r\n                      this.nexTab(3);\r\n                    }}\r\n                    prev={() => {\r\n                      this.setState({\r\n                        currentTab: this.state.currentTab - 1,\r\n                      });\r\n                    }}\r\n                    addressFrom={this.article.from}\r\n                    addressTo={this.article.to}\r\n                    startDate={this.article.startDate}\r\n                  />\r\n                  <OfferCreate3\r\n                    ref={(ref) => (this.step3 = ref)}\r\n                    className={`${\r\n                      this.state.currentTab === 3 ? \"active\" : \"\"\r\n                    } ${this.state.currentTab > 3 ? \"deactive\" : \"\"}`}\r\n                    typesCar={this.state.typesCar}\r\n                    next={() => {\r\n                      this.nexTab(4);\r\n                    }}\r\n                    prev={() => {\r\n                      this.setState({\r\n                        currentTab: this.state.currentTab - 1,\r\n                      });\r\n                    }}\r\n                    cargoTypes={this.article.cargoTypes}\r\n                    cargoData={this.article.cargoData}\r\n                    cargoStandartData={this.article.cargoStandartData}\r\n                  />\r\n\r\n                  <OfferCreate4\r\n                    key=\"OfferCreate4\"\r\n                    className={`${this.state.currentTab === 4 ? \"active\" : \"\"}`}\r\n                    prev={() => {\r\n                      this.setState({\r\n                        currentTab: this.state.currentTab - 1,\r\n                      });\r\n                    }}\r\n                    isEditing={this.state.isEditing}\r\n                    editingId={this.editingId}\r\n                    article={this.state.article}\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </CSSTransitionGroup>\r\n          {!this.state.isFething && this.state.notFound && <NoMatch />}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withRouter(OfferCreate));\r\n","// App\r\nimport React from \"react\";\r\n// Elements\r\nimport Button from \"../../../Elements/Button\";\r\nimport Select from \"../../../Elements/Select\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n//Configs\r\nimport cargoList from \"../../../config/baseInfo/cargoTypesList\";\r\nimport StandartParams from \"./StandartParams\";\r\nimport attachDelete from \"../../../img/attachDelete.svg\";\r\nclass OrderCreate1 extends React.Component {\r\n  state = {\r\n    isPro: false,\r\n    cargoTypes: [],\r\n    cargoData: [],\r\n    cargoStandartData: {},\r\n    comment: \"\",\r\n    cargoPhoto: [],\r\n  };\r\n  componentDidMount() {\r\n    let currentCargoType =\r\n      this.props.cargoTypes && this.props.cargoTypes.length\r\n        ? cargoList.find((item) => item.id === this.props.cargoTypes[0])\r\n        : false;\r\n    //Инициализация\r\n    let newState = {};\r\n    if (this.props.cargoTypes)\r\n      newState = {\r\n        cargoTypes: this.props.cargoTypes,\r\n      };\r\n    if (currentCargoType.isPro)\r\n      newState = {\r\n        ...newState,\r\n        isPro: true,\r\n      };\r\n    if (this.props.cargoData)\r\n      newState = {\r\n        ...newState,\r\n        cargoData: this.props.cargoData,\r\n      };\r\n    if (this.props.comment)\r\n      newState = {\r\n        ...newState,\r\n        comment: this.props.comment,\r\n      };\r\n    if (this.props.cargoPhoto)\r\n      newState = {\r\n        ...newState,\r\n        cargoPhoto: this.props.cargoPhoto,\r\n      };\r\n    if (this.props.cargoStandartData)\r\n      newState = {\r\n        ...newState,\r\n        cargoStandartData: this.props.cargoStandartData,\r\n      };\r\n    this.setState({\r\n      ...newState,\r\n    });\r\n  }\r\n  getArticlesInfo() {\r\n    let errorArr = {};\r\n    let isError = false;\r\n    if (!this.state.cargoTypes.length) {\r\n      toast.error(\"Выберите тип Груза\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (isError) {\r\n      return false;\r\n    } else {\r\n      return {\r\n        cargoTypes: this.state.cargoTypes,\r\n        cargoData: this.state.cargoData,\r\n        cargoStandartData: this.state.cargoStandartData,\r\n        cargoPhoto: this.state.cargoPhoto,\r\n        comment: this.state.comment,\r\n      };\r\n    }\r\n  }\r\n  //Динамические данные не учавствующие  в поиске\r\n  onChangeCargoData = (typeID, prop, val) => {\r\n    let cargoDataX = this.state.cargoData;\r\n    if (cargoDataX.find((item) => item.typeID === typeID)) {\r\n      cargoDataX = cargoDataX.map((item) => {\r\n        if (item.typeID === typeID) {\r\n          item[prop] = val;\r\n          return item;\r\n        } else return item;\r\n      });\r\n    } else {\r\n      cargoDataX.push({ typeID: typeID });\r\n      cargoDataX[cargoDataX.length - 1][prop] = val;\r\n    }\r\n    this.setState({ cargoData: cargoDataX });\r\n    this.props.onChange({ cargoData: cargoDataX });\r\n  };\r\n  //Стандартные данные который участвуют в поиске\r\n  onChangeCargoStandartData = (prop, val) => {\r\n    let cargoStandartDataX = this.state.cargoStandartData;\r\n    cargoStandartDataX[prop] = val;\r\n    this.setState({ cargoStandartData: cargoStandartDataX });\r\n  };\r\n  onChangeTypesByOne = (id) => {\r\n    this.setState({\r\n      cargoTypes: [id],\r\n      cargoData: [],\r\n      cargoStandartData: {},\r\n    });\r\n    this.props.onChange({ cargoTypes: [id], cargoData: [] });\r\n  };\r\n  render() {\r\n    let currentCargoType = !!this.state.cargoTypes.length\r\n      ? cargoList.find((item) => item.id === this.state.cargoTypes[0])\r\n      : false;\r\n    return (\r\n      <div className={`step-create ${this.props.className}`}>\r\n        <div className=\"container-fluid\">\r\n          <div className=\"box-grooz-wrapper-row align-items-start justify-content-start\">\r\n            <h4\r\n              className={`f-16 col-12 mb-1`}\r\n              style={{\r\n                fontWeight: \"normal\",\r\n              }}\r\n            >\r\n              <span>Тип груза</span>\r\n\r\n              <Link\r\n                to=\"/\"\r\n                className=\"href f-14 ml-4\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  this.setState({ isPro: !this.state.isPro });\r\n                }}\r\n              >\r\n                {!this.state.isPro && <>Открыть</>}\r\n                {this.state.isPro && <>Закрыть</>} Pro список\r\n              </Link>\r\n            </h4>\r\n            {!this.state.isPro && (\r\n              <>\r\n                {cargoList.map((item, index) => {\r\n                  if (!item.isPro) {\r\n                    //Проверка на отмеченность\r\n                    let isSelect = currentCargoType.id === item.id;\r\n                    return (\r\n                      <div key={index} className=\"col box-grooz-wrapper\">\r\n                        <div\r\n                          className={`box-grooz ${isSelect ? \"active\" : \"\"}`}\r\n                          onClick={() => {\r\n                            this.onChangeTypesByOne(item.id);\r\n                          }}\r\n                        >\r\n                          <div className=\"text-center\">\r\n                            <img src={item.img} alt=\"box\" />\r\n                            <span className=\"d-block\">{item.name}</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </>\r\n            )}\r\n            {this.state.isPro && (\r\n              <Select\r\n                placeholder=\"Тип Груза\"\r\n                options={cargoList.map((item) => {\r\n                  return {\r\n                    value: item.id,\r\n                    label: item.name,\r\n                  };\r\n                })}\r\n                className=\"selectTypeCargo\"\r\n                value={\r\n                  currentCargoType\r\n                    ? {\r\n                        value: currentCargoType.id,\r\n                        label: currentCargoType.name,\r\n                      }\r\n                    : false\r\n                }\r\n                onChange={(val) => {\r\n                  this.onChangeTypesByOne(val.value);\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n          <div className=\"row typeGrooz\">\r\n            {[currentCargoType].map((item, index) => {\r\n              return (\r\n                <div key={index} className=\"rowParams\">\r\n                  {(item.fields || item.isStandart) && (\r\n                    <h4\r\n                      className=\"f-16 col-12 mb-1\"\r\n                      style={{\r\n                        fontWeight: \"normal\",\r\n                      }}\r\n                    >\r\n                      <div className=\"typeName\">{item.name}</div>Параметры\r\n                      одного места и количество мест\r\n                    </h4>\r\n                  )}\r\n                  <div className=\"moreParams\">\r\n                    {item.fields &&\r\n                      item.fields(\r\n                        this.onChangeCargoData,\r\n                        this.state.cargoData.find(\r\n                          (itemX) => itemX.typeID === item.id\r\n                        ) || []\r\n                      )}\r\n                  </div>\r\n                  {(item.isStandart ||\r\n                    (this.state.cargoData.find((itemX) => itemX.typeID === 4) &&\r\n                      this.state.cargoData.find((itemX) => itemX.typeID === 4)[\r\n                        \"type\"\r\n                      ] === \"Обычные\") ||\r\n                    (this.state.cargoData.find(\r\n                      (itemX) => itemX.typeID === 13\r\n                    ) &&\r\n                      this.state.cargoData.find((itemX) => itemX.typeID === 13)[\r\n                        \"type\"\r\n                      ] === \"Обычные\") ||\r\n                    (this.state.cargoData.find((itemX) => itemX.typeID === 3) &&\r\n                      this.state.cargoData.find((itemX) => itemX.typeID === 3)[\r\n                        \"type\"\r\n                      ] === \"Обычные\")) && (\r\n                    <StandartParams\r\n                      cargoStandartData={this.state.cargoStandartData}\r\n                      onChangeCargoStandartData={this.onChangeCargoStandartData}\r\n                    />\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-12 col-sm-6 mt-4\">\r\n              <h4\r\n                className=\"f-16  mb-1\"\r\n                style={{\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                Добавьте фото груза\r\n              </h4>\r\n              <Button\r\n                type=\"fill\"\r\n                className=\"f-17\"\r\n                paddingHorizontal=\"30px\"\r\n                paddingVertical=\"7px\"\r\n                onClick={() => {\r\n                  document.getElementById(\"cargoPhoto\").click();\r\n                }}\r\n              >\r\n                Загрузить\r\n              </Button>\r\n              <input\r\n                id=\"cargoPhoto\"\r\n                onChange={(e) => {\r\n                  let files = [];\r\n                  for (let i = 0; i < e.target.files.length; i++) {\r\n                    if (e.target.files[i].size / 1000 > 10000) {\r\n                      toast.error(\"Изображение больше 10 мб!\", {\r\n                        position: toast.POSITION.TOP_CENTER,\r\n                      });\r\n                      continue;\r\n                    }\r\n                    if (this.state.cargoPhoto.length + files.length < 9)\r\n                      files.push({\r\n                        file: e.target.files[i],\r\n                        path: URL.createObjectURL(e.target.files[i]),\r\n                      });\r\n                    else {\r\n                      toast.error(\"Максимум 9 фото!\", {\r\n                        position: toast.POSITION.TOP_CENTER,\r\n                      });\r\n                      break;\r\n                    }\r\n                  }\r\n                  if (!!files.length)\r\n                    this.setState({\r\n                      cargoPhoto: [...this.state.cargoPhoto, ...files],\r\n                    });\r\n                }}\r\n                type=\"file\"\r\n                accept=\"image/jpeg,image/png\"\r\n                hidden\r\n                multiple\r\n              />\r\n              <div className=\"cargoPhotos\">\r\n                {!!this.state.cargoPhoto.length &&\r\n                  this.state.cargoPhoto.map((item, index) => {\r\n                    return (\r\n                      <div key={index}>\r\n                        <img\r\n                          className=\"attachDelete\"\r\n                          onClick={() => {\r\n                            this.setState({\r\n                              cargoPhoto: this.state.cargoPhoto.filter(\r\n                                (item, indexR) => {\r\n                                  return indexR != index;\r\n                                }\r\n                              ),\r\n                            });\r\n                          }}\r\n                          src={attachDelete}\r\n                          alt=\"attachDelete\"\r\n                        />\r\n                        <img src={item.path} alt=\"\" />\r\n                      </div>\r\n                    );\r\n                  })}\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 col-sm-6 mt-4\">\r\n              <h4\r\n                className=\"f-16  mb-1\"\r\n                style={{\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                Комментарий\r\n              </h4>\r\n              <textarea\r\n                name=\"\"\r\n                className=\"w-100\"\r\n                style={{\r\n                  height: \"102px\",\r\n                }}\r\n                value={this.state.comment}\r\n                onChange={(e) => {\r\n                  this.setState({ comment: e.target.value });\r\n                }}\r\n              >\r\n                {this.state.comment}\r\n              </textarea>\r\n            </div>\r\n          </div>\r\n          <div className=\"row slide-step justify-content-end\">\r\n            <Button\r\n              type=\"fill\"\r\n              className=\" input-action\"\r\n              paddingHorizontal=\"40px\"\r\n              onClick={this.props.next}\r\n            >\r\n              Вперед\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default OrderCreate1;\r\n","// App\r\nimport React from \"react\";\r\n// Elements\r\nimport Button from \"../../../Elements/Button\";\r\nimport Input from \"../../../Elements/Input\";\r\nimport AdressSelect from \"../../../Elements/AdressSelect\";\r\nimport CheckBox from \"../../../Elements/CheckBox\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Map, Placemark } from \"react-yandex-maps\";\r\n\r\nclass OrderCreate2 extends React.Component {\r\n  state = {\r\n    isTime: false,\r\n    isTimeInterval: false,\r\n    addressFrom: false,\r\n    addressTo: false,\r\n    startDate: false,\r\n    startTimeFrom: false,\r\n    startTimeTo: false,\r\n    errRequired: {},\r\n  };\r\n  getArticlesInfo() {\r\n    let errorArr = {};\r\n    let isError = false;\r\n    if (\r\n      this.state.startDate &&\r\n      new Date(this.state.startDate) < new Date().setHours(0, 0, 0, 0)\r\n    ) {\r\n      toast.error(\"Дата должна быть больше текущей\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (\r\n      !this.state.addressFrom ||\r\n      Number(this.state.addressFrom.data.fias_level) !== 8\r\n    ) {\r\n      toast.error(\"Введите адрес отправления до дома\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (\r\n      !this.state.addressTo ||\r\n      Number(this.state.addressTo.data.fias_level) !== 8\r\n    ) {\r\n      toast.error(\"Введите адрес доставки до дома\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (isError) {\r\n      return false;\r\n    } else\r\n      return {\r\n        startDate: this.state.startDate\r\n          ? {\r\n              timeFrom: this.state.startTimeFrom,\r\n              timeTo: this.state.startTimeTo,\r\n              date: this.state.startDate,\r\n            }\r\n          : false,\r\n        from: this.state.addressFrom,\r\n        to: this.state.addressTo,\r\n      };\r\n  }\r\n  componentDidMount() {\r\n    //Инициализация\r\n    let newState = {};\r\n    if (this.props.addressFrom)\r\n      newState = {\r\n        addressFrom: this.props.addressFrom,\r\n      };\r\n    if (this.props.addressTo)\r\n      newState = {\r\n        ...newState,\r\n        addressTo: this.props.addressTo,\r\n      };\r\n    if (this.props.startDate) {\r\n      if (this.props.startDate.date)\r\n        newState = {\r\n          ...newState,\r\n          startDate: this.props.startDate.date,\r\n        };\r\n      if (this.props.startDate.date)\r\n        newState = {\r\n          ...newState,\r\n          startTimeFrom: this.props.startDate.timeFrom,\r\n        };\r\n      if (this.props.startDate.date)\r\n        newState = {\r\n          ...newState,\r\n          startTimeTo: this.props.startDate.timeTo,\r\n        };\r\n    }\r\n    this.setState({\r\n      ...newState,\r\n    });\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.state.startTimeFrom && !this.state.isTime)\r\n      this.setState({ isTime: true });\r\n    if (this.state.startTimeTo && !this.state.isTimeInterval)\r\n      this.setState({ isTimeInterval: true });\r\n  }\r\n  onChangeAddress = (prop, val, callback) => {\r\n    switch (prop) {\r\n      case \"From\":\r\n        this.setState({ addressFrom: val }, callback);\r\n        break;\r\n      case \"To\":\r\n        this.setState({ addressTo: val }, callback);\r\n        break;\r\n    }\r\n  };\r\n  onChangeTimeInfo = (prop, val, callback) => {\r\n    let startTimeFrom = new Date(this.state.startTimeFrom);\r\n    let startTimeTo = new Date(this.state.startTimeTo);\r\n    switch (prop) {\r\n      case \"date\":\r\n        {\r\n          let state = { startDate: val };\r\n          if (this.state.startTimeFrom) {\r\n            state.startTimeFrom = new Date(\r\n              val.getFullYear(),\r\n              val.getMonth(),\r\n              val.getDate(),\r\n              startTimeFrom.getHours(),\r\n              startTimeFrom.getMinutes(),\r\n              startTimeFrom.getSeconds()\r\n            );\r\n          }\r\n          if (this.state.startTimeTo) {\r\n            state.startTimeTo = new Date(\r\n              val.getFullYear(),\r\n              val.getMonth(),\r\n              val.getDate(),\r\n              startTimeTo.getHours(),\r\n              startTimeTo.getMinutes(),\r\n              startTimeTo.getSeconds()\r\n            );\r\n          }\r\n          this.setState(state, callback);\r\n        }\r\n        break;\r\n      case \"From\":\r\n        let state;\r\n        if (!val) {\r\n          state = { startTimeFrom: false, startTimeTo: false };\r\n        } else if (startTimeTo < val)\r\n          state = { startTimeFrom: val, startTimeTo: false };\r\n        else state = { startTimeFrom: val };\r\n        this.setState(state, callback);\r\n        break;\r\n      case \"To\":\r\n        if (startTimeFrom > val && val)\r\n          toast.error(`Время \"До\" должно быть больше времени \"От\" `, {\r\n            position: toast.POSITION.TOP_CENTER,\r\n          });\r\n        else this.setState({ startTimeTo: val }, callback);\r\n        break;\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={`step-create ${this.props.className}`}>\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row align-items-start\">\r\n            <div className=\"col-xl-8 mt-2 col-12 row\">\r\n              <h4\r\n                className=\"f-16 col-12 mb-1\"\r\n                style={{\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                Маршрут\r\n              </h4>\r\n              <div className=\"col-12 col-sm-6 mt-2\">\r\n                <AdressSelect\r\n                  placeholder=\"Откуда\"\r\n                  className={`${\r\n                    this.state.errRequired.addressFrom ? \"errRequired\" : \"\"\r\n                  }`}\r\n                  value={\r\n                    this.state.addressFrom ? this.state.addressFrom.value : \"\"\r\n                  }\r\n                  onChange={(val) => {\r\n                    if (val && Number(val.data.fias_level) === 8)\r\n                      this.setState({\r\n                        errRequired: {\r\n                          ...this.state.errRequired,\r\n                          addressFrom: false,\r\n                        },\r\n                      });\r\n\r\n                    this.onChangeAddress(\"From\", val, () => {\r\n                      if (val && val.data.geo_lat && val.data.geo_lon) {\r\n                        this.mapFrom.panTo(\r\n                          [Number(val.data.geo_lat), Number(val.data.geo_lon)],\r\n                          {\r\n                            delay: 1500,\r\n                          }\r\n                        );\r\n                      }\r\n                    });\r\n                  }}\r\n                />\r\n                <Map\r\n                  instanceRef={(ref) => {\r\n                    this.mapFrom = ref;\r\n                  }}\r\n                  defaultState={{\r\n                    center: this.state.addressFrom\r\n                      ? [\r\n                          this.state.addressFrom.data.geo_lat,\r\n                          this.state.addressFrom.data.geo_lon,\r\n                        ]\r\n                      : [55.684758, 37.738521],\r\n                    zoom: 10,\r\n                  }}\r\n                  style={{\r\n                    marginTop: \"21px\",\r\n                    height: \"220px\",\r\n                    width: \"100%\",\r\n                  }}\r\n                >\r\n                  {this.state.addressFrom &&\r\n                    this.state.addressFrom.data.geo_lat &&\r\n                    this.state.addressFrom.data.geo_lon && (\r\n                      <Placemark\r\n                        geometry={[\r\n                          this.state.addressFrom.data.geo_lat,\r\n                          this.state.addressFrom.data.geo_lon,\r\n                        ]}\r\n                      />\r\n                    )}\r\n                </Map>\r\n              </div>\r\n              <div className=\"col-12 col-sm-6 mt-2\">\r\n                <AdressSelect\r\n                  placeholder=\"Куда\"\r\n                  className={`${\r\n                    this.state.errRequired.addressTo ? \"errRequired\" : \"\"\r\n                  }`}\r\n                  value={this.state.addressTo ? this.state.addressTo.value : \"\"}\r\n                  onChange={(val) => {\r\n                    if (val && Number(val.data.fias_level) === 8)\r\n                      this.setState({\r\n                        errRequired: {\r\n                          ...this.state.errRequired,\r\n                          addressTo: false,\r\n                        },\r\n                      });\r\n\r\n                    this.onChangeAddress(\"To\", val, () => {\r\n                      if (val && val.data.geo_lat && val.data.geo_lon) {\r\n                        this.mapTo.panTo(\r\n                          [Number(val.data.geo_lat), Number(val.data.geo_lon)],\r\n                          {\r\n                            delay: 1500,\r\n                          }\r\n                        );\r\n                      }\r\n                    });\r\n                  }}\r\n                />\r\n                <Map\r\n                  instanceRef={(ref) => {\r\n                    this.mapTo = ref;\r\n                  }}\r\n                  defaultState={{\r\n                    center: this.state.addressTo\r\n                      ? [\r\n                          this.state.addressTo.data.geo_lat,\r\n                          this.state.addressTo.data.geo_lon,\r\n                        ]\r\n                      : [55.684758, 37.738521],\r\n                    zoom: 10,\r\n                  }}\r\n                  style={{\r\n                    marginTop: \"21px\",\r\n                    height: \"220px\",\r\n                    width: \"100%\",\r\n                  }}\r\n                >\r\n                  {this.state.addressTo &&\r\n                    this.state.addressTo.data.geo_lat &&\r\n                    this.state.addressTo.data.geo_lon && (\r\n                      <Placemark\r\n                        geometry={[\r\n                          this.state.addressTo.data.geo_lat,\r\n                          this.state.addressTo.data.geo_lon,\r\n                        ]}\r\n                      />\r\n                    )}\r\n                </Map>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-xl-4 mt-2 col-12 row\">\r\n              <h4\r\n                className=\"f-16 col-12\"\r\n                style={{\r\n                  marginBottom: \"12px\",\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                Дата и время\r\n              </h4>\r\n              <div\r\n                className=\"col-12 row mx-0\"\r\n                style={{\r\n                  marginLeft: \"0\",\r\n                  marginRight: \"0\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <span className=\"filter-input-title\">\r\n                  Дата<br></br>погрузки\r\n                </span>\r\n                <Input\r\n                  type=\"date\"\r\n                  className={`${\r\n                    this.state.errRequired.startDate ? \"errRequired\" : \"\"\r\n                  }`}\r\n                  style={{ width: \"130px\" }}\r\n                  value={this.state.startDate || null}\r\n                  onChange={(val) => {\r\n                    this.setState({\r\n                      errRequired: {\r\n                        ...this.state.startDate,\r\n                        startDate: false,\r\n                      },\r\n                    });\r\n                    this.onChangeTimeInfo(\"date\", val);\r\n                  }}\r\n                />\r\n              </div>\r\n              {this.state.startDate && (\r\n                <div\r\n                  className=\"col d-flex align-items-center\"\r\n                  style={{\r\n                    marginTop: \"21px\",\r\n                    maxWidth: \"146px\",\r\n                  }}\r\n                >\r\n                  <CheckBox\r\n                    id=\"isTime\"\r\n                    value={this.state.isTime}\r\n                    onChange={() => {\r\n                      if (this.state.isTime)\r\n                        this.onChangeTimeInfo(\"From\", false);\r\n                      this.setState({ isTime: !this.state.isTime });\r\n                    }}\r\n                    text=\"Указать время\"\r\n                  />\r\n                </div>\r\n              )}\r\n              {this.state.isTime && (\r\n                <>\r\n                  <div\r\n                    className=\"col d-flex align-items-center\"\r\n                    style={{\r\n                      marginTop: \"21px\",\r\n                      maxWidth: \"172px\",\r\n                    }}\r\n                  >\r\n                    {this.state.startTimeFrom && (\r\n                      <CheckBox\r\n                        id=\"isTimeInterval\"\r\n                        onChange={() => {\r\n                          if (this.state.isTimeInterval)\r\n                            this.onChangeTimeInfo(\"To\", false);\r\n                          this.setState({\r\n                            isTimeInterval: !this.state.isTimeInterval,\r\n                          });\r\n                        }}\r\n                        value={this.state.isTimeInterval}\r\n                        text=\"Добавить интервал\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <div\r\n                    className=\"d-inline-flex  col-12 mt-3\"\r\n                    style={{\r\n                      alignItems: \"center\",\r\n                      flexDirection: \"row\",\r\n                    }}\r\n                  >\r\n                    <span className=\"filter-input-title mb-0\">\r\n                      Время<br></br>погрузки\r\n                    </span>\r\n                    <Input\r\n                      type=\"time\"\r\n                      date={this.state.startDate}\r\n                      value={this.state.startTimeFrom || null}\r\n                      onChange={(val) => {\r\n                        this.onChangeTimeInfo(\"From\", val);\r\n                      }}\r\n                    />\r\n                    {this.state.isTimeInterval && (\r\n                      <>\r\n                        <span className=\"filter-input-title mb-0\">\r\n                          &nbsp;&nbsp;-\r\n                        </span>\r\n                        <Input\r\n                          type=\"time\"\r\n                          date={this.state.startDate}\r\n                          value={this.state.startTimeTo || null}\r\n                          onChange={(val) => {\r\n                            this.onChangeTimeInfo(\"To\", val);\r\n                          }}\r\n                        />\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"row slide-step justify-content-end\">\r\n            <Button\r\n              type=\"empty\"\r\n              className=\" input-action\"\r\n              paddingHorizontal=\"40px\"\r\n              onClick={this.props.prev}\r\n            >\r\n              Назад\r\n            </Button>\r\n            <Button\r\n              type=\"fill\"\r\n              className=\" input-action\"\r\n              paddingHorizontal=\"40px\"\r\n              onClick={this.props.next}\r\n            >\r\n              Вперед\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default OrderCreate2;\r\n","// App\r\nimport React from \"react\";\r\n// Elements\r\nimport Button from \"../../../Elements/Button\";\r\nimport Input from \"../../../Elements/Input\";\r\nimport Select from \"../../../Elements/Select\";\r\nimport CheckBoxSwitcher from \"../../../Elements/CheckBoxSwitcher\";\r\nimport CheckBox from \"../../../Elements/CheckBox\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport {\r\n  extraParams,\r\n  contractParams,\r\n  paymentParams,\r\n} from \"../../../config/baseInfo/carParams\";\r\nimport carTypesList from \"../../../config/baseInfo/carTypesList\";\r\nclass OrderCreate3 extends React.Component {\r\n  state = {\r\n    isExtra: false,\r\n    isContract: false,\r\n    isPayment: false,\r\n    //Step1\r\n    car: {},\r\n    isPro: false,\r\n    budget: false,\r\n    carListPossible: [],\r\n  };\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.cargoTypes || this.props.cargoTypes) {\r\n      let prevTypes = prevProps.cargoTypes || [];\r\n      let currentTypes = this.props.cargoTypes || [];\r\n      prevTypes.sort((a, b) => b - a);\r\n      currentTypes.sort((a, b) => b - a);\r\n\r\n      if (\r\n        JSON.stringify(prevTypes) !== JSON.stringify(currentTypes) ||\r\n        JSON.stringify(prevProps.cargoData) !==\r\n          JSON.stringify(this.props.cargoData)\r\n      ) {\r\n        //Получение позможных относителдьно машины грузов\r\n        this.updateTypes();\r\n      }\r\n    }\r\n    // let isProNeedOpen =\r\n    //   this.state.car.typesCar &&\r\n    //   !!carTypesList.filter((item) => {\r\n    //     return (\r\n    //       !!this.state.car.typesCar.find((itemX) => item.id === itemX) &&\r\n    //       item.isPro\r\n    //     );\r\n    //   }).length;\r\n    // if (!this.state.isPro && isProNeedOpen) this.setState({ isPro: true });\r\n  }\r\n  updateTypes() {\r\n    let carListPossible = [];\r\n    if (this.props.cargoTypes) {\r\n      carListPossible = carTypesList.filter((item) => {\r\n        return item.cargoTypes.find(\r\n          (itemX) => itemX === this.props.cargoTypes[0]\r\n        );\r\n      });\r\n      //Получение позможных относителдьно машины грузов\r\n      let newCurentCarType = this.state.car.typesCar\r\n        ? this.state.car.typesCar.filter((item) => {\r\n            return carListPossible.find((itemX) => itemX.id === item);\r\n          })\r\n        : [];\r\n      let isPro = this.state.isPro;\r\n      if (\r\n        newCurentCarType.find((item) => item.isPro) ||\r\n        !carListPossible.find((item) => !item.isPro)\r\n      )\r\n        isPro = true;\r\n      this.setState({\r\n        carListPossible,\r\n        isPro,\r\n        car: { ...this.state.car, typesCar: newCurentCarType },\r\n      });\r\n    }\r\n  }\r\n  getArticlesInfo() {\r\n    let errorArr = {};\r\n    let isError = false;\r\n    if (!this.state.car.typesCar || !this.state.car.typesCar.length) {\r\n      toast.error(\"Выберите тип машины\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      isError = true;\r\n    }\r\n    if (isError) {\r\n      return false;\r\n    } else\r\n      return {\r\n        car: this.state.car,\r\n        budget: this.state.budget,\r\n      };\r\n  }\r\n\r\n  componentDidMount() {\r\n    //Инициализация\r\n    let newState = {};\r\n    if (this.props.budget)\r\n      newState = {\r\n        ...newState,\r\n        budget: this.props.budget,\r\n      };\r\n    if (this.props.car) {\r\n      let isPro =\r\n        this.props.car.typesCar && !!this.props.car.typesCar.length\r\n          ? !!carTypesList.find((item) => {\r\n              return (\r\n                item.isPro &&\r\n                this.props.car.typesCar.find((itemX) => item.id === itemX)\r\n              );\r\n            })\r\n          : false;\r\n      newState = {\r\n        ...newState,\r\n        isExtra: !!this.props.car.additionally.length,\r\n        isContract: !!this.props.car.contractInfo.length,\r\n        isPayment: !!this.props.car.paymentInfo.length,\r\n        isPro,\r\n      };\r\n    }\r\n    this.setState(\r\n      {\r\n        car: {\r\n          additionally: [],\r\n          contractInfo: [],\r\n          paymentInfo: [],\r\n          info: [],\r\n          property: \"\",\r\n          ...this.props.car,\r\n        },\r\n        ...newState,\r\n      },\r\n      () => {\r\n        this.updateTypes();\r\n      }\r\n    );\r\n  }\r\n  getIfExit(array, item, prop) {\r\n    let element = false;\r\n    if ((element = array.find((itemX) => itemX.id == item)))\r\n      return element[prop] ? element[prop] : \"\";\r\n    else return \"\";\r\n  }\r\n  onChange = (val, prop) => {\r\n    let car = this.state.car;\r\n    switch (prop) {\r\n      case \"carType\":\r\n        car = { ...car, typesCar: [val] };\r\n        break;\r\n      case \"carProperty\":\r\n        car = { ...car, property: val };\r\n        break;\r\n      case \"carName\":\r\n        car = { ...car, name: val };\r\n        break;\r\n      case \"carPhoto\":\r\n        car = { ...car, photo: val };\r\n        break;\r\n    }\r\n    this.setState({\r\n      car: car,\r\n    });\r\n  };\r\n  onChangeParams = (prop, val, isSingle = false) => {\r\n    let car = { ...this.state.car };\r\n    if (!isSingle) {\r\n      if (\r\n        car[prop].find((item) => {\r\n          return item.id === val;\r\n        })\r\n      ) {\r\n        car[prop] = car[prop].filter((item, index) => {\r\n          return item.id !== val;\r\n        });\r\n      } else {\r\n        car[prop].push({ id: val });\r\n      }\r\n      this.setState({\r\n        car: car,\r\n      });\r\n    } else {\r\n      car[prop] = { id: val };\r\n      this.setState({\r\n        car: car,\r\n      });\r\n    }\r\n  };\r\n  onChangeParamsFiels = (prop, idProp, name, val, isSingle = false) => {\r\n    let car = { ...this.state.car };\r\n    if (!isSingle) {\r\n      if (\r\n        car[prop].find((item) => {\r\n          return item.id === idProp;\r\n        })\r\n      ) {\r\n        car[prop] = car[prop].map((item) => {\r\n          if (item.id === idProp) {\r\n            item[name] = val;\r\n            return item;\r\n          } else return item;\r\n        });\r\n      }\r\n    } else {\r\n      car[prop][name] = val;\r\n    }\r\n    this.setState({\r\n      car: car,\r\n    });\r\n  };\r\n  onChangeCarData = (carId, prop, val) => {\r\n    let carDataX = this.state.car.info;\r\n    if (carDataX.find((item) => item.carId === carId)) {\r\n      carDataX = carDataX.map((item) => {\r\n        if (item.carId === carId) {\r\n          item[prop] = val;\r\n          return item;\r\n        } else return item;\r\n      });\r\n    } else {\r\n      carDataX.push({ carId: carId });\r\n      carDataX[carDataX.length - 1][prop] = val;\r\n    }\r\n\r\n    this.setState({ car: { ...this.state.car, info: carDataX } });\r\n  };\r\n  render() {\r\n    let currentCarTypes =\r\n      this.state.car.typesCar && !!this.state.car.typesCar.length\r\n        ? carTypesList.filter((item) => {\r\n            return this.state.car.typesCar.find((itemX) => item.id === itemX);\r\n          })\r\n        : false;\r\n    let carInfo = this.state.car.info || [];\r\n\r\n    return (\r\n      <div className={`step-create ${this.props.className}`}>\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"list-type-auto-wrapper col-12 col-md-8\">\r\n              <h4\r\n                className=\"f-16 mb-1 w-auto \"\r\n                style={{\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                <span>Тип авто</span>\r\n\r\n                {this.state.carListPossible.find((item) => item.isPro) && (\r\n                  <Link\r\n                    to=\"/\"\r\n                    className=\"href f-14 ml-4\"\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      this.setState({ isPro: !this.state.isPro });\r\n                    }}\r\n                  >\r\n                    {!this.state.isPro && <>Открыть</>}\r\n                    {this.state.isPro && <>Закрыть</>} Pro список\r\n                  </Link>\r\n                )}\r\n              </h4>\r\n              <div className=\"list-type-auto\">\r\n                {!this.state.isPro && (\r\n                  <>\r\n                    {this.state.carListPossible.map((item, index) => {\r\n                      if (!item.isPro)\r\n                        return (\r\n                          <div key={index}>\r\n                            <CheckBox\r\n                              id={`carType${item.id}`}\r\n                              text={item.name}\r\n                              value={\r\n                                currentCarTypes &&\r\n                                currentCarTypes.find(\r\n                                  (itemX) => itemX.id === item.id\r\n                                )\r\n                              }\r\n                              onChange={() => {\r\n                                let car = this.state.car;\r\n                                if (!car.typesCar) car.typesCar = [];\r\n                                if (\r\n                                  currentCarTypes &&\r\n                                  currentCarTypes.find(\r\n                                    (itemX) => itemX.id === item.id\r\n                                  )\r\n                                ) {\r\n                                  car.typesCar = car.typesCar.filter(\r\n                                    (itemX) => itemX !== item.id\r\n                                  );\r\n                                } else\r\n                                  car.typesCar = [...car.typesCar, item.id];\r\n\r\n                                this.setState({\r\n                                  car: car,\r\n                                });\r\n                              }}\r\n                            ></CheckBox>\r\n                          </div>\r\n                        );\r\n                      else return false;\r\n                    })}\r\n                    <div>\r\n                      <CheckBox\r\n                        id={`carTypeall`}\r\n                        value={currentCarTypes.length === carTypesList.length}\r\n                        onChange={() => {\r\n                          let car = this.state.car;\r\n                          car.typesCar = carTypesList.map((item) => item.id);\r\n\r\n                          this.setState({\r\n                            car: car,\r\n                          });\r\n                        }}\r\n                        text=\"Любой\"\r\n                      ></CheckBox>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                {this.state.isPro && (\r\n                  <Select\r\n                    placeholder=\"Тип Авто\"\r\n                    options={this.state.carListPossible.map((item) => {\r\n                      return {\r\n                        value: item.id,\r\n                        label: item.name,\r\n                      };\r\n                    })}\r\n                    isMulti={true}\r\n                    className=\"selectTypeCar\"\r\n                    value={\r\n                      currentCarTypes &&\r\n                      currentCarTypes.map((item) => {\r\n                        return {\r\n                          value: item.id,\r\n                          label: item.name,\r\n                        };\r\n                      })\r\n                    }\r\n                    onChange={(val) => {\r\n                      let car = this.state.car;\r\n                      if (val)\r\n                        val = val.map((item) => {\r\n                          return item.value;\r\n                        });\r\n                      else val = [];\r\n                      car.typesCar = val;\r\n                      this.setState({\r\n                        car: car,\r\n                      });\r\n                    }}\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"align-items-center col-12 col-md-4\">\r\n              <h4\r\n                className=\"f-16 \"\r\n                style={{\r\n                  marginBottom: \"20px\",\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                Желаемый бюджет\r\n              </h4>\r\n              <div className=\"d-flex align-items-center\">\r\n                <Input\r\n                  style={{\r\n                    maxWidth: \"113px\",\r\n                    marginRight: \"7px\",\r\n                  }}\r\n                  type=\"number\"\r\n                  placeholder=\"0\"\r\n                  value={this.state.budget || \"\"}\r\n                  onChange={(e) => {\r\n                    this.setState({ budget: e.target.value });\r\n                  }}\r\n                />\r\n                <span>руб</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {currentCarTypes && currentCarTypes.length && (\r\n            <div className=\"carMoreInfo carInfo row w-100\">\r\n              <div className=\"moreInfoCheckBox col-12\">\r\n                <div className=\"f-14 mb-3\">Свойство:</div>\r\n                <div\r\n                  style={{\r\n                    display: \"inline-block\",\r\n                  }}\r\n                >\r\n                  <CheckBox\r\n                    id=\"property1\"\r\n                    name=\"property\"\r\n                    value={\r\n                      (this.state.car &&\r\n                        this.state.car.property === \"Манипулятор\") ||\r\n                      \"\"\r\n                    }\r\n                    onChange={() => {\r\n                      if (\r\n                        this.state.car &&\r\n                        this.state.car.property === \"Манипулятор\"\r\n                      )\r\n                        this.onChange(false, \"carProperty\");\r\n                      else this.onChange(\"Манипулятор\", \"carProperty\");\r\n                    }}\r\n                    text={\"Манипулятор\"}\r\n                  />\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    display: \"inline-block\",\r\n                  }}\r\n                >\r\n                  <CheckBox\r\n                    id=\"property2\"\r\n                    name=\"property\"\r\n                    value={\r\n                      (this.state.car &&\r\n                        this.state.car.property === \"Рефрижератор\") ||\r\n                      \"\"\r\n                    }\r\n                    onChange={() => {\r\n                      if (\r\n                        this.state.car &&\r\n                        this.state.car.property === \"Рефрижератор\"\r\n                      )\r\n                        this.onChange(false, \"carProperty\");\r\n                      else this.onChange(\"Рефрижератор\", \"carProperty\");\r\n                    }}\r\n                    text={\"Рефрижератор\"}\r\n                  />\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    display: \"inline-block\",\r\n                  }}\r\n                >\r\n                  <CheckBox\r\n                    id=\"property3\"\r\n                    name=\"property\"\r\n                    value={\r\n                      (this.state.car &&\r\n                        this.state.car.property === \"Изотерм\") ||\r\n                      \"\"\r\n                    }\r\n                    onChange={() => {\r\n                      if (\r\n                        this.state.car &&\r\n                        this.state.car.property === \"Изотерм\"\r\n                      )\r\n                        this.onChange(false, \"carProperty\");\r\n                      else this.onChange(\"Изотерм\", \"carProperty\");\r\n                    }}\r\n                    text={\"Изотерм\"}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {currentCarTypes.map((item, index) => {\r\n                return (\r\n                  <div\r\n                    key={index}\r\n                    style={{\r\n                      display: \"contents\",\r\n                    }}\r\n                  >\r\n                    {item.id === 9 && (\r\n                      <div className=\"moreInfoCheckBox col-12\">\r\n                        <div className=\"f-14 mb-3\">Тип</div>\r\n                        <div\r\n                          style={{\r\n                            display: \"inline-block\",\r\n                          }}\r\n                        >\r\n                          <CheckBox\r\n                            id=\"typeGazel1\"\r\n                            name=\"typeGazel\"\r\n                            value={\r\n                              (carInfo.find((item) => item.carId === 9) &&\r\n                                carInfo.find((item) => item.carId === 9)\r\n                                  .typeGazel === \"Цельнометаллическая\") ||\r\n                              \"\"\r\n                            }\r\n                            onChange={() => {\r\n                              if (\r\n                                carInfo.find((item) => item.carId === 9) &&\r\n                                carInfo.find((item) => item.carId === 9)\r\n                                  .typeGazel === \"Цельнометаллическая\"\r\n                              )\r\n                                this.onChangeCarData(9, \"typeGazel\", false);\r\n                              else\r\n                                this.onChangeCarData(\r\n                                  9,\r\n                                  \"typeGazel\",\r\n                                  \"Цельнометаллическая\"\r\n                                );\r\n                            }}\r\n                            text={\"Цельнометаллическая\"}\r\n                          />\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            display: \"inline-block\",\r\n                          }}\r\n                        >\r\n                          <CheckBox\r\n                            id=\"typeGazel2\"\r\n                            name=\"typeGazel\"\r\n                            value={\r\n                              (carInfo.find((item) => item.carId === 9) &&\r\n                                carInfo.find((item) => item.carId === 9)\r\n                                  .typeGazel === \"С тентом\") ||\r\n                              \"\"\r\n                            }\r\n                            onChange={() => {\r\n                              if (\r\n                                carInfo.find((item) => item.carId === 9) &&\r\n                                carInfo.find((item) => item.carId === 9)\r\n                                  .typeGazel === \"С тентом\"\r\n                              )\r\n                                this.onChangeCarData(9, \"typeGazel\", false);\r\n                              else\r\n                                this.onChangeCarData(\r\n                                  9,\r\n                                  \"typeGazel\",\r\n                                  \"С тентом\"\r\n                                );\r\n                            }}\r\n                            text={\"С тентом\"}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {item.id === 12 && (\r\n                      <div className=\"moreInfoCheckBox col-12\">\r\n                        <div className=\"f-14 mb-3\">Тентовый</div>\r\n                        <div\r\n                          style={{\r\n                            display: \"inline-block\",\r\n                          }}\r\n                        >\r\n                          <CheckBox\r\n                            id=\"awning1\"\r\n                            name=\"awning\"\r\n                            value={\r\n                              carInfo.find((item) => item.carId === 12) &&\r\n                              carInfo.find((item) => item.carId === 12)\r\n                                .awning === \"Жесткий борт\"\r\n                            }\r\n                            onChange={() => {\r\n                              if (\r\n                                carInfo.find((item) => item.carId === 12) &&\r\n                                carInfo.find((item) => item.carId === 12)\r\n                                  .awning === \"Жесткий борт\"\r\n                              )\r\n                                this.onChangeCarData(12, \"awning\", false);\r\n                              else\r\n                                this.onChangeCarData(\r\n                                  12,\r\n                                  \"awning\",\r\n                                  \"Жесткий борт\"\r\n                                );\r\n                            }}\r\n                            text={\"Жесткий борт\"}\r\n                          />\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            display: \"inline-block\",\r\n                          }}\r\n                        >\r\n                          <CheckBox\r\n                            id=\"awning2\"\r\n                            name=\"awning\"\r\n                            value={\r\n                              (carInfo.find((item) => item.carId === 12) &&\r\n                                carInfo.find((item) => item.carId === 12)\r\n                                  .awning === \"Съемная верхняя балка\") ||\r\n                              \"\"\r\n                            }\r\n                            onChange={() => {\r\n                              if (\r\n                                carInfo.find((item) => item.carId === 12) &&\r\n                                carInfo.find((item) => item.carId === 12)\r\n                                  .awning === \"Съемная верхняя балка\"\r\n                              )\r\n                                this.onChangeCarData(12, \"awning\", false);\r\n                              else\r\n                                this.onChangeCarData(\r\n                                  12,\r\n                                  \"awning\",\r\n                                  \"Съемная верхняя балка\"\r\n                                );\r\n                            }}\r\n                            text={\"Съемная верхняя балка\"}\r\n                          />\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            display: \"inline-block\",\r\n                          }}\r\n                        >\r\n                          <CheckBox\r\n                            id=\"awning3\"\r\n                            name=\"awning\"\r\n                            value={\r\n                              (carInfo.find((item) => item.carId === 12) &&\r\n                                carInfo.find((item) => item.carId === 12)\r\n                                  .awning === \"Съемная боковая стойка\") ||\r\n                              \"\"\r\n                            }\r\n                            onChange={() => {\r\n                              if (\r\n                                carInfo.find((item) => item.carId === 12) &&\r\n                                carInfo.find((item) => item.carId === 12)\r\n                                  .awning === \"Съемная боковая стойка\"\r\n                              )\r\n                                this.onChangeCarData(12, \"awning\", false);\r\n                              else\r\n                                this.onChangeCarData(\r\n                                  12,\r\n                                  \"awning\",\r\n                                  \"Съемная боковая стойка\"\r\n                                );\r\n                            }}\r\n                            text={\"Съемная боковая стойка\"}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n          <div className=\"row swicher-wrapper\">\r\n            <div className=\"col-sm-6 col-md-4\">\r\n              <div className=\"CheckBoxSwitcher-wrapper\">\r\n                <CheckBoxSwitcher\r\n                  lableClassname=\"f-16\"\r\n                  val={this.state.isExtra}\r\n                  onChange={() => {\r\n                    this.setState({\r\n                      isExtra: !this.state.isExtra,\r\n                    });\r\n                  }}\r\n                  lable=\"Дополнительные параметры\"\r\n                />\r\n              </div>\r\n              <CSSTransitionGroup\r\n                transitionName=\"height-animation-item\"\r\n                transitionEnterTimeout={300}\r\n                transitionLeaveTimeout={300}\r\n                style={{\r\n                  display: \"contents\",\r\n                }}\r\n              >\r\n                {this.state.isExtra && (\r\n                  <div className=\"checkboxGroup\">\r\n                    {extraParams.map((item, index) => {\r\n                      return (\r\n                        <div key={index} className=\"checkboxParam\">\r\n                          <CheckBox\r\n                            id={`extraParams${item.id}`}\r\n                            name={`extraParams${item.id}`}\r\n                            value={\r\n                              this.state.car.additionally &&\r\n                              this.state.car.additionally.find(\r\n                                (itemX) => itemX.id == item.id\r\n                              )\r\n                            }\r\n                            onChange={() => {\r\n                              this.onChangeParams(\"additionally\", item.id);\r\n                            }}\r\n                            text={item.name}\r\n                          />\r\n                          {item.additionFields &&\r\n                            this.state.car.additionally.find(\r\n                              (itemX) => itemX.id === item.id\r\n                            ) &&\r\n                            item.additionFields.map((itemField, index) => {\r\n                              return (\r\n                                <itemField.field\r\n                                  key={index}\r\n                                  {...itemField.props}\r\n                                  value={this.getIfExit(\r\n                                    this.state.car.additionally,\r\n                                    item.id,\r\n                                    itemField.name\r\n                                  )}\r\n                                  onChange={(e) => {\r\n                                    this.onChangeParamsFiels(\r\n                                      \"additionally\",\r\n                                      item.id,\r\n                                      itemField.name,\r\n                                      e.target.value\r\n                                    );\r\n                                  }}\r\n                                ></itemField.field>\r\n                              );\r\n                            })}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </CSSTransitionGroup>\r\n            </div>\r\n            <div className=\"col-sm-6 col-md-4\">\r\n              <div className=\"CheckBoxSwitcher-wrapper\">\r\n                <CheckBoxSwitcher\r\n                  val={this.state.isContract}\r\n                  onChange={() => {\r\n                    this.setState({\r\n                      isContract: !this.state.isContract,\r\n                    });\r\n                  }}\r\n                  lable=\"Заключение договора\"\r\n                />\r\n              </div>\r\n              <CSSTransitionGroup\r\n                transitionName=\"height-animation-item\"\r\n                transitionEnterTimeout={300}\r\n                transitionLeaveTimeout={300}\r\n                style={{\r\n                  display: \"contents\",\r\n                }}\r\n              >\r\n                {this.state.isContract && (\r\n                  <div className=\"checkboxGroup\">\r\n                    {contractParams.map((item, index) => {\r\n                      return (\r\n                        <div key={index} className=\"checkboxParam\">\r\n                          <CheckBox\r\n                            id={`contractParams${item.id}`}\r\n                            name={`contractParams`}\r\n                            value={this.state.car.contractInfo.find(\r\n                              (itemX) => itemX.id === item.id\r\n                            )}\r\n                            onChange={() => {\r\n                              this.onChangeParams(\"contractInfo\", item.id);\r\n                            }}\r\n                            text={item.name}\r\n                          />\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </CSSTransitionGroup>\r\n            </div>\r\n            <div className=\"col-sm-6 col-md-4\">\r\n              <div className=\"CheckBoxSwitcher-wrapper\">\r\n                <CheckBoxSwitcher\r\n                  val={this.state.isPayment}\r\n                  onChange={() => {\r\n                    this.setState({\r\n                      isPayment: !this.state.isPayment,\r\n                    });\r\n                  }}\r\n                  lable=\"Способы оплаты водителю\"\r\n                />\r\n              </div>\r\n              <CSSTransitionGroup\r\n                transitionName=\"height-animation-item\"\r\n                transitionEnterTimeout={300}\r\n                transitionLeaveTimeout={300}\r\n                style={{\r\n                  display: \"contents\",\r\n                }}\r\n              >\r\n                {this.state.isPayment && (\r\n                  <div className=\"checkboxGroup\">\r\n                    {paymentParams.map((item, index) => {\r\n                      return (\r\n                        <div key={index} className=\"checkboxParam\">\r\n                          <CheckBox\r\n                            id={`paymentParams${item.id}`}\r\n                            name={`paymentParams${item.id}`}\r\n                            value={\r\n                              this.state.car.paymentInfo &&\r\n                              this.state.car.paymentInfo.length &&\r\n                              !!this.state.car.paymentInfo.find(\r\n                                (itemX) => itemX.id === item.id\r\n                              )\r\n                            }\r\n                            onChange={() => {\r\n                              this.onChangeParams(\"paymentInfo\", item.id);\r\n                            }}\r\n                            text={item.name}\r\n                          />\r\n                          {item.additionFields &&\r\n                            this.state.car.paymentInfo.find(\r\n                              (itemX) => itemX === item.id\r\n                            ) &&\r\n                            item.additionFields.map((itemField, index) => {\r\n                              return (\r\n                                <itemField.field\r\n                                  key={index}\r\n                                  {...itemField.props}\r\n                                  value={\r\n                                    this.state.car.paymentInfo[\r\n                                      itemField.props.name\r\n                                    ]\r\n                                  }\r\n                                  onChange={(e) => {\r\n                                    this.onChangeParamsFiels(\r\n                                      \"paymentInfo\",\r\n                                      item.id,\r\n                                      itemField.props.name,\r\n                                      e.target.value\r\n                                    );\r\n                                  }}\r\n                                ></itemField.field>\r\n                              );\r\n                            })}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </CSSTransitionGroup>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row slide-step justify-content-end\">\r\n            <Button\r\n              type=\"fill\"\r\n              className=\" input-action\"\r\n              paddingHorizontal=\"40px\"\r\n              onClick={this.props.next}\r\n            >\r\n              Вперед\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default OrderCreate3;\r\n","// App\r\nimport React from \"react\";\r\n// Elements\r\n\r\nimport { connect } from \"react-redux\";\r\nimport HeaderCreate from \"./CreatePart/HeaderCreate\";\r\nimport OrderCreate1 from \"./CreatePart/Order1\";\r\nimport OrderCreate2 from \"./CreatePart/Order2\";\r\nimport OrderCreate3 from \"./CreatePart/Order3\";\r\nimport OrderCreate4 from \"./CreatePart/Offer&Order4\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport api from \"../../config/api\";\r\nimport { setForceTitle } from \"../../functions/functions\";\r\nimport Loading from \"../../Elements/Loading\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport NoMatch from \"../NoMatch\";\r\n\r\nclass OrderCreate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.article = {};\r\n  }\r\n  state = {\r\n    isFetching: true,\r\n    notFound: false,\r\n    currentTab: 1,\r\n    typesCar: [],\r\n    article: false,\r\n    isEditing: false,\r\n  };\r\n  componentDidMount() {\r\n    if (this.props.user.type === \"carrier\")\r\n      this.setState({ notFound: true, isFetching: false });\r\n    else if (this.props.match.params.id)\r\n      fetch(`${api.urlApi}/api/article/getUserArticle`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          id: this.props.match.params.id,\r\n          type: \"order\",\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (!data.error) {\r\n            if (data.article) {\r\n              this.article = data.article;\r\n              this.editingId = data.article._id;\r\n              this.setState(\r\n                {\r\n                  cargoTypes: data.article.cargoTypes,\r\n                  isFetching: false,\r\n                  isEditing: true,\r\n                },\r\n                () => {\r\n                  setForceTitle(\r\n                    (this.state.article.type === \"offer\"\r\n                      ? \"Редактирование предложения\"\r\n                      : \"Редактирование заказа\") +\r\n                      \" №\" +\r\n                      this.article.articleId\r\n                  );\r\n                }\r\n              );\r\n            }\r\n          } else this.setState({ notFound: true, isFetching: false });\r\n        });\r\n    else\r\n      this.setState({\r\n        isFetching: false,\r\n      });\r\n  }\r\n  getRef(number) {\r\n    switch (number) {\r\n      case 1:\r\n        return this.step1;\r\n      case 2:\r\n        return this.step2;\r\n      case 3:\r\n        return this.step3;\r\n    }\r\n  }\r\n\r\n  nexTab(number) {\r\n    let error = false;\r\n    let data;\r\n    let article = { type: \"order\" };\r\n    Array.from(Array(number - 1), (_, i) => i + 1).map((item, index) => {\r\n      if (!error)\r\n        if ((data = this.getRef(item).getArticlesInfo()))\r\n          article = {\r\n            ...article,\r\n            ...data,\r\n          };\r\n        else error = index + 1;\r\n    });\r\n    if (!error) {\r\n      if (number === 4) {\r\n        this.setState(\r\n          { article: { ...article, author: this.props.user } },\r\n          () => {\r\n            this.setState({ currentTab: number });\r\n          }\r\n        );\r\n      } else {\r\n        this.setState({ currentTab: number });\r\n      }\r\n    } else if (this.state.currentTab !== error)\r\n      this.setState({ currentTab: error });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Loading isLoading={this.state.isFetching}></Loading>\r\n        <div className=\"create-page create-order-page\">\r\n          <CSSTransitionGroup\r\n            transitionName=\"loading-height-animation-item\"\r\n            transitionEnterTimeout={300}\r\n            transitionLeaveTimeout={300}\r\n            style={{\r\n              display: \"contents\",\r\n            }}\r\n          >\r\n            {!this.state.isFetching && !this.state.notFound && (\r\n              <>\r\n                <div className=\"container-fluid\">\r\n                  <h2 className=\"title\">{this.props.title}</h2>\r\n                  <HeaderCreate\r\n                    changeTub={(setTub) => {\r\n                      this.nexTab(setTub);\r\n                    }}\r\n                    currentTab={this.state.currentTab}\r\n                    tabs={[\r\n                      \"Описание груза\",\r\n                      \"Мартшрут\",\r\n                      \"Пожелания к перевозчику\",\r\n                      \"Публикация товара\",\r\n                    ]}\r\n                  />\r\n                </div>\r\n                <div className=\"steps-create\">\r\n                  <OrderCreate1\r\n                    ref={(ref) => (this.step1 = ref)}\r\n                    className={`${this.state.currentTab === 1 ? \"active\" : \"\"} \r\n              ${this.state.currentTab > 1 ? \"deactive\" : \"\"}`}\r\n                    next={() => {\r\n                      this.nexTab(2);\r\n                    }}\r\n                    prev={() => {\r\n                      if (this.state.currentTab > 1) {\r\n                        this.setState({\r\n                          currentTab: this.state.currentTab - 1,\r\n                        });\r\n                      }\r\n                    }}\r\n                    onChange={(state) => {\r\n                      this.setState(state);\r\n                    }}\r\n                    cargoTypes={this.article.cargoTypes}\r\n                    cargoData={this.article.cargoData}\r\n                    cargoStandartData={this.article.cargoStandartData}\r\n                    cargoPhoto={this.article.cargoPhoto}\r\n                    comment={this.article.comment}\r\n                  />\r\n                  <OrderCreate2\r\n                    ref={(ref) => (this.step2 = ref)}\r\n                    className={`${\r\n                      this.state.currentTab === 2 ? \"active\" : \"\"\r\n                    } ${this.state.currentTab > 2 ? \"deactive\" : \"\"}`}\r\n                    next={() => {\r\n                      this.nexTab(3);\r\n                    }}\r\n                    prev={() => {\r\n                      if (this.state.currentTab > 1) {\r\n                        this.setState({\r\n                          currentTab: this.state.currentTab - 1,\r\n                        });\r\n                      }\r\n                    }}\r\n                    addressFrom={this.article.from}\r\n                    addressTo={this.article.to}\r\n                    startDate={this.article.startDate}\r\n                  />\r\n                  <OrderCreate3\r\n                    ref={(ref) => (this.step3 = ref)}\r\n                    className={`${\r\n                      this.state.currentTab === 3 ? \"active\" : \"\"\r\n                    } ${this.state.currentTab > 3 ? \"deactive\" : \"\"}`}\r\n                    next={() => {\r\n                      this.nexTab(4);\r\n                    }}\r\n                    prev={() => {\r\n                      if (this.state.currentTab > 1) {\r\n                        this.setState({\r\n                          currentTab: this.state.currentTab - 1,\r\n                        });\r\n                      }\r\n                    }}\r\n                    cargoTypes={this.state.cargoTypes}\r\n                    cargoData={this.state.cargoData}\r\n                    car={this.article.car}\r\n                    budget={this.article.budget}\r\n                  />\r\n                  <OrderCreate4\r\n                    className={`${this.state.currentTab === 4 ? \"active\" : \"\"}`}\r\n                    prev={() => {\r\n                      if (this.state.currentTab > 1) {\r\n                        this.setState({\r\n                          currentTab: this.state.currentTab - 1,\r\n                        });\r\n                      }\r\n                    }}\r\n                    isEditing={this.state.isEditing}\r\n                    editingId={this.editingId}\r\n                    article={this.state.article}\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </CSSTransitionGroup>\r\n          {!this.state.isFething && this.state.notFound && <NoMatch />}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withRouter(OrderCreate));\r\n","import {\r\n  REVIEWS_MY_GET,\r\n  REVIEWS_ME_GET,\r\n  REVIEWS_ME_LOAD,\r\n  REVIEWS_MY_LOAD,\r\n  REVIEWS_MY_SET_LOADING,\r\n  REVIEWS_ME_SET_LOADING,\r\n  ARTICLE_MY_REVIEW_UPDATE,\r\n  REVIEWS_MY_UPDATE,\r\n  ARTICLE_MY_REVIEW_CREATE,\r\n  REVIEWS_MY_CREATE,\r\n  ARTICLE_TAKING_REVIEW_UPDATE,\r\n  REVIEWS_ME_UPDATE,\r\n  ARTICLE_TAKING_REVIEW_CREATE,\r\n  REVIEWS_ME_CREATE,\r\n} from \"../constants\";\r\n\r\nimport api from \"../../config/api\";\r\nimport store from \"../store\";\r\nimport { toast } from \"react-toastify\";\r\nimport SocketController from \"../../controllers/SocketController\";\r\nexport const reviewsGet = (type, apiToken) => (dispatch) => {\r\n  if (type === \"me\") dispatch({ type: REVIEWS_ME_SET_LOADING, payload: {} });\r\n  if (type === \"my\") dispatch({ type: REVIEWS_MY_SET_LOADING, payload: {} });\r\n  fetch(`${api.urlApi}/api/article/getMyReviews`, {\r\n    method: \"post\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${apiToken}`,\r\n    },\r\n    body: JSON.stringify({\r\n      type: type,\r\n    }),\r\n  })\r\n    .then((response) => response.json())\r\n    .then(({ reviews }) => {\r\n      if (type === \"me\")\r\n        dispatch({\r\n          type: REVIEWS_ME_GET,\r\n          payload: { reviews },\r\n        });\r\n      if (type === \"my\")\r\n        dispatch({\r\n          type: REVIEWS_MY_GET,\r\n          payload: { reviews },\r\n        });\r\n    });\r\n};\r\nexport const reviewsLoad = (type, apiToken) => (dispatch) => {\r\n  let lastReviewId;\r\n\r\n  if (type === \"me\") {\r\n    lastReviewId = store.getState().reviews.reviewsMe.reviews[\r\n      store.getState().reviews.reviewsMe.reviews.length - 1\r\n    ]._id;\r\n    dispatch({ type: REVIEWS_ME_SET_LOADING, payload: {} });\r\n  }\r\n  if (type === \"my\") {\r\n    lastReviewId = store.getState().reviews.reviewsMy.reviews[\r\n      store.getState().reviews.reviewsMy.reviews.length - 1\r\n    ]._id;\r\n    dispatch({ type: REVIEWS_MY_SET_LOADING, payload: {} });\r\n  }\r\n  fetch(`${api.urlApi}/api/article/getMyReviews`, {\r\n    method: \"post\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${apiToken}`,\r\n    },\r\n    body: JSON.stringify({\r\n      type: type,\r\n      lastReviewId,\r\n    }),\r\n  })\r\n    .then((response) => response.json())\r\n    .then(({ reviews }) => {\r\n      if (type === \"me\")\r\n        dispatch({\r\n          type: REVIEWS_ME_LOAD,\r\n          payload: { reviews },\r\n        });\r\n      if (type === \"my\")\r\n        dispatch({\r\n          type: REVIEWS_MY_LOAD,\r\n          payload: { reviews },\r\n        });\r\n    });\r\n};\r\nexport const saveReview = (review, article, userId, apiToken) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    if (apiToken) {\r\n      fetch(`${api.urlApi}/api/article/saveReview`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${apiToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          review: review,\r\n          orderId: article._id,\r\n          userId: userId,\r\n          socketId: SocketController.getSocketId(),\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (data.error)\r\n            data.errors.map((item) => {\r\n              toast.error(item.msg);\r\n            });\r\n          if (!data.error && data.newReview) {\r\n            if (article.author._id === data.newReview.author._id) {\r\n              dispatch({\r\n                type: ARTICLE_MY_REVIEW_UPDATE,\r\n                payload: {\r\n                  article,\r\n                  newReview: data.newReview,\r\n                },\r\n              });\r\n              dispatch({\r\n                type: REVIEWS_MY_UPDATE,\r\n                payload: {\r\n                  review: data.newReview,\r\n                },\r\n              });\r\n            } else {\r\n              dispatch({\r\n                type: ARTICLE_TAKING_REVIEW_UPDATE,\r\n                payload: {\r\n                  article,\r\n                  newReview: data.newReview,\r\n                },\r\n              });\r\n              dispatch({\r\n                type: REVIEWS_ME_UPDATE,\r\n                payload: {\r\n                  review: data.newReview,\r\n                },\r\n              });\r\n            }\r\n          }\r\n          resolve(data);\r\n        });\r\n    } else resolve({});\r\n  });\r\n};\r\n","// App\r\nimport React from \"react\";\r\n// Router\r\nimport { connect } from \"react-redux\";\r\nimport * as reviewsAction from \"../../redux/actions/reviews\";\r\nimport { bindActionCreators } from \"redux\";\r\n// Elements\r\nimport Loading from \"../../Elements/Loading\";\r\nimport LoadingFixed from \"../../Elements/LoadingFixed\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport ReviewItem from \"../../Partials/ReviewsItem\";\r\nclass Reviews extends React.Component {\r\n  state = {\r\n    currentStatus: 0,\r\n  };\r\n  //my Я автор\r\n  //me Мне написали\r\n  componentDidMount() {\r\n    if (!this.props.reviews.reviewsMe.isGetted)\r\n      this.props.reviewsAction.reviewsGet(\"me\", this.props.user.apiToken);\r\n  }\r\n  onScroll() {\r\n    if (\r\n      this.state.currentStatus === 0 &&\r\n      this.props.reviews.reviewsMe.canLoad &&\r\n      !this.props.reviews.reviewsMe.isFetching &&\r\n      this.reviewsBlock.getScrollHeight() - this.reviewsBlock.getScrollTop() <=\r\n        200 + this.reviewsBlock.getClientHeight()\r\n    ) {\r\n      this.props.reviewsAction.reviewsLoad(\"me\", this.props.user.apiToken);\r\n    }\r\n    if (\r\n      this.state.currentStatus === 1 &&\r\n      this.props.reviews.reviewsMy.canLoad &&\r\n      !this.props.reviews.reviewsMy.isFetching &&\r\n      this.reviewsBlock.getScrollHeight() - this.reviewsBlock.getScrollTop() <=\r\n        200 + this.reviewsBlock.getClientHeight()\r\n    ) {\r\n      this.props.reviewsAction.reviewsLoad(\"my\", this.props.user.apiToken);\r\n    }\r\n  }\r\n  render() {\r\n    let reviewsObj =\r\n      this.state.currentStatus === 0\r\n        ? this.props.reviews.reviewsMe\r\n        : this.props.reviews.reviewsMy;\r\n    return (\r\n      <div className=\"loads-page reviews-page\">\r\n        <div className=\"container-fluid\">\r\n          <h2 className=\"title\">Отзывы</h2>\r\n          <div className=\"tab_groups\">\r\n            <span\r\n              className={`tab_group ${\r\n                this.state.currentStatus === 0 ? \"active\" : \"\"\r\n              }`}\r\n              onClick={() => {\r\n                if (!this.props.reviews.reviewsMe.isFetching)\r\n                  this.setState({ currentStatus: 0 }, () => {\r\n                    if (!this.props.reviews.reviewsMe.isGetted)\r\n                      this.props.reviewsAction.reviewsGet(\r\n                        \"me\",\r\n                        this.props.user.apiToken\r\n                      );\r\n                  });\r\n              }}\r\n            >\r\n              Обо мне\r\n            </span>\r\n            <span\r\n              className={`tab_group ${\r\n                this.state.currentStatus === 1 ? \"active\" : \"\"\r\n              }`}\r\n              onClick={() => {\r\n                if (!this.props.reviews.reviewsMy.isFetching)\r\n                  this.setState({ currentStatus: 1 }, () => {\r\n                    if (!this.props.reviews.reviewsMy.isGetted)\r\n                      this.props.reviewsAction.reviewsGet(\r\n                        \"my\",\r\n                        this.props.user.apiToken\r\n                      );\r\n                  });\r\n              }}\r\n            >\r\n              От меня\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <Loading\r\n          isLoading={!reviewsObj.isGetted && reviewsObj.isFetching}\r\n        ></Loading>\r\n        <LoadingFixed\r\n          isLoading={reviewsObj.isGetted && reviewsObj.isFetching}\r\n        ></LoadingFixed>\r\n        <CSSTransitionGroup\r\n          transitionName=\"height-animation-item\"\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={1}\r\n          style={{\r\n            display: \"contents\",\r\n          }}\r\n        >\r\n          <div className=\"articles-block full\">\r\n            <Scrollbars\r\n              onScroll={() => {\r\n                this.onScroll();\r\n              }}\r\n              ref={(ref) => {\r\n                this.reviewsBlock = ref;\r\n              }}\r\n              renderTrackVertical={(props) => (\r\n                <div className=\"track-vertical\" />\r\n              )}\r\n              renderThumbVertical={(props) => (\r\n                <div className=\"thumb-vertical\" />\r\n              )}\r\n              className=\"load-content scroll\"\r\n              autoHide\r\n            >\r\n              {(reviewsObj.isGetted || !reviewsObj.isFetching) &&\r\n                !!reviewsObj.reviews.length && (\r\n                  <>\r\n                    <div className=\"article-block requests-article-block\">\r\n                      {reviewsObj.reviews.map((item, index) => {\r\n                        return (\r\n                          <ReviewItem\r\n                            key={index}\r\n                            onChange={(rating, comment) => {\r\n                              this.props.reviewsAction.saveReview(\r\n                                {\r\n                                  _id: item._id,\r\n                                  rating,\r\n                                  comment,\r\n                                },\r\n                                item.order,\r\n                                item.user._id,\r\n                                this.props.user.apiToken\r\n                              );\r\n                            }}\r\n                            isLast={reviewsObj.reviews.length === index + 1}\r\n                            review={item}\r\n                            isMy={this.state.currentStatus === 1}\r\n                          />\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </>\r\n                )}\r\n\r\n              {reviewsObj.isGetted && !reviewsObj.reviews.length && (\r\n                <div className=\"text-center\">Отзывов пока нет</div>\r\n              )}\r\n            </Scrollbars>\r\n          </div>\r\n        </CSSTransitionGroup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    reviews: state.reviews,\r\n  };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    reviewsAction: bindActionCreators(reviewsAction, dispatch),\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Reviews);\r\n","// App\r\nimport React from \"react\";\r\nimport FAQ from \"../Public/FAQ\";\r\n\r\n// Router\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\n// Elements\r\n\r\nclass Support extends React.Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div className=\"standart-page \">\r\n        <div className=\"container-fluid\">\r\n          <h2 className=\"title\">Техподдержка</h2>\r\n          <p className=\"f-14\">\r\n            Если у Вас есть вопросы и предложения, можете позвонить нам по\r\n            телефону +7 (927) 000 - 00 - 00 или написать на почту\r\n            info@pogrooz.ru.\r\n          </p>\r\n          <p className=\"f-14 mt-4\">\r\n            Также вы можете написать нашим специалистам в&nbsp;\r\n            <Link\r\n              to=\"/\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                window.jivo_api.open();\r\n              }}\r\n              className=\"href\"\r\n            >\r\n              online чат\r\n            </Link>\r\n            .\r\n          </p>\r\n        </div>\r\n        <FAQ noPadding={true} type={this.props.user.type} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Support);\r\n","import React from \"react\";\r\nimport Pagination from \"../Elements/Pagination\";\r\nimport Loading from \"../Elements/Loading\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport { prettyDate } from \"../controllers/TimeController\";\r\nimport api from \"../config/api\";\r\nclass PayHistoryTable extends React.Component {\r\n  state = {\r\n    payments: false,\r\n    isFetching: true,\r\n    currentPage: 0,\r\n    countAll: false,\r\n  };\r\n  componentDidMount() {\r\n    this.getPaymentHistory(0);\r\n  }\r\n  getPaymentHistory = (page) => {\r\n    this.setState({ currentPage: page, isFetching: true }, () => {\r\n      fetch(`${api.urlApi}/api/tariffs/payments`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n        body: JSON.stringify({ page: page }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then(({ payments, countAll }) => {\r\n          this.setState({ isFetching: false, payments, countAll: countAll });\r\n        });\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"pay-history\">\r\n        <Loading isLoading={this.state.isFetching} />\r\n        <CSSTransitionGroup\r\n          transitionName=\"height-animation-item\"\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={1}\r\n          style={{\r\n            display: \"contents\",\r\n          }}\r\n        >\r\n          {!this.state.isFetching && this.state.payments && (\r\n            <>\r\n              <h3 className=\"f-16 font-weight-normal mt-3\">\r\n                История пополнений\r\n              </h3>\r\n              <div className=\"table-wrapper\">\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Дата оплаты</th>\r\n                      <th>Способ оплаты</th>\r\n                      <th>Тариф</th>\r\n                      <th>Сумма</th>\r\n                      <th>Срок</th>\r\n                      <th>Дата действия</th>\r\n                      <th>Статус</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {!this.state.payments.length && (\r\n                      <tr className=\"text-center\">\r\n                        <td colSpan=\"7\r\n                        \"> Пусто</td>\r\n                      </tr>\r\n                    )}\r\n                    {this.state.payments.map((item, index, items) => {\r\n                      let duration;\r\n                      if (item.tariff) {\r\n                        if (item.tariff.duration <= 28) {\r\n                          duration = item.tariff.duration / 7;\r\n                          if (duration > 1) duration += \" недели\";\r\n                          else duration += \" неделя\";\r\n                        }\r\n                        if (item.tariff.duration > 28) {\r\n                          duration = prettyDate(item.tariff.duration / 30);\r\n                        }\r\n                      }\r\n                      return (\r\n                        <tr key={index}>\r\n                          <th scope=\"row\">\r\n                            {new Date(item.updatedAt).toDateR()}\r\n                          </th>\r\n                          <td>\r\n                            {item.tariff && \"visa / master cart\"}\r\n                            {item.ban && \"----------------\"}\r\n                          </td>\r\n                          <td>\r\n                            {item.tariff && item.tariff.name}\r\n                            {item.ban && \"Возврат\"}\r\n                          </td>\r\n                          <td>\r\n                            {item.tariff && (\r\n                              <>\r\n                                {item.tariff.price -\r\n                                  (item.tariff.price * item.tariff.discount) /\r\n                                    100}\r\n                                руб\r\n                              </>\r\n                            )}\r\n                          </td>\r\n                          <td>{item.tariff && duration}</td>\r\n                          <td>\r\n                            {new Date(item.startedAt).toDateR()} -{\" \"}\r\n                            {new Date(item.expiriesAt).toDateR()} г\r\n                          </td>\r\n                          <td>\r\n                            <span className=\"left-angle yellow\">\r\n                              {new Date(item.expiriesAt) > new Date() &&\r\n                                !(\r\n                                  !!index &&\r\n                                  new Date(items[index - 1].expiriesAt) >\r\n                                    new Date()\r\n                                ) &&\r\n                                \"Активен\"}\r\n                              {new Date(item.expiriesAt) > new Date() &&\r\n                                !!index &&\r\n                                new Date(items[index - 1].expiriesAt) >\r\n                                  new Date() &&\r\n                                \"Ожидает\"}\r\n                              {new Date(item.expiriesAt) < new Date() &&\r\n                                \"Использован\"}\r\n                            </span>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              {!!this.state.payments.length && (\r\n                <Pagination\r\n                  currentPage={this.state.currentPage}\r\n                  pageCount={this.state.countAll - 1}\r\n                  onPageChange={this.getPaymentHistory}\r\n                />\r\n              )}\r\n            </>\r\n          )}\r\n        </CSSTransitionGroup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default PayHistoryTable;\r\n","// App\r\nimport React from \"react\";\r\nimport { ReactComponent as Warning } from \"../../img/warning.svg\";\r\n// Router\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"../../Elements/Button\";\r\nimport { connect } from \"react-redux\";\r\nimport Tariffs from \"../../Partials/Tariffs\";\r\nimport PayHistoryTable from \"../../Partials/PayHistoryTable\";\r\n\r\nclass Support extends React.Component {\r\n  state = {};\r\n  diffDates(day_one, day_two) {\r\n    return (day_one - day_two) / (60 * 60 * 24 * 1000);\r\n  }\r\n  render() {\r\n    let tariff;\r\n    if (this.props.user.expiriesTariffAt && this.props.user.tariff)\r\n      tariff = this.props.user.tariff;\r\n    if (this.props.user.expiriesTariffAt && !this.props.user.tariff)\r\n      tariff = {\r\n        name: \"Тариф Возврат\",\r\n        isDemo: true,\r\n      };\r\n    if (!this.props.user.expiriesTariffAt && !this.props.user.tariff)\r\n      tariff = false;\r\n    return (\r\n      <div className=\"standart-page\">\r\n        <div className=\"container-fluid\">\r\n          <h2 className=\"title\">Мои тариф</h2>\r\n          <div className=\"row align-items-center\">\r\n            <p className=\"f-14 mt-2 px-3\">\r\n              {!this.props.user.expiriesTariffAt && !tariff && (\r\n                <>\r\n                  <Warning />{\" \"}\r\n                  <span style={{ color: \"#DD2828\" }}>Профиль скрыт</span>\r\n                </>\r\n              )}\r\n\r\n              {tariff &&\r\n                this.diffDates(\r\n                  new Date(this.props.user.expiriesTariffAt),\r\n                  new Date()\r\n                ) <= 3 && (\r\n                  <>\r\n                    <span style={{ color: \"#DD2828\" }}>\r\n                      {tariff.name} {tariff.isDemo ? \"активен\" : \"оплачен\"} до{\" \"}\r\n                      {new Date(this.props.user.expiriesTariffAt).toDateR()}\r\n                    </span>\r\n                  </>\r\n                )}\r\n              {tariff &&\r\n                this.diffDates(\r\n                  new Date(this.props.user.expiriesTariffAt),\r\n                  new Date()\r\n                ) > 3 && (\r\n                  <>\r\n                    <span>\r\n                      {tariff.name} {tariff.isDemo ? \"активен\" : \"оплачен\"} до{\" \"}\r\n                      {new Date(this.props.user.expiriesTariffAt).toDateR()}\r\n                    </span>\r\n                  </>\r\n                )}\r\n            </p>{\" \"}\r\n            <div className=\"col mt-2\">\r\n              <Button\r\n                type=\"fill\"\r\n                className=\"f-12\"\r\n                onClick={() => {\r\n                  document.getElementById(\"tariffs\").scrollIntoView({\r\n                    behavior: \"smooth\",\r\n                  });\r\n                }}\r\n                paddingVertical=\"6px\"\r\n              >\r\n                Пополнить\r\n              </Button>\r\n            </div>\r\n            {!this.props.user.expiriesTariffAt && !tariff && (\r\n              <p className=\"col-12 f-14 mt-2\">\r\n                Оплатите тариф PRO для активации профиля.\r\n                <br />\r\n                Ваш профиль и предложения скрыты.{\" \"}\r\n                <b>Вы не можете брать заказы</b>.\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <PayHistoryTable user={this.props.user} />\r\n          <h3 className=\"f-16 font-weight-normal mt-4\">Продлить тариф</h3>\r\n          <Tariffs />\r\n          <span className=\"f-14\">Тарификация понедельная.</span>\r\n          <p className=\"f-12 mt-0\">\r\n            *Расчет стоимости дня произведен из расчета 30 дней в месяц либо 7\r\n            дней в неделю.\r\n          </p>\r\n          <span className=\"mb-4 mt-2 d-block\">\r\n            <Link\r\n              to=\"/autopay\"\r\n              className=\"f-14 href-hover\"\r\n              style={{\r\n                color: \"#000\",\r\n              }}\r\n            >\r\n              Настройка автоплатежа\r\n            </Link>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Support);\r\n","// App\r\nimport React from \"react\";\r\n\r\n// Router\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"../../Elements/Button\";\r\nimport Loading from \"../../Elements/Loading\";\r\nimport LoadingFixed from \"../../Elements/LoadingFixed\";\r\nimport CheckBoxSwitcher from \"../../Elements/CheckBoxSwitcher\";\r\nimport api from \"../../config/api\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport * as userActions from \"../../redux/actions/user\";\r\nclass Card extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className={`card ${this.props.active ? \"active\" : \"\"}`}>\r\n        <div className=\"row mx-0\">\r\n          <div className=\"col-7 f-20\">{this.props.card.maskedPan}</div>\r\n          {this.props.active && (\r\n            <div className=\"col-5 text-right\">\r\n              <span className=\"left-angle white f-12 mr-0\">Активна</span>\r\n            </div>\r\n          )}\r\n          {!this.props.active && (\r\n            <div className=\"col-5 f-12 text-right\">\r\n              <span style={{ color: \"#B9B9B9\" }}>Не активна</span>\r\n            </div>\r\n          )}\r\n          <div\r\n            className=\"col-7 f-18\"\r\n            style={{\r\n              marginTop: \"33px\",\r\n            }}\r\n          >\r\n            CARDHOLDER NAME\r\n          </div>\r\n          <div\r\n            className=\"col-5 text-right f-18\"\r\n            style={{\r\n              marginTop: \"33px\",\r\n            }}\r\n          >\r\n            {this.props.card.expiryDate.slice(4, 6)}/\r\n            {this.props.card.expiryDate.slice(2, 4)}\r\n          </div>\r\n          <div\r\n            className=\"col\"\r\n            style={{\r\n              marginTop: \"17px\",\r\n            }}\r\n          >\r\n            <div className=\"card-hidden\"></div>\r\n          </div>\r\n          <div\r\n            className=\"col-12 text-right\"\r\n            style={{\r\n              marginTop: \"17px\",\r\n              height: \"38px\",\r\n            }}\r\n          >\r\n            <Button\r\n              type=\"empty\"\r\n              paddingVertical=\"7px\"\r\n              className=\"border-none\"\r\n              onClick={() => {\r\n                this.props.removeCard(this.props.card.bindingId);\r\n              }}\r\n            >\r\n              <span className=\"f-12\">Удалить</span>\r\n            </Button>\r\n            {!this.props.active && (\r\n              <Button\r\n                type=\"fill\"\r\n                paddingVertical=\"7px\"\r\n                className=\"border-none\"\r\n                onClick={() => {\r\n                  this.props.activateCard(this.props.card.bindingId);\r\n                }}\r\n              >\r\n                <span className=\"f-12\">Активировать</span>\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nclass AutoPay extends React.Component {\r\n  state = {\r\n    enableAutoPay: false,\r\n    isFetching: true,\r\n    bindingIdCard: false,\r\n    cards: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ isFetching: true }, () => {\r\n      fetch(`${api.urlApi}/api/tariffs/getMyAutoPayments`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then(({ cards, bindingIdCard, error }) => {\r\n          this.setState({ cards, bindingIdCard, isFetching: false });\r\n        });\r\n    });\r\n  }\r\n  activateCard = (bindingId) => {\r\n    this.setState({ isFetching: true }, () => {\r\n      fetch(`${api.urlApi}/api/tariffs/bindCard`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          bindingId: bindingId,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then(({ errorCode }) => {\r\n          if (!errorCode) {\r\n            toast.success(\"Карта успешно активированна\");\r\n            this.setState({ bindingIdCard: bindingId });\r\n          } else toast.error(\"Карта не активирована\");\r\n          this.setState({ isFetching: false });\r\n        });\r\n    });\r\n  };\r\n  addNew = (e) => {\r\n    e.preventDefault();\r\n    this.setState({ isFetching: true }, () => {\r\n      fetch(`${api.urlApi}/api/tariffs/addNewCard`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then(({ response, error }) => {\r\n          if (!error) {\r\n            if (response.formUrl) {\r\n              window.open(response.formUrl);\r\n            } else {\r\n              this.setState({ isFetching: false });\r\n            }\r\n          }\r\n        });\r\n    });\r\n  };\r\n  removeCard = (bindingId) => {\r\n    this.setState({ isFetching: true }, () => {\r\n      fetch(`${api.urlApi}/api/tariffs/removeCard`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.props.user.apiToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          bindingId: bindingId,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then(({ error }) => {\r\n          let state = {};\r\n          if (!error) {\r\n            toast.success(\"Карта успешно удалена\");\r\n            if (this.state.bindingIdCard === bindingId)\r\n              state.bindingIdCard = false;\r\n            state.cards = this.state.cards.filter(\r\n              (item) => item.bindingId !== bindingId\r\n            );\r\n          } else toast.error(\"Карта не удалена\");\r\n          this.setState({ isFetching: false, ...state });\r\n        });\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"standart-page\">\r\n        <div className=\"container-fluid\">\r\n          <h2 className=\"title mb-0\">Настройки автоплатежа</h2>\r\n          <Link to=\"/mytarif\" className=\"href-hover f-12\">\r\n            Вернуться на страницу Мой тариф\r\n          </Link>\r\n          <div\r\n            className=\"row mt-4\"\r\n            style={{\r\n              marginBottom: \"39px\",\r\n            }}\r\n          >\r\n            <div className=\"col d-flex align-items-center\">\r\n              <div\r\n                className=\"mr-4 f-14\"\r\n                style={{\r\n                  color: this.props.user.isEnableAutoPay ? \"#B9B9B9\" : \"\",\r\n                }}\r\n              >\r\n                Выключить\r\n              </div>\r\n              <CheckBoxSwitcher\r\n                val={this.props.user.isEnableAutoPay}\r\n                onChange={() => {\r\n                  this.props.userActions.toogleAutoPay(\r\n                    this.props.user.apiToken\r\n                  );\r\n                }}\r\n              />\r\n              <div\r\n                className=\"ml-4 f-14\"\r\n                style={{\r\n                  color: !this.props.user.isEnableAutoPay ? \"#B9B9B9\" : \"\",\r\n                }}\r\n              >\r\n                Включить\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <h3 className=\"f-16 font-weight-normal\">Привязанные карты</h3>\r\n          <div className=\"row card-list\">\r\n            <Loading\r\n              isLoading={this.state.isFetching && !this.state.cards}\r\n            ></Loading>\r\n            <LoadingFixed\r\n              isLoading={this.state.isFetching && this.state.cards}\r\n            ></LoadingFixed>\r\n            <CSSTransitionGroup\r\n              transitionName=\"height-animation-item\"\r\n              transitionEnterTimeout={500}\r\n              transitionLeaveTimeout={1}\r\n              style={{\r\n                display: \"contents\",\r\n              }}\r\n            >\r\n              {this.state.cards && this.props.user.isEnableAutoPay && (\r\n                <>\r\n                  {this.state.cards.map((item, index) => (\r\n                    <Card\r\n                      kay={index}\r\n                      active={item.bindingId === this.state.bindingIdCard}\r\n                      card={item}\r\n                      removeCard={this.removeCard}\r\n                      activateCard={this.activateCard}\r\n                    />\r\n                  ))}\r\n                  <div className=\"col-12  mt-3 text-center\">\r\n                    <Link to=\"/\" onClick={this.addNew} className=\"href\">\r\n                      + добавить карту\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"col-12  mt-3  f-12 text-left\">\r\n                    Если у Вас привязано более 1 карты: чтобы сменить карту для\r\n                    автоплатежа нажмите на кнопку Активировать на неактивной\r\n                    карте.\r\n                  </div>\r\n                </>\r\n              )}\r\n            </CSSTransitionGroup>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    userActions: bindActionCreators(userActions, dispatch),\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AutoPay);\r\n","import {\r\n  DIALOGSALL_GET,\r\n  DIALOGSALL_LOAD,\r\n  DIALOGSALL_SET_LOADING,\r\n  DIALOGSORDER_SET_LOADING,\r\n  DIALOGS_SET_LOADING,\r\n  //DIALOGUSER\r\n  DIALOGS_LOAD,\r\n  DIALOGS_GET,\r\n  DIALOGS_ADD,\r\n  DIALOGS_ADD_MESSAGE,\r\n  DIALOGS_SUCCESS_MESSAGE,\r\n  DIALOGS_ERROR_MESSAGE,\r\n  DIALOGS_READ_MESSAGES,\r\n  DIALOG_LOAD,\r\n  DIALOGS_DELETE_MESSAGE,\r\n  DIALOG_SET_LOADING,\r\n  DIALOGS_LOAD_MESSAGES,\r\n  DIALOGS_UPDATE_ONLINE,\r\n  //DIALOGORDER\r\n  DIALOGSORDER_LOAD,\r\n  DIALOGSORDER_GET,\r\n  DIALOGSORDER_ADD,\r\n  DIALOGSORDER_ADD_MESSAGE,\r\n  DIALOGSORDER_SUCCESS_MESSAGE,\r\n  DIALOGSORDER_ERROR_MESSAGE,\r\n  DIALOGSORDER_READ_MESSAGES,\r\n  DIALOGORDER_LOAD,\r\n  DIALOGSORDER_DELETE_MESSAGE,\r\n  DIALOGORDER_SET_LOADING,\r\n  DIALOGSORDER_LOAD_MESSAGES,\r\n  DIALOGSORDER_UPDATE_ONLINE,\r\n} from \"../constants\";\r\nimport store from \"../store\";\r\nimport { randomInteger } from \"../../controllers/FunctionsController\";\r\nimport SocketController from \"../../controllers/SocketController\";\r\nimport { toast } from \"react-toastify\";\r\nimport api from \"../../config/api\";\r\n\r\n//DIALOGALL\r\nexport const dialogsAllGet = (apiToken) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${api.urlApi}/api/dialogsOrder/getAllDialog`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${apiToken}`,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        for (let i = 0; i < data.dialogs.length; i++) {\r\n          let existDialog = store\r\n            .getState()\r\n            .dialogs.dialogsUser.dialogs.find(\r\n              (x) => x._id === data.dialogs[i]._id\r\n            );\r\n\r\n          if (existDialog) {\r\n            data.dialogs[i].messages = existDialog.messages;\r\n          }\r\n          data.dialogs[i].isGetted = false;\r\n          data.dialogs[i].canLoad = true;\r\n          data.dialogs[i].user = data.dialogs[i].users.find(\r\n            (user) => user._id !== store.getState().user._id\r\n          );\r\n\r\n          if (!data.dialogs[i].user)\r\n            data.dialogs[i].user = data.dialogs[i].users[0];\r\n\r\n          data.dialogs[i].typers = [];\r\n        }\r\n        dispatch({\r\n          type: DIALOGSALL_GET,\r\n          payload: data,\r\n        });\r\n        resolve();\r\n      });\r\n  });\r\n};\r\n//DIALOGSUSER\r\nexport const dialogsGet = (apiToken) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${api.urlApi}/api/dialog/get-all`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${apiToken}`,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        for (let i = 0; i < data.dialogs.length; i++) {\r\n          let existDialog = store\r\n            .getState()\r\n            .dialogs.dialogsUser.dialogs.find(\r\n              (x) => x._id === data.dialogs[i]._id\r\n            );\r\n\r\n          if (existDialog) {\r\n            data.dialogs[i].messages = existDialog.messages;\r\n          }\r\n          data.dialogs[i].isGetted = false;\r\n          data.dialogs[i].canLoad = true;\r\n\r\n          data.dialogs[i].user = data.dialogs[i].users.find(\r\n            (user) => user._id !== store.getState().user._id\r\n          );\r\n\r\n          if (!data.dialogs[i].user)\r\n            data.dialogs[i].user = data.dialogs[i].users[0];\r\n\r\n          data.dialogs[i].typers = [];\r\n        }\r\n        dispatch({\r\n          type: DIALOGS_GET,\r\n          payload: data,\r\n        });\r\n        resolve();\r\n      });\r\n  });\r\n};\r\n\r\nexport const dialogGet = (userId, apiToken) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${api.urlApi}/api/dialog/get`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${apiToken}`,\r\n      },\r\n      body: JSON.stringify({\r\n        userId,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ dialog, messages }) => {\r\n        if (!dialog.error) {\r\n          dialog.user = dialog.users.find(\r\n            (user) => user._id !== store.getState().user._id\r\n          );\r\n          if (!dialog.user) dialog.user = dialog.users[0];\r\n\r\n          dialog.typing = false;\r\n\r\n          dialog.isGetted = true;\r\n          dialog.messages = messages.reverse();\r\n          dialog.lastMessage = false;\r\n          dialog.canLoad = messages.length === 50;\r\n          dialog.isLoading = false;\r\n\r\n          dispatch({\r\n            type: DIALOGS_ADD,\r\n            payload: { dialog },\r\n          });\r\n          resolve();\r\n        } else {\r\n          let dialog = {\r\n            isGetted: true,\r\n            isNotFound: true,\r\n            user: { _id: userId },\r\n          };\r\n\r\n          dispatch({\r\n            type: DIALOGS_ADD,\r\n            payload: dialog,\r\n          });\r\n          resolve();\r\n        }\r\n      });\r\n  });\r\n};\r\nexport const dialogsLoad = (type, apiToken) => (dispatch) => {\r\n  let dialogs;\r\n  switch (type) {\r\n    case \"all\":\r\n      dispatch({ type: DIALOGSALL_SET_LOADING });\r\n      dialogs = store.getState().dialogs.dialogsALL;\r\n      break;\r\n    case \"order\":\r\n      dispatch({ type: DIALOGSORDER_SET_LOADING });\r\n      dialogs = store.getState().dialogs.dialogsOrder;\r\n      break;\r\n    case \"user\":\r\n      dispatch({ type: DIALOGS_SET_LOADING });\r\n      dialogs = store.getState().dialogs.dialogsUser;\r\n      break;\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${api.urlApi}/api/dialog/load`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${apiToken}`,\r\n      },\r\n      body: JSON.stringify({\r\n        type,\r\n        lastDialogId: dialogs.dialogs[dialogs.dialogs.length - 1]._id,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ dialogs }) => {\r\n        for (let i = 0; i < dialogs.length; i++) {\r\n          dialogs[i].isGetted = false;\r\n          dialogs[i].canLoad = true;\r\n          dialogs[i].user = dialogs[i].users.find(\r\n            (user) => user._id !== store.getState().user._id\r\n          );\r\n\r\n          if (!dialogs[i].user) dialogs[i].user = dialogs[i].users[0];\r\n\r\n          dialogs[i].typers = [];\r\n        }\r\n        if (type === \"order\")\r\n          dispatch({\r\n            type: DIALOGSORDER_LOAD,\r\n            payload: { dialogs },\r\n          });\r\n        else if (type === \"user\")\r\n          dispatch({\r\n            type: DIALOGS_LOAD,\r\n            payload: { dialogs },\r\n          });\r\n        else if (type === \"all\")\r\n          dispatch({\r\n            type: DIALOGSALL_LOAD,\r\n            payload: { dialogs },\r\n          });\r\n        resolve();\r\n      });\r\n  });\r\n};\r\nexport const dialogLoad = (userId, apiToken) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${api.urlApi}/api/dialog/get`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${apiToken}`,\r\n      },\r\n      body: JSON.stringify({\r\n        userId,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ dialog, messages }) => {\r\n        dialog.messages = messages.reverse();\r\n\r\n        dispatch({\r\n          type: DIALOG_LOAD,\r\n          payload: {\r\n            dialogId: dialog._id,\r\n            messages: dialog.messages,\r\n            canLoad: messages.length === 50,\r\n          },\r\n        });\r\n        resolve();\r\n      });\r\n  });\r\n};\r\n\r\nexport const updateOnline = (userId, apiToken, isOrder) => (dispatch) => {\r\n  let type = isOrder ? DIALOGSORDER_UPDATE_ONLINE : DIALOGS_UPDATE_ONLINE;\r\n  fetch(`${api.urlApi}/api/user/get-online`, {\r\n    method: \"post\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${apiToken}`,\r\n    },\r\n    body: JSON.stringify({\r\n      userId,\r\n    }),\r\n  })\r\n    .then((response) => response.json())\r\n    .then(({ online, onlineAt }) => {\r\n      dispatch({\r\n        type: type,\r\n        payload: { userId, online, onlineAt },\r\n      });\r\n    });\r\n};\r\nexport const retrySendMessage = (message, apiToken, isOrder) => (dispatch) => {\r\n  let typeDelete = isOrder\r\n    ? DIALOGSORDER_DELETE_MESSAGE\r\n    : DIALOGS_DELETE_MESSAGE;\r\n  let typeAdd = isOrder ? DIALOGSORDER_ADD_MESSAGE : DIALOGS_ADD_MESSAGE;\r\n  let typeError = isOrder ? DIALOGSORDER_ERROR_MESSAGE : DIALOGS_ERROR_MESSAGE;\r\n  let typeSuccessMessage = isOrder\r\n    ? DIALOGSORDER_SUCCESS_MESSAGE\r\n    : DIALOGS_SUCCESS_MESSAGE;\r\n  let dialogId = message.dialogId;\r\n  let formData = new FormData();\r\n  let voiceSound = false;\r\n  if (message.voiceSound) {\r\n    formData.append(\"voiceSound\", message.voiceSound.file);\r\n    formData.append(\"voiceSoundDuration\", message.voiceSound.duration);\r\n    formData.append(\"voiceSoundRecordLine\", message.voiceSound.recordLine);\r\n    voiceSound = message.voiceSound;\r\n  }\r\n  formData.append(\"images\", JSON.stringify(message.images));\r\n  formData.append(\"files\", JSON.stringify(message.files));\r\n  formData.append(\"sounds\", JSON.stringify(message.sounds));\r\n  let localMessage = {\r\n    _id: message._id,\r\n    user: store.getState().user,\r\n    text: message.text,\r\n    images: message.images,\r\n    sounds: message.sounds,\r\n    files: message.files,\r\n    voiceSound: voiceSound,\r\n    isLoading: true,\r\n    isError: false,\r\n    recentMessage: message.recentMessage,\r\n    createdAt: Date.now(),\r\n    type: \"message\",\r\n  };\r\n  dispatch({\r\n    type: typeDelete,\r\n    payload: { dialogId, messageIds: [message._id], lastMessage: false },\r\n  });\r\n\r\n  dispatch({\r\n    type: typeAdd,\r\n    payload: { message: localMessage, dialogId: message.dialogId },\r\n  });\r\n\r\n  message.socketId = SocketController.getSocketId();\r\n  formData.append(\"text\", message.text);\r\n  formData.append(\"recentMessages\", message.recentMessages);\r\n  formData.append(\"userId\", message.userId);\r\n  formData.append(\"dialog\", message.dialogId);\r\n  formData.append(\"socketId\", SocketController.getSocketId());\r\n\r\n  fetch(`${api.urlApi}/api/dialog/send-message`, {\r\n    method: \"post\",\r\n    headers: {\r\n      // 'Accept': 'application/json',\r\n      // 'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${apiToken}`,\r\n    },\r\n    body: formData,\r\n  })\r\n    .then((response) => response.json())\r\n    .then((messageRes) => {\r\n      if (messageRes.error) {\r\n        return dispatch({\r\n          type: typeError,\r\n          payload: {\r\n            _id: message._id,\r\n            dialogId: message.dialogId,\r\n            voiceSound: message.voiceSound,\r\n          },\r\n        });\r\n      }\r\n      dispatch({\r\n        type: typeSuccessMessage,\r\n        payload: {\r\n          _id: message._id,\r\n          _newId: messageRes._id,\r\n          dialogId: message.dialogId,\r\n        },\r\n      });\r\n    })\r\n    .catch(() => {\r\n      dispatch({\r\n        type: typeError,\r\n        payload: { _id: message._id, dialogId: message.dialogId },\r\n      });\r\n    });\r\n};\r\nexport const deleteLocalMessage = (_id, dialogId, isOrder) => (dispatch) => {\r\n  let messageIds = [_id];\r\n  let dialogs = isOrder\r\n    ? store.getState().dialogs.dialogsOrder\r\n    : store.getState().dialogs.dialogsUser;\r\n  let lastMessage;\r\n  if (\r\n    dialogs.dialogs.find((x) => x._id === dialogId) &&\r\n    !!dialogs.dialogs.find((x) => x._id === dialogId).messages.length\r\n  )\r\n    lastMessage = dialogs.dialogs\r\n      .find((x) => x._id === dialogId)\r\n      .messages.filter((x) => !messageIds.find((y) => y === x._id))\r\n      .pop();\r\n  else lastMessage = false;\r\n\r\n  dispatch({\r\n    type: DIALOGS_DELETE_MESSAGE,\r\n    payload: { dialogId, messageIds, lastMessage },\r\n  });\r\n};\r\nexport const sendMessage = (message, apiToken, isOrder) => (dispatch) => {\r\n  let typeAdd = isOrder ? DIALOGSORDER_ADD_MESSAGE : DIALOGS_ADD_MESSAGE;\r\n  let typeError = isOrder ? DIALOGSORDER_ERROR_MESSAGE : DIALOGS_ERROR_MESSAGE;\r\n  let typeSuccessMessage = isOrder\r\n    ? DIALOGSORDER_SUCCESS_MESSAGE\r\n    : DIALOGS_SUCCESS_MESSAGE;\r\n\r\n  let formData = new FormData();\r\n  let _id = randomInteger(0, 1000000);\r\n  let images = [];\r\n  let files = [];\r\n  let sounds = [];\r\n  let voiceSound = false;\r\n\r\n  formData.append(\"images\", JSON.stringify(message.images));\r\n  formData.append(\"files\", JSON.stringify(message.files));\r\n  formData.append(\"sounds\", JSON.stringify(message.sounds));\r\n  if (message.voiceSound) {\r\n    formData.append(\"voiceSound\", message.voiceSound.file);\r\n    formData.append(\"voiceSoundDuration\", message.voiceSound.duration);\r\n    formData.append(\"voiceSoundRecordLine\", message.voiceSound.recordLine);\r\n    voiceSound = message.voiceSound;\r\n  }\r\n  let localMessage = {\r\n    _id,\r\n    user: store.getState().user,\r\n    text: message.text,\r\n    images: message.images,\r\n    sounds: message.sounds,\r\n    files: message.files,\r\n    voiceSound: voiceSound,\r\n    isLoading: true,\r\n    isError: false,\r\n    isRead: false,\r\n    recentMessage: message.recentMessage,\r\n    createdAt: Date.now(),\r\n    type: \"message\",\r\n  };\r\n  dispatch({\r\n    type: typeAdd,\r\n    payload: { message: localMessage, dialogId: message.dialogId },\r\n  });\r\n\r\n  message.socketId = SocketController.getSocketId();\r\n\r\n  formData.append(\"text\", message.text);\r\n  formData.append(\"recentMessage\", message.recentMessage._id);\r\n  formData.append(\"dialog\", message.dialogId);\r\n  formData.append(\"userId\", message.userId);\r\n  formData.append(\"socketId\", SocketController.getSocketId());\r\n  fetch(`${api.urlApi}/api/dialog/send-message`, {\r\n    method: \"post\",\r\n    headers: {\r\n      Authorization: `Bearer ${apiToken}`,\r\n    },\r\n    body: formData,\r\n  })\r\n    .then((response) => response.json())\r\n    .then((messageRes) => {\r\n      if (messageRes.error) {\r\n        if (messageRes.errors[0].msg === \"max_size\") {\r\n          toast.error(\"Max file size upload 10 Mb.\", {\r\n            position: toast.POSITION.TOP_CENTER,\r\n          });\r\n        }\r\n\r\n        return dispatch({\r\n          type: typeError,\r\n          payload: { _id, dialogId: message.dialogId },\r\n        });\r\n      }\r\n      dispatch({\r\n        type: typeSuccessMessage,\r\n        payload: {\r\n          _id,\r\n          _newId: messageRes._id,\r\n          dialogId: message.dialogId,\r\n          voiceSound: message.voiceSound,\r\n        },\r\n      });\r\n    })\r\n    .catch(() => {\r\n      dispatch({\r\n        type: typeError,\r\n        payload: { _id, dialogId: message.dialogId },\r\n      });\r\n    });\r\n};\r\nexport const readMessages = (\r\n  { dialogId, userId, otherId },\r\n  apiToken,\r\n  isOrder\r\n) => (dispatch) => {\r\n  let typeRead = isOrder ? DIALOGSORDER_READ_MESSAGES : DIALOGS_READ_MESSAGES;\r\n  let dialogs = isOrder\r\n    ? store.getState().dialogs.dialogsOrder\r\n    : store.getState().dialogs.dialogsUser;\r\n  let readMessages = dialogs.dialogs\r\n    .find((dialog) => dialog._id === dialogId)\r\n    .messages.filter((x) => !x.isRead && x.user._id !== userId);\r\n\r\n  setTimeout(() => {\r\n    if (!!readMessages.length) {\r\n      dispatch({\r\n        type: typeRead,\r\n        payload: { dialogId, userId: otherId, noRead: true, noReadCount: true },\r\n      });\r\n    }\r\n  }, 1);\r\n\r\n  if (!!readMessages.length) {\r\n    fetch(`${api.urlApi}/api/dialog/read-messages`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${apiToken}`,\r\n      },\r\n      body: JSON.stringify({\r\n        dialogId,\r\n        otherId,\r\n        socketId: SocketController.getSocketId(),\r\n      }),\r\n    })\r\n      .then()\r\n      .catch(() => {});\r\n  }\r\n};\r\n\r\nexport const loadMessages = ({ dialogId }, apiToken, isOrder) => (dispatch) => {\r\n  let typeLoad = isOrder ? DIALOGSORDER_LOAD_MESSAGES : DIALOGS_LOAD_MESSAGES;\r\n  let typeSetLoad = isOrder ? DIALOGORDER_SET_LOADING : DIALOG_SET_LOADING;\r\n  let dialogs = isOrder\r\n    ? store.getState().dialogs.dialogsOrder\r\n    : store.getState().dialogs.dialogsUser;\r\n  return new Promise((resolve, reject) => {\r\n    let lastMessage = dialogs.dialogs.find((x) => x._id === dialogId)\r\n      .messages[0];\r\n    dispatch({\r\n      type: typeSetLoad,\r\n      payload: dialogId,\r\n    });\r\n\r\n    fetch(`${api.urlApi}/api/dialog/load-messages`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${apiToken}`,\r\n      },\r\n      body: JSON.stringify({\r\n        dialogId,\r\n        lastMessageId: lastMessage._id,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((messages) => {\r\n        dispatch({\r\n          type: typeLoad,\r\n          payload: {\r\n            dialogId,\r\n            messages: messages.reverse(),\r\n            canLoad: messages.length === 50,\r\n          },\r\n        });\r\n        resolve();\r\n      })\r\n      .catch(() => {});\r\n  });\r\n};\r\n\r\n//DIALOGSORDER\r\nexport const dialogsOrderGet = (apiToken) => (dispatch) => {\r\n  fetch(`${api.urlApi}/api/dialogsOrder/get-all`, {\r\n    method: \"post\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${apiToken}`,\r\n    },\r\n  })\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      for (let i = 0; i < data.dialogs.length; i++) {\r\n        let existDialog = store\r\n          .getState()\r\n          .dialogs.dialogsOrder.dialogs.find(\r\n            (x) => x._id === data.dialogs[i]._id\r\n          );\r\n\r\n        if (existDialog) {\r\n          data.dialogs[i].messages = existDialog.messages;\r\n        }\r\n        data.dialogs[i].isGetted = false;\r\n        data.dialogs[i].canLoad = true;\r\n        data.dialogs[i].user = data.dialogs[i].users.find(\r\n          (user) => user._id !== store.getState().user._id\r\n        );\r\n\r\n        if (!data.dialogs[i].user)\r\n          data.dialogs[i].user = data.dialogs[i].users[0];\r\n\r\n        data.dialogs[i].typers = [];\r\n      }\r\n      dispatch({\r\n        type: DIALOGSORDER_GET,\r\n        payload: data,\r\n      });\r\n    });\r\n};\r\n\r\nexport const dialogOrderGet = (userId, orderId, apiToken) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${api.urlApi}/api/dialogsOrder/get`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${apiToken}`,\r\n      },\r\n      body: JSON.stringify({\r\n        userId,\r\n        orderId,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ dialog, messages }) => {\r\n        if (!dialog.error) {\r\n          dialog.user = dialog.users.find(\r\n            (user) => user._id !== store.getState().user._id\r\n          );\r\n          if (!dialog.user) dialog.user = dialog.users[0];\r\n\r\n          dialog.typing = false;\r\n\r\n          dialog.isGetted = true;\r\n          dialog.messages = messages.reverse();\r\n          dialog.lastMessage = false;\r\n          dialog.canLoad = messages.length === 50;\r\n          dialog.isLoading = false;\r\n\r\n          dispatch({\r\n            type: DIALOGSORDER_ADD,\r\n            payload: { dialog },\r\n          });\r\n          resolve();\r\n        } else {\r\n          let dialog = {\r\n            isGetted: true,\r\n            isNotFound: true,\r\n            user: { _id: userId },\r\n          };\r\n          dispatch({\r\n            type: DIALOGSORDER_ADD,\r\n            payload: {dialog},\r\n          });\r\n          resolve();\r\n        }\r\n      });\r\n  });\r\n};\r\n\r\nexport const dialogOrderLoad = (userId, orderId, apiToken) => (dispatch) => {\r\n  fetch(`${api.urlApi}/api/dialogsOrder/get`, {\r\n    method: \"post\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${apiToken}`,\r\n    },\r\n    body: JSON.stringify({\r\n      userId,\r\n      orderId,\r\n    }),\r\n  })\r\n    .then((response) => response.json())\r\n    .then(({ dialog, messages }) => {\r\n      dialog.messages = messages.reverse();\r\n\r\n      dispatch({\r\n        type: DIALOGORDER_LOAD,\r\n        payload: {\r\n          dialogId: dialog._id,\r\n          messages: dialog.messages,\r\n          canLoad: messages.length === 50,\r\n        },\r\n      });\r\n    });\r\n};\r\n","// App\r\nimport React from \"react\";\r\nimport { LastMessageDate } from \"../../../controllers/TimeController\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport * as dialogsActions from \"../../../redux/actions/dialogs\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport Avatar from \"../../../Elements/Avatar\";\r\nimport Loading from \"../../../Elements/Loading\";\r\nimport LoadingFixed from \"../../../Elements/LoadingFixed\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nclass Dialog extends React.Component {\r\n  render() {\r\n    if (!!this.props.dialog.orderId)\r\n      return (\r\n        <div\r\n          className={`dialog  ${\r\n            this.props.dialog.lastMessage.user._id === this.props.user._id\r\n              ? \"your\"\r\n              : \"other\"\r\n          } ${!this.props.dialog.lastMessage.isRead ? \"unread\" : \"\"}`}\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"col-12 col-sm with-article\">\r\n              <div className=\"f-14\">\r\n                заказ №{this.props.dialog.orderId.articleId}\r\n              </div>\r\n              <div className=\"f-12\">\r\n                {this.props.dialog.orderId.from.data.city_with_type}\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"pl-3 pr-1 f-14 d-flex\"\r\n              style={{\r\n                whiteSpace: \"pre-line\",\r\n                maxWidth: \"90px\",\r\n              }}\r\n            >\r\n              <Avatar avatar={this.props.dialog.user.avatar} />\r\n            </div>\r\n            <div className=\"col f-14 dialog-content\">\r\n              <div className=\"head\">\r\n                <div className=\"f-14 dialog-user-name\">\r\n                  {this.props.dialog.user.name.last}{\" \"}\r\n                  {this.props.dialog.user.name.first}\r\n                </div>\r\n                <div\r\n                  className=\"f-14\"\r\n                  style={{\r\n                    color: \"#6C6C6C\",\r\n                  }}\r\n                >\r\n                  {LastMessageDate(this.props.dialog.lastMessage.createdAt)}\r\n                </div>\r\n              </div>\r\n              <div className=\"last-message\">\r\n                {!this.props.dialog.typing &&\r\n                  this.props.dialog.lastMessage.user._id ===\r\n                    this.props.user._id && <> Вы:&nbsp;</>}\r\n                {!this.props.dialog.typing && (\r\n                  <>{this.props.dialog.lastMessage.text}</>\r\n                )}\r\n                {!this.props.dialog.typing &&\r\n                  !!!this.props.dialog.lastMessage.text &&\r\n                  (this.props.dialog.lastMessage.voiseSound ||\r\n                    this.props.dialog.lastMessage.sound ||\r\n                    this.props.dialog.lastMessage.images ||\r\n                    this.props.dialog.lastMessage.files) && <>Вложения</>}\r\n                {this.props.dialog.typing && (\r\n                  <div className=\"reading-status\">печатает</div>\r\n                )}\r\n                {this.props.dialog.lastMessage.user._id !==\r\n                  this.props.user._id &&\r\n                  !!this.props.dialog.noRead && (\r\n                    <span className=\"counter\">{this.props.dialog.noRead}</span>\r\n                  )}\r\n                <Link\r\n                  className=\"sharected-link\"\r\n                  to={`/dialog-order/${this.props.dialog.orderId._id}/${this.props.dialog.user._id}`}\r\n                ></Link>\r\n              </div>\r\n            </div>\r\n            <hr />\r\n          </div>\r\n        </div>\r\n      );\r\n    if (!this.props.dialog.orderId)\r\n      return (\r\n        <div\r\n          className={`dialog  ${\r\n            this.props.dialog.lastMessage.user._id === this.props.user._id\r\n              ? \"your\"\r\n              : \"other\"\r\n          } ${!this.props.dialog.lastMessage.isRead ? \"unread\" : \"\"}`}\r\n        >\r\n          <div className=\"row\">\r\n            <div\r\n              className=\"pl-3 pr-1 f-14 d-flex\"\r\n              style={{\r\n                whiteSpace: \"pre-line\",\r\n                maxWidth: \"90px\",\r\n              }}\r\n            >\r\n              <Avatar avatar={this.props.dialog.user.avatar} />\r\n            </div>\r\n            <div className=\"col f-14 dialog-content\">\r\n              <div className=\"head\">\r\n                <div className=\"f-14 dialog-user-name\">\r\n                  {this.props.dialog.user.name.last}{\" \"}\r\n                  {this.props.dialog.user.name.first}\r\n                </div>\r\n                <div\r\n                  className=\"f-14\"\r\n                  style={{\r\n                    color: \"#6C6C6C\",\r\n                  }}\r\n                >\r\n                  {LastMessageDate(this.props.dialog.lastMessage.createdAt)}\r\n                </div>\r\n              </div>\r\n              <div className=\"last-message\">\r\n                {!this.props.dialog.typing &&\r\n                  this.props.dialog.lastMessage.user._id ===\r\n                    this.props.user._id && <> Вы:&nbsp;</>}\r\n                {!this.props.dialog.typing && (\r\n                  <>{this.props.dialog.lastMessage.text}</>\r\n                )}\r\n                {!this.props.dialog.typing &&\r\n                  !!!this.props.dialog.lastMessage.text &&\r\n                  (this.props.dialog.lastMessage.voiseSound ||\r\n                    this.props.dialog.lastMessage.sound ||\r\n                    this.props.dialog.lastMessage.images ||\r\n                    this.props.dialog.lastMessage.files) && <>Вложения</>}\r\n                {this.props.dialog.typing && (\r\n                  <div className=\"reading-status\">печатает</div>\r\n                )}\r\n                {this.props.dialog.lastMessage.user._id !==\r\n                  this.props.user._id &&\r\n                  !!this.props.dialog.noRead && (\r\n                    <span className=\"counter\">{this.props.dialog.noRead}</span>\r\n                  )}\r\n                <Link\r\n                  className=\"sharected-link\"\r\n                  to={`/dialog/${this.props.dialog.user._id}`}\r\n                ></Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nclass Messages extends React.Component {\r\n  componentDidMount() {\r\n    if (this.props.tab == \"user\" && !this.props.dialogs.dialogsUser.isGetted)\r\n      this.props.dialogsActions.dialogsGet(this.props.user.apiToken);\r\n    if (this.props.tab == \"order\" && !this.props.dialogs.dialogsOrder.isGetted)\r\n      this.props.dialogsActions.dialogsOrderGet(this.props.user.apiToken);\r\n    if (this.props.tab == \"all\" && !this.props.dialogs.dialogsALL.isGetted)\r\n      this.props.dialogsActions\r\n        .dialogsAllGet(this.props.user.apiToken)\r\n        .then(() => {\r\n          this.onScroll();\r\n        });\r\n  }\r\n  onScroll() {\r\n    let dialogs = [];\r\n    if (this.props.tab == \"user\") dialogs = this.props.dialogs.dialogsUser;\r\n    if (this.props.tab == \"order\") dialogs = this.props.dialogs.dialogsOrder;\r\n    if (this.props.tab == \"all\") dialogs = this.props.dialogs.dialogsALL;\r\n\r\n    if (\r\n      !dialogs.isFetching &&\r\n      dialogs.canLoad &&\r\n      this.dialogsBlock.getScrollHeight() - this.dialogsBlock.getScrollTop() <=\r\n        200 + this.dialogsBlock.getClientHeight()\r\n    ) {\r\n      this.props.dialogsActions.dialogsLoad(\r\n        this.props.tab,\r\n        this.props.user.apiToken\r\n      );\r\n    }\r\n  }\r\n  render() {\r\n    let dialogs = [];\r\n    if (this.props.tab == \"user\") dialogs = this.props.dialogs.dialogsUser;\r\n    if (this.props.tab == \"order\") dialogs = this.props.dialogs.dialogsOrder;\r\n    if (this.props.tab == \"all\") dialogs = this.props.dialogs.dialogsALL;\r\n\r\n    return (\r\n      <div className=\"article-page\">\r\n        <div className=\"container-fluid\">\r\n          <h2 className=\"title\">\r\n            {this.props.tab === \"user\" && \"Сообщения пользователей\"}\r\n            {this.props.tab === \"order\" && \"Сообщения по заказам/предложениям\"}\r\n            {this.props.tab === \"all\" && \"Сообщения\"}\r\n          </h2>\r\n          <div className=\"tab_groups\">\r\n            <Link to=\"messages\">\r\n              <span\r\n                className={`tab_group ${\r\n                  this.props.tab === \"all\" ? \"active\" : \"\"\r\n                }`}\r\n              >\r\n                Все\r\n                {!!this.props.dialogs.dialogsALL.noReadCount && (\r\n                  <div className=\"action-counter\">\r\n                    <span>{this.props.dialogs.dialogsALL.noReadCount}</span>\r\n                  </div>\r\n                )}\r\n              </span>\r\n            </Link>\r\n            <Link to=\"/messages-by-order\">\r\n              <span\r\n                className={`tab_group ${\r\n                  this.props.tab === \"order\" ? \"active\" : \"\"\r\n                }`}\r\n              >\r\n                По заказам /предложениям\r\n              </span>\r\n            </Link>\r\n            <Link to=\"messages-users\">\r\n              <span\r\n                className={`tab_group ${\r\n                  this.props.tab === \"user\" ? \"active\" : \"\"\r\n                }`}\r\n              >\r\n                От пользователей\r\n              </span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <Loading isLoading={!dialogs.isGetted && dialogs.isFetching}></Loading>\r\n        <LoadingFixed\r\n          isLoading={dialogs.isGetted && dialogs.isFetching}\r\n        ></LoadingFixed>\r\n        <CSSTransitionGroup\r\n          transitionName=\"height-animation-item\"\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={1}\r\n          style={{\r\n            display: \"contents\",\r\n          }}\r\n        >\r\n          {!!dialogs.isGetted && (\r\n            <Scrollbars\r\n              onScroll={() => {\r\n                this.onScroll();\r\n              }}\r\n              ref={(ref) => {\r\n                this.dialogsBlock = ref;\r\n              }}\r\n              renderTrackVertical={(props) => (\r\n                <div className=\"track-vertical\" />\r\n              )}\r\n              renderThumbVertical={(props) => (\r\n                <div className=\"thumb-vertical\" />\r\n              )}\r\n              className=\"load-content scroll\"\r\n              autoHide\r\n            >\r\n              <div className=\"articles-block full\">\r\n                <div className=\"dialogs-block\">\r\n                  <div className=\"container-fluid\">\r\n                    {dialogs.dialogs.map((dialog, index) => {\r\n                      return !!dialog.lastMessage ? (\r\n                        <Dialog\r\n                          key={index}\r\n                          user={this.props.user}\r\n                          dialog={dialog}\r\n                        />\r\n                      ) : null;\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Scrollbars>\r\n          )}\r\n        </CSSTransitionGroup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    dialogs: state.dialogs,\r\n  };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    dialogsActions: bindActionCreators(dialogsActions, dispatch),\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Messages);\r\n","// App\r\nimport React from \"react\";\r\n\r\nclass TimeTag extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"time-tag d-flex\">\r\n        <div className=\"col\"></div>\r\n        <span>{this.props.date}</span>\r\n        <div className=\"col\"></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TimeTag;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 16,\n  cy: 16,\n  r: 15.5,\n  stroke: \"#909090\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M23.6285 15.9005C23.7196 15.3063 23.3811 14.7095 22.7188 14.3107L13.876 8.98374C13.2704 8.61964 12.6748 8.56405 12.199 8.8276C11.7191 9.0933 11.4466 9.63461 11.4318 10.3519L11.3216 15.6253L11.2158 20.7004C11.2037 21.2642 11.357 21.7276 11.6583 22.0405C12.1256 22.5258 12.853 22.5668 13.6051 22.1509L22.6533 17.1286C23.208 16.8215 23.5545 16.3855 23.6285 15.9005Z\",\n  fill: \"#909090\"\n});\n\nvar SvgPlay = function SvgPlay(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlay, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/play.adf7c54d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 16,\n  cy: 16,\n  r: 15.5,\n  stroke: \"#A038E3\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 10,\n  y: 9,\n  width: 5,\n  height: 14,\n  rx: 2.5,\n  fill: \"#A038E3\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 17,\n  y: 9,\n  width: 5,\n  height: 14,\n  rx: 2.5,\n  fill: \"#A038E3\"\n});\n\nvar SvgPauseRecord = function SvgPauseRecord(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPauseRecord, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pauseRecord.5fdca313.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\n\r\nclass RecordLineSvg extends React.Component {\r\n  state = {\r\n    width: false,\r\n    height: false,\r\n  };\r\n  updateDimensions = () => {\r\n    this.setState({\r\n      width: document.getElementById(this.props.id).clientWidth,\r\n      height: document.getElementById(this.props.id).clientHeight,\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    this.updateDimensions();\r\n    window.addEventListener(\"resize\", this.updateDimensions);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updateDimensions);\r\n  }\r\n  render() {\r\n    let paddingStick = 1,\r\n      widthStick = 2;\r\n    let svg = {\r\n      width: this.state.width,\r\n      height: this.state.height,\r\n    };\r\n    let RecordLine = this.props.RecordLine.filter((item) => item != \"Infinity\");\r\n    if (this.props.isAdaptive) {\r\n      //Удалять каждый n элемент при выводе полного сообщения, если не умещается в канвас\r\n      let countAllSrick = svg.width / (widthStick + paddingStick); //Всего допустимо полосок\r\n\r\n      let difference = Math.abs(RecordLine.length - countAllSrick);\r\n      if (RecordLine.length > countAllSrick) {\r\n        //Вычиследние с какой периодичностью удалять\r\n        let everyIndex = false;\r\n        everyIndex = Math.floor(RecordLine.length / difference);\r\n\r\n        let counter = RecordLine.length;\r\n        if (RecordLine.length > countAllSrick)\r\n          RecordLine = RecordLine.filter((item, index, array) => {\r\n            if (\r\n              !(everyIndex && index % everyIndex == 0) ||\r\n              counter <= countAllSrick\r\n            ) {\r\n              return true;\r\n            } else {\r\n              counter--;\r\n              return false;\r\n            }\r\n          });\r\n      } else if (RecordLine.length < countAllSrick) {\r\n        let countduple = Math.ceil(1 / (RecordLine.length / difference));\r\n        for (\r\n          let i = 0;\r\n          i < RecordLine.length && RecordLine.length < countAllSrick;\r\n          i++\r\n        ) {\r\n          let duplearray = [];\r\n          for (\r\n            let y = 0;\r\n            y < countduple &&\r\n            RecordLine.length + duplearray.length < countAllSrick;\r\n            y++\r\n          )\r\n            duplearray[y] = RecordLine[i];\r\n          RecordLine = [\r\n            ...RecordLine.slice(0, i),\r\n            ...duplearray,\r\n            ...RecordLine.slice(i),\r\n          ];\r\n          i += duplearray.length;\r\n        }\r\n      }\r\n    }\r\n    let countColors = this.props.percentTime * RecordLine.length;\r\n    let maxValue = Math.max.apply(null, RecordLine);\r\n    return (\r\n      <svg\r\n        id={this.props.id}\r\n        onClick={(e) => {\r\n          this.props.onClick(e, this.state.width);\r\n        }}\r\n      >\r\n        {RecordLine.map((item, index, items) => {\r\n          let height = (item / maxValue) * this.state.height;\r\n          if (!height) height = 1;\r\n          return (\r\n            <rect\r\n              key={index}\r\n              x={\r\n                svg.width -\r\n                (RecordLine.length - index) * (paddingStick + widthStick)\r\n              }\r\n              y={svg.height / 2 - height / 2}\r\n              height={height}\r\n              width={widthStick}\r\n              rx=\"2\"\r\n              fill={`${index < countColors ? \"#9509EF\" : \"#909090\"}`}\r\n            />\r\n          );\r\n        })}\r\n      </svg>\r\n    );\r\n  }\r\n}\r\nexport default RecordLineSvg;\r\n","// App\r\nimport React from \"react\";\r\n\r\n// Material\r\nimport { ReactComponent as PlayArrowIcon } from \"../../img/play.svg\";\r\nimport { ReactComponent as PauseIcon } from \"../../img/pauseRecord.svg\";\r\nimport { randomInteger, padZero } from \"../../controllers/FunctionsController\";\r\nimport loading from \"../../img/loadAudio.gif\";\r\nimport RecordLineSvg from \"./RecordLineSvg\";\r\n\r\nclass AudioX extends React.Component {\r\n  state = {\r\n    currentTime: 0,\r\n    audio: false,\r\n    randomId: randomInteger(0, 10000000),\r\n  };\r\n  componentDidMount() {\r\n    let thisAudio = document.getElementsByName(this.props.sound.path);\r\n    for (let audio of thisAudio) {\r\n      audio.volume = 0.5;\r\n      this.setState({\r\n        audio,\r\n      });\r\n      break;\r\n    }\r\n\r\n    let audio = document.getElementById(this.state.randomId);\r\n    audio.onpause = (e) => {\r\n      audio.parentElement.className = \"message-sound\";\r\n    };\r\n\r\n    audio.onplay = () => {\r\n      audio.parentElement.className = \"message-sound active\";\r\n    };\r\n    audio.ontimeupdate = (e) => {\r\n      this.setState({ currentTime: e.target.currentTime });\r\n    };\r\n  }\r\n  componentWillUnmount() {\r\n    if (document.getElementsByName(this.props.sound.path)) {\r\n      document.getElementsByName(this.props.sound.path).className =\r\n        \"message-sound\";\r\n      if (this.state.audio) this.state.audio.pause();\r\n    }\r\n  }\r\n\r\n  playAudio(e) {\r\n    e.stopPropagation();\r\n    if (!this.props.isLoading) {\r\n      let otherAudio = document.getElementsByClassName(\r\n        \"message-sounds-element\"\r\n      );\r\n\r\n      for (let audio of otherAudio) {\r\n        audio.pause();\r\n      }\r\n\r\n      let thisAudio = document.getElementsByName(this.props.sound.path);\r\n\r\n      for (let audio of thisAudio) {\r\n        audio.play();\r\n      }\r\n    }\r\n  }\r\n\r\n  changeDurationAudio(e, width) {\r\n    e.stopPropagation();\r\n    let position = (e.nativeEvent.layerX - 40) / width;\r\n    let time = this.state.audio.duration * position;\r\n\r\n    let thisAudio = document.getElementsByName(this.props.sound.path);\r\n\r\n    for (let audio of thisAudio) {\r\n      audio.currentTime = time;\r\n    }\r\n  }\r\n\r\n  stopAudio(e) {\r\n    e.stopPropagation();\r\n\r\n    let thisAudio = document.getElementsByName(this.props.sound.path);\r\n\r\n    for (let audio of thisAudio) {\r\n      audio.pause();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div\r\n          className={`message-sound ${this.props.isLoading ? \"d-none\" : \"\"}`}\r\n        >\r\n          <audio\r\n            preload=\"metadata\"\r\n            className={`message-sounds-element`}\r\n            id={this.state.randomId}\r\n            name={this.props.sound.path}\r\n            src={this.props.sound.path}\r\n          />\r\n          <span\r\n            className=\"play\"\r\n            onClick={(e) => {\r\n              this.playAudio(e);\r\n            }}\r\n          >\r\n            <PlayArrowIcon style={{ color: \"#008FF7\" }} />\r\n          </span>\r\n          <span\r\n            className=\"pause\"\r\n            onClick={(e) => {\r\n              this.stopAudio(e);\r\n            }}\r\n          >\r\n            <PauseIcon style={{ color: \"#008FF7\" }} />\r\n          </span>\r\n          {!this.props.isLoading && (\r\n            <>\r\n              <div className=\"message-sound-info\">\r\n                <div className=\"svg-wrapper\">\r\n                  <RecordLineSvg\r\n                    className=\"sound-canvas\"\r\n                    onClick={this.changeDurationAudio.bind(this)}\r\n                    percentTime={\r\n                      this.state.currentTime / this.props.sound.duration\r\n                    }\r\n                    isAdaptive={true}\r\n                    RecordLine={this.props.sound.recordLine}\r\n                    id={`svg-${this.props.sound.path}`}\r\n                  />\r\n                </div>\r\n                {!this.props.isVoiceSound && (\r\n                  <p className=\"message-sounds-name\">{this.props.sound.name}</p>\r\n                )}\r\n                <p className=\"message-sounds-duration\">\r\n                  {this.state.currentTime\r\n                    ? padZero(this.state.currentTime)\r\n                    : padZero(this.props.sound.duration)}\r\n                </p>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n        {this.props.isLoading && <img src={loading} alt=\"\" />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AudioX;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.9985 8.59543C17.9985 5.53486 15.2997 3.06483 11.9603 3.06483H3.22644L5.39288 1.02208L4.21991 0L0.586486 3.33028L0 3.92082L0.586486 4.40347L4.33752 7.78911L5.51049 6.77129L3.10729 4.56388H11.9603C14.4238 4.56388 16.2947 6.33833 16.2947 8.59543V10.8H18V8.59543H17.9985Z\",\n  fill: \"#DDDDDD\"\n});\n\nvar SvgReply = function SvgReply(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 17,\n    viewBox: \"0 0 18 11\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgReply, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/reply.39f6b282.svg\";\nexport { ForwardRef as ReactComponent };","// App\r\nimport React from \"react\";\r\n\r\nclass RecentMessage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"recentMessage\"\r\n        onClick={() => {\r\n          this.props.scrollTo(this.props.message._id);\r\n        }}\r\n      >\r\n        <div className=\"recentContent\">\r\n          <div className=\"name\">\r\n            {this.props.message.user.name.middle}{\" \"}\r\n            {this.props.message.user.name.first}\r\n          </div>\r\n          <div className=\"message-content\">\r\n            {this.props.message.text}\r\n            {this.props.message.voiceSound && <div>Аудиозапись</div>}\r\n            {(!!this.props.message.images.length ||\r\n              !!this.props.message.files.length ||\r\n              !!this.props.message.sounds.length) && <div>Вложения</div>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RecentMessage;\r\n","// App\r\nimport React from \"react\";\r\nimport Avatar from \"../../Elements/Avatar\";\r\nimport TimeTag from \"./TimeTag\";\r\nimport { getHM, timeAt } from \"../../controllers/TimeController\";\r\nimport Audio from \"./Audio\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ReactComponent as ErrorSvg } from \"../../img/error-red.svg\";\r\nimport { ReactComponent as Reply } from \"../../img/reply.svg\";\r\nimport RecentMessage from \"./RecentMessage\";\r\nimport documentSvg from \"../../img/document.svg\";\r\nclass Message extends React.Component {\r\n  state = {\r\n    isSelected: false,\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.scrollingMessage === this.props.message._id) {\r\n      this.setState({ isSelected: true });\r\n    } else this.setState({ isSelected: false });\r\n  }\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (\r\n      JSON.stringify(nextProps.message) === JSON.stringify(this.props.message)\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n  render() {\r\n    let isHistoryDate = true;\r\n    let moreHour = false;\r\n    if (!!this.props.prevMessage) {\r\n      let date1 = new Date(this.props.message.createdAt);\r\n      let date2 = new Date(this.props.prevMessage.createdAt);\r\n      if (\r\n        date1.getFullYear() === date2.getFullYear() &&\r\n        date1.getMonth() === date2.getMonth() &&\r\n        date1.getDate() === date2.getDate()\r\n      ) {\r\n        isHistoryDate = false;\r\n      }\r\n\r\n      let diffHours = Math.abs(date1 - date2) / 36e5;\r\n\r\n      if (diffHours > 1) {\r\n        moreHour = true;\r\n      }\r\n    }\r\n    let myMessage = this.props.user._id == this.props.message.user._id;\r\n    let isFirst =\r\n      (this.props.prevMessage &&\r\n        this.props.prevMessage.user._id !== this.props.message.user._id) ||\r\n      !this.props.prevMessage ||\r\n      moreHour;\r\n    let isShowMoreElement = (isFirst || isHistoryDate) && !this.props.isRecent;\r\n\r\n    return (\r\n      <>\r\n        {isHistoryDate && (\r\n          <TimeTag date={timeAt(new Date(this.props.message.createdAt))} />\r\n        )}\r\n        <div\r\n          id={`message${this.props.message._id}`}\r\n          className={`messages-block ${isShowMoreElement ? \"padding\" : \"\"} ${\r\n            myMessage ? \"my\" : \"not-my\"\r\n          } ${!this.props.message.isRead ? \"unread\" : \"\"} ${\r\n            this.state.isSelected ? \"selected\" : \"\"\r\n          }`}\r\n        >\r\n          <div className=\"avatar-message d-flex\">\r\n            {(isFirst || isHistoryDate) && !this.props.isRecent && (\r\n              <Avatar\r\n                name={\r\n                  this.props.message.user.name.first.charAt(0) +\r\n                  this.props.message.user.name.last.charAt(0)\r\n                }\r\n              />\r\n            )}\r\n          </div>\r\n          <div className=\"col dialog-content\">\r\n            <div className=\"head-message\">\r\n              {isShowMoreElement && (\r\n                <span className=\"name\">\r\n                  {this.props.message.user.name.first}\r\n                </span>\r\n              )}\r\n              {isShowMoreElement && (\r\n                <span className=\"time\">\r\n                  {getHM(this.props.message.createdAt)}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <div className=\"message-content\">\r\n              {this.props.message.text}\r\n              {this.props.message.voiceSound && (\r\n                <Audio\r\n                  duration={this.props.message.voiceSound.duration}\r\n                  sound={this.props.message.voiceSound}\r\n                  isVoiceSound={true}\r\n                  isLoading={this.props.message.isLoading}\r\n                />\r\n              )}\r\n              {this.props.message.sounds.map((item, index) => {\r\n                return <Audio key={index} sound={item} />;\r\n              })}\r\n              {!!this.props.message.images.length && (\r\n                <div\r\n                  className={`message-images ${\r\n                    this.props.message.images.length >= 3 ? \"more\" : \"\"\r\n                  }\r\n                  ${this.props.message.images.length === 1 ? \"one\" : \"\"}\r\n                  ${this.props.message.images.length === 2 ? \"two\" : \"\"}`}\r\n                >\r\n                  {this.props.message.images.map((image, index, images) => {\r\n                    let width;\r\n                    let isBlur = false;\r\n\r\n                    if (images.length > 4 && index === 3) isBlur = true;\r\n\r\n                    if (index > 3) return null;\r\n\r\n                    if (isBlur)\r\n                      return (\r\n                        <div\r\n                          key={index}\r\n                          className=\"image\"\r\n                          onClick={() => {\r\n                            this.props.addImageToFancyBox(images, index);\r\n                          }}\r\n                        >\r\n                          <div className=\"image-blur\">\r\n                            <span>{`+${images.length - 3}`}</span>\r\n                            <img\r\n                              key={index}\r\n                              src={image.path}\r\n                              alt={image.name}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      );\r\n\r\n                    return (\r\n                      <div\r\n                        key={index}\r\n                        className=\"image\"\r\n                        onClick={() => {\r\n                          this.props.addImageToFancyBox(images, index);\r\n                        }}\r\n                      >\r\n                        <img src={image.path} alt={image.name} />\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n              {!!this.props.message.files.length && (\r\n                <div className=\"message-files\">\r\n                  {this.props.message.files.map((item, index) => {\r\n                    return (\r\n                      <div key={index} className=\"message-file\">\r\n                        <img src={documentSvg} alt=\"\" />\r\n                        <div className=\"file-info\">\r\n                          <div className=\"name\">{item.name}</div>\r\n                          <div className=\"size\">\r\n                            {item.size > 1048576\r\n                              ? Math.floor(item.size / 1048576) + \"Мб.\"\r\n                              : Math.floor(item.size / 1024) + \"Кб.\"}\r\n                          </div>\r\n                        </div>\r\n                        <a className=\"sharected-link\" href={item.path}></a>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n              {this.props.message.recentMessage && (\r\n                <RecentMessage\r\n                  scrollTo={(top) => {\r\n                    this.props.scrollTo(top);\r\n                  }}\r\n                  message={this.props.message.recentMessage}\r\n                />\r\n              )}\r\n              {!this.props.message.isError &&\r\n                !myMessage &&\r\n                !this.props.isRecent && (\r\n                  <span\r\n                    className=\"reply-message\"\r\n                    onClick={() => {\r\n                      this.props.setRecentMessage(this.props.message);\r\n                    }}\r\n                  >\r\n                    <Reply />\r\n                  </span>\r\n                )}\r\n            </div>\r\n          </div>\r\n          {this.props.message.isError && (\r\n            <span className=\"error-retry\">\r\n              <ErrorSvg />\r\n              <div className=\"action-menu\">\r\n                <div\r\n                  onClick={() => {\r\n                    this.props.retrySendMessage(this.props.message);\r\n                  }}\r\n                >\r\n                  Повторить попытку\r\n                </div>\r\n                <div\r\n                  onClick={() => {\r\n                    this.props.deleteLocalMessage(this.props.message._id);\r\n                  }}\r\n                >\r\n                  Удалить\r\n                </div>\r\n              </div>\r\n            </span>\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default Message;\r\n","// App\r\nimport React from \"react\";\r\n\r\n// Material\r\nimport { ReactComponent as PlayArrowIcon } from \"../../img/play.svg\";\r\nimport { ReactComponent as PauseIcon } from \"../../img/pauseRecord.svg\";\r\nimport { randomInteger, padZero } from \"../../controllers/FunctionsController\";\r\nimport loading from \"../../img/loadAudio.gif\";\r\nimport RecordLineSvg from \"./RecordLineSvg\";\r\n\r\nclass AudioVoice extends React.Component {\r\n  state = {\r\n    currentTime: 0,\r\n    audio: false,\r\n    randomId: randomInteger(0, 10000000),\r\n  };\r\n  componentDidMount() {\r\n    let thisAudio = document.getElementsByName(this.props.sound.path);\r\n    for (let audio of thisAudio) {\r\n      audio.volume = 0.5;\r\n      this.setState({\r\n        audio,\r\n      });\r\n      break;\r\n    }\r\n\r\n    let audio = document.getElementById(this.state.randomId);\r\n    audio.onpause = (e) => {\r\n      audio.parentElement.className = \"voice-sound\";\r\n    };\r\n\r\n    audio.onplay = () => {\r\n      audio.parentElement.className = \"voice-sound active\";\r\n    };\r\n    audio.ontimeupdate = (e) => {\r\n      this.setState({ currentTime: e.target.currentTime });\r\n    };\r\n  }\r\n  componentWillUnmount() {\r\n    if (document.getElementsByName(this.props.sound.path)) {\r\n      document.getElementsByName(this.props.sound.path).className =\r\n        \"message-sound\";\r\n      if (this.state.audio) this.state.audio.pause();\r\n    }\r\n  }\r\n\r\n  playAudio(e) {\r\n    e.stopPropagation();\r\n    if (!this.props.isLoading) {\r\n      let otherAudio = document.getElementsByClassName(\r\n        \"message-sounds-element\"\r\n      );\r\n\r\n      for (let audio of otherAudio) {\r\n        audio.pause();\r\n      }\r\n\r\n      let thisAudio = document.getElementsByName(this.props.sound.path);\r\n\r\n      for (let audio of thisAudio) {\r\n        audio.play();\r\n      }\r\n    }\r\n  }\r\n\r\n  changeDurationAudio(e, width) {\r\n    e.stopPropagation();\r\n    let position = (e.nativeEvent.layerX - 40) / width;\r\n    let time = this.state.audio.duration * position;\r\n\r\n    let thisAudio = document.getElementsByName(this.props.sound.path);\r\n\r\n    for (let audio of thisAudio) {\r\n      audio.currentTime = time;\r\n    }\r\n  }\r\n\r\n  stopAudio(e) {\r\n    e.stopPropagation();\r\n\r\n    let thisAudio = document.getElementsByName(this.props.sound.path);\r\n\r\n    for (let audio of thisAudio) {\r\n      audio.pause();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"voice-sound\">\r\n          <audio\r\n            preload=\"metadata\"\r\n            className={`message-sounds-element`}\r\n            id={this.state.randomId}\r\n            name={this.props.sound.path}\r\n            src={this.props.sound.path}\r\n          />\r\n          <span\r\n            className=\"play\"\r\n            onClick={(e) => {\r\n              this.playAudio(e);\r\n            }}\r\n          >\r\n            <PlayArrowIcon style={{ color: \"#008FF7\" }} />\r\n          </span>\r\n          <span\r\n            className=\"pause\"\r\n            onClick={(e) => {\r\n              this.stopAudio(e);\r\n            }}\r\n          >\r\n            <PauseIcon style={{ color: \"#008FF7\" }} />\r\n          </span>\r\n          <div className=\"svg-wrapper\">\r\n            <RecordLineSvg\r\n              className=\"sound-canvas\"\r\n              onClick={this.changeDurationAudio.bind(this)}\r\n              percentTime={this.state.currentTime / this.props.sound.duration}\r\n              isAdaptive={true}\r\n              RecordLine={this.props.sound.recordLine}\r\n              id={`svg-${this.props.sound.path}`}\r\n            />\r\n          </div>\r\n          <p className=\"voice-sounds-duration\">\r\n            {this.state.currentTime\r\n              ? padZero(this.state.currentTime)\r\n              : padZero(this.props.sound.duration)}\r\n          </p>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AudioVoice;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  strokeWidth: 1.5\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m16 20h24v24h-24z\",\n  opacity: 0.4\n}), /*#__PURE__*/React.createElement(\"g\", {\n  stroke: \"#b1bbc8\",\n  strokeLinecap: \"round\",\n  strokeWidth: 2.5\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m22.5 26.5 11 11\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m33.5 26.5-11 11\"\n})));\n\nvar SvgResetRecord = function SvgResetRecord(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"16 20 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgResetRecord, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ResetRecord.d0baf25e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 16,\n  cy: 16,\n  r: 15.5,\n  stroke: \"#9509EF\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 9,\n  y: 9,\n  width: 14,\n  height: 14,\n  rx: 3,\n  fill: \"#A038E3\"\n});\n\nvar SvgStopRecord = function SvgStopRecord(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStopRecord, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/stopRecord.521f7549.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M23.6758 13.6758C23.8439 12.5664 23.2095 11.4504 21.9712 10.7031L5.43795 0.721671C4.30568 0.0394166 3.19317 -0.0665433 2.30548 0.42399C1.41024 0.918528 0.903371 1.92861 0.878254 3.26826L0.691553 13.1176L0.512155 22.5963C0.491641 23.6493 0.779634 24.5155 1.34335 25.101C2.2178 26.0092 3.57634 26.0883 4.97953 25.3142L21.859 15.9661C22.8939 15.3946 23.5394 14.5815 23.6758 13.6758V13.6758ZM21.1025 14.5975L4.22219 23.9453C3.86511 24.1421 2.97826 24.5444 2.46958 24.0161C2.20332 23.7395 2.06282 23.2458 2.07513 22.6256L2.23998 13.9288L8.88516 14.0545C8.98891 14.0582 9.09238 14.0413 9.18952 14.0046C9.28666 13.968 9.37553 13.9124 9.45094 13.841C9.52636 13.7697 9.5868 13.684 9.62876 13.589C9.67071 13.4941 9.69333 13.3917 9.6953 13.2879C9.69727 13.1841 9.67854 13.0809 9.64022 12.9845C9.60189 12.888 9.54474 12.8001 9.47208 12.7259C9.39942 12.6518 9.31273 12.5928 9.21705 12.5525C9.12136 12.5122 9.01861 12.4914 8.91479 12.4912L2.26961 12.3656L2.44122 3.29815C2.45537 2.55135 2.68143 2.00266 3.06116 1.79281C3.43389 1.58698 4.00602 1.68464 4.63011 2.06115L21.1636 12.0428C21.3767 12.1681 21.5726 12.3204 21.7464 12.496C21.9541 12.7117 22.1891 13.0504 22.1297 13.4425C22.0674 13.8563 21.7026 14.2661 21.1025 14.5975V14.5975Z\",\n  fill: \"#909090\"\n});\n\nvar SvgSend = function SvgSend(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 26,\n    viewBox: \"0 0 24 26\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSend, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/send.dcfe51b8.svg\";\nexport { ForwardRef as ReactComponent };","// App\r\nimport React from \"react\";\r\nimport AudioVoice from \"../AudioVoice\";\r\nimport { ReactComponent as ResetRecord } from \"../../../img/ResetRecord.svg\";\r\nimport { ReactComponent as StopRecord } from \"../../../img/stopRecord.svg\";\r\nimport { ReactComponent as Send } from \"../../../img/send.svg\";\r\nimport { ReactComponent as LoadGif } from \"../../../img/Loading.svg\";\r\nimport { renderCanvas } from \"../../../controllers/FunctionsController\";\r\n// Internet Explorer 6-11\r\nconst isIE = /*@cc_on!@*/ false || !!document.documentMode;\r\n// Edge 20+\r\nconst isEdge = !isIE && !!window.StyleMedia;\r\n\r\nlet m, localStream, source, analyser, processor, ctx, audioChunks;\r\nclass PanelRecord extends React.Component {\r\n  state = {\r\n    isRecordPause: false,\r\n    isAudioPlay: false,\r\n    isSending: false,\r\n    RecordLine: [],\r\n    countdown: 0,\r\n    audioSrc: false,\r\n  };\r\n  startTimer() {\r\n    this.timer = setInterval(() => {\r\n      if (this.timer) this.setState({ countdown: ++this.state.countdown });\r\n    }, 1000);\r\n  }\r\n  stopTimer() {\r\n    clearInterval(this.timer);\r\n    this.timer = false;\r\n  }\r\n  //TImer ENd\r\n  recordStart() {\r\n    return new Promise((resolve, reject) => {\r\n      ctx = new (window.AudioContext || window.webkitAudioContext)();\r\n      audioChunks = [];\r\n      let getMedia = (\r\n        navigator.getUserMedia ||\r\n        navigator.webkitGetUserMedia ||\r\n        navigator.mozGetUserMedia ||\r\n        navigator.msGetUserMedia\r\n      ).bind(navigator);\r\n      getMedia(\r\n        { audio: true, video: false },\r\n        (stream) => {\r\n          if (stream) {\r\n            localStream = stream;\r\n            this.renderAudioVolume(localStream);\r\n            let mediaRecorder = new MediaRecorder(stream);\r\n            m = mediaRecorder;\r\n            m.addEventListener(\"start\", this.startTimer.bind(this));\r\n            m.addEventListener(\"pause\", this.stopTimer.bind(this));\r\n            m.addEventListener(\"stop\", this.stopTimer.bind(this));\r\n            m.start();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.props.stopRec();\r\n        }\r\n      );\r\n    });\r\n  }\r\n  recordStop() {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (!this.state.isRecordPause && localStream) {\r\n        let onRecordingReady = (e) => {\r\n          this.props\r\n            .addVoiceSound(e.data, this.state.countdown, this.state.RecordLine)\r\n            .then(() => {\r\n              this.setState({\r\n                isRecordPause: true,\r\n                audioSrc: URL.createObjectURL(e.data),\r\n              });\r\n              resolve();\r\n            });\r\n        };\r\n        m.addEventListener(\"dataavailable\", onRecordingReady);\r\n        if (m) m.stop();\r\n        m = false;\r\n        if (localStream) {\r\n          localStream.getAudioTracks()[0].stop();\r\n          localStream = false;\r\n        }\r\n        if (source) {\r\n          source.disconnect(analyser);\r\n          source.disconnect(processor);\r\n        }\r\n        source = false;\r\n        if (processor) processor.disconnect(ctx.destination);\r\n        processor = false;\r\n        ctx = false;\r\n      } else resolve();\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.recordStop();\r\n  }\r\n\r\n  renderAudioVolume(stream) {\r\n    source = ctx.createMediaStreamSource(stream);\r\n    analyser = ctx.createAnalyser();\r\n    processor = ctx.createScriptProcessor(4096, 2, 2);\r\n    processor.connect(ctx.destination);\r\n    source.connect(analyser);\r\n    source.connect(processor);\r\n\r\n    let data = new Uint8Array(analyser.frequencyBinCount);\r\n    let count = 0;\r\n\r\n    processor.onaudioprocess = (e) => {\r\n      count++;\r\n      analyser.getByteFrequencyData(data);\r\n      let volumes = [];\r\n      for (let i = 0; i < data.length; i++) {\r\n        volumes.push({ arg: i, val: data[i] });\r\n      }\r\n\r\n      this.setState({\r\n        RecordLine: [...this.state.RecordLine, volumes[2].val],\r\n      });\r\n      renderCanvas(\r\n        false,\r\n        \"voice-canvas\",\r\n        this.state.RecordLine,\r\n        false,\r\n        \"#9933ff\"\r\n      );\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.recordStart();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <ResetRecord\r\n          className=\"resetRecord\"\r\n          onClick={async () => {\r\n            // if (!this.state.isRecordPause)\r\n            this.recordStop().then(async () => {\r\n              await this.props.stopRec();\r\n              await this.props.addVoiceSound(false);\r\n            });\r\n          }}\r\n        />\r\n        <div className=\"input-chat\">\r\n          {!this.state.isRecordPause && (\r\n            <>\r\n              <StopRecord\r\n                onClick={() => {\r\n                  this.setState({ isRecordPause: true });\r\n                  this.recordStop();\r\n                }}\r\n                className=\"RecordPauseStart\"\r\n              />\r\n              <canvas id=\"voice-canvas\"></canvas>\r\n              <div className=\"timer\">\r\n                {String(this.state.countdown).toTimer()}\r\n              </div>\r\n            </>\r\n          )}\r\n          {this.state.isRecordPause && this.state.audioSrc && (\r\n            <AudioVoice\r\n              sound={{\r\n                duration: this.state.countdown,\r\n                path: this.state.audioSrc,\r\n                recordLine: this.state.RecordLine,\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n        {!this.state.isSending && (\r\n          <Send\r\n            className=\"sendRecord\"\r\n            onClick={async () => {\r\n              this.setState({ isSending: true });\r\n              this.recordStop().then(async () => {\r\n                await this.props.sendMessage();\r\n                await this.setState({ isSending: false });\r\n              });\r\n            }}\r\n          />\r\n        )}\r\n        {this.state.isSending && <LoadGif></LoadGif>}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PanelRecord;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.57912 27C9.60522 27 11.5188 26.1634 12.9821 24.6496L17.7096 19.63C18.0473 19.2715 18.0473 18.6341 17.7096 18.2755C17.3719 17.917 16.7716 17.917 16.4339 18.2755L11.7064 23.2553C10.6183 24.4105 9.15498 25.048 7.57912 25.048C6.00326 25.048 4.57749 24.4105 3.45188 23.2553C2.32626 22.1 1.76346 20.5463 1.76346 18.8731C1.76346 17.1999 2.36379 15.6861 3.45188 14.491L14.1452 3.13722C14.9331 2.30063 15.9462 1.86241 17.0718 1.86241C18.1599 1.86241 19.2104 2.30063 19.9984 3.13722C20.7863 3.97381 21.199 5.04943 21.199 6.24456C21.199 7.39985 20.7863 8.51531 19.9984 9.3519L9.26754 20.7455C8.32953 21.7414 6.75367 21.7414 5.81566 20.7455C5.36542 20.2674 5.10277 19.5902 5.10277 18.9129C5.10277 18.2357 5.36542 17.5585 5.81566 17.0804L10.5808 12.021C10.9184 11.6625 10.9184 11.0251 10.5808 10.6665C10.2431 10.308 9.64274 10.308 9.30506 10.6665L4.57749 15.7259C3.78956 16.5625 3.33931 17.7178 3.33931 18.9129C3.33931 20.1081 3.78956 21.2634 4.57749 22.1C6.22838 23.8528 8.92985 23.8528 10.5808 22.1L21.2741 10.7462C22.3997 9.55109 23 7.99742 23 6.2844C23 4.57138 22.3997 3.01771 21.2741 1.82257C18.9853 -0.607525 15.1958 -0.607525 12.907 1.82257L2.2137 13.1763C0.787928 14.6902 0 16.7219 0 18.9129C0 21.0642 0.787928 23.0959 2.2137 24.6496C3.63948 26.1634 5.55302 27 7.57912 27Z\",\n  fill: \"#909090\"\n});\n\nvar SvgAddDocuments = function SvgAddDocuments(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 23,\n    height: 27,\n    viewBox: \"0 0 23 27\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAddDocuments, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/addDocuments.8c419dc5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.371 13.8571C13.2139 15.1429 11.671 15.7857 9.99959 15.7857C8.32816 15.7857 6.7853 15.0143 5.62816 13.8571C5.37102 13.6 5.37102 13.2143 5.62816 12.9571C5.8853 12.7 6.27102 12.7 6.52816 12.9571C7.42816 13.9857 8.71387 14.5 9.99959 14.5C11.2853 14.5 12.571 13.9857 13.3424 12.9571C13.5996 12.7 13.9853 12.7 14.2424 12.9571C14.4996 13.2143 14.4996 13.6 14.371 13.8571Z\",\n  fill: \"#909090\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 1C4.98571 1 1 4.98571 1 10C1 15.0143 4.98571 19 10 19C15.0143 19 19 15.0143 19 10C19 4.98571 15.0143 1 10 1ZM4.85714 7.42857C4.85714 6.65714 5.37143 6.14286 6.14286 6.14286C6.91429 6.14286 7.42857 6.65714 7.42857 7.42857C7.42857 8.2 6.91429 8.71429 6.14286 8.71429C5.37143 8.71429 4.85714 8.2 4.85714 7.42857ZM13.8571 8.71429C13.0857 8.71429 12.5714 8.2 12.5714 7.42857C12.5714 6.65714 13.0857 6.14286 13.8571 6.14286C14.6286 6.14286 15.1429 6.65714 15.1429 7.42857C15.1429 8.2 14.5 8.71429 13.8571 8.71429Z\",\n  stroke: \"#909090\",\n  strokeMiterlimit: 10\n});\n\nvar SvgSmiles = function SvgSmiles(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSmiles, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/smiles.83609364.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.791667 7.93436C0.581704 7.93436 0.38034 8.02325 0.231874 8.18148C0.0834077 8.33971 0 8.55431 0 8.77808L0.000791987 13.1317C0.0609587 18.3122 3.90212 22.5687 8.71467 22.9923C8.71387 23.0041 8.70833 23.0142 8.70833 23.026V25.3125H5.10942C4.89945 25.3125 4.69809 25.4014 4.54962 25.5597C4.40116 25.7179 4.31775 25.9325 4.31775 26.1563C4.31775 26.38 4.40116 26.5946 4.54962 26.7529C4.69809 26.9111 4.89945 27 5.10942 27H13.8906C14.1005 27 14.3019 26.9111 14.4504 26.7529C14.5988 26.5946 14.6823 26.38 14.6823 26.1563C14.6823 25.9325 14.5988 25.7179 14.4504 25.5597C14.3019 25.4014 14.1005 25.3125 13.8906 25.3125H10.2917V23.026C10.2917 23.0142 10.2861 23.0041 10.2853 22.9923C15.0789 22.5696 18.9185 18.3316 18.9984 13.1747L19 8.77808C19 8.55431 18.9166 8.33971 18.7681 8.18148C18.6197 8.02325 18.4183 7.93436 18.2083 7.93436C17.9984 7.93436 17.797 8.02325 17.6485 8.18148C17.5001 8.33971 17.4167 8.55431 17.4167 8.77808L17.4151 13.1469C17.3454 17.6684 13.7948 21.347 9.5 21.347C5.18779 21.347 1.63637 17.6524 1.58412 13.1131L1.58333 8.77808C1.58333 8.55431 1.49993 8.33971 1.35146 8.18148C1.20299 8.02325 1.00163 7.93436 0.791667 7.93436Z\",\n  fill: \"#909090\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.9631 13.0617V5.77023C14.9631 2.58854 12.5121 0 9.50059 0C6.48909 0 4.03809 2.58854 4.03809 5.77023V13.0617C4.03809 16.2434 6.48909 18.8319 9.50059 18.8319C12.5121 18.8319 14.9631 16.2434 14.9631 13.0617ZM5.62142 13.0617V5.77023C5.62142 3.51917 7.3615 1.68745 9.50059 1.68745C11.6397 1.68745 13.3798 3.51917 13.3798 5.77023V13.0617C13.3798 15.3127 11.6397 17.1445 9.50059 17.1445C7.3615 17.1445 5.62142 15.3127 5.62142 13.0617Z\",\n  fill: \"#909090\"\n});\n\nvar SvgMicrophone = function SvgMicrophone(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 19,\n    height: 27,\n    viewBox: \"0 0 19 27\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMicrophone, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/microphone.5823ce97.svg\";\nexport { ForwardRef as ReactComponent };","// App\r\nimport React from \"react\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport { Picker } from \"emoji-mart\";\r\nimport { ReactComponent as AddDocuments } from \"../../../img/addDocuments.svg\";\r\nimport { ReactComponent as Send } from \"../../../img/send.svg\";\r\nimport { ReactComponent as Smiles } from \"../../../img/smiles.svg\";\r\nimport { ReactComponent as Microphone } from \"../../../img/microphone.svg\";\r\nimport settings from \"../../../config/settings\";\r\nclass PanelStandart extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.showEmoji = this.showEmoji.bind(this);\r\n    this.hideEmoji = this.hideEmoji.bind(this);\r\n  }\r\n  state = {\r\n    text: \"\",\r\n    showEmoji: false,\r\n  };\r\n  setText(text) {\r\n    this.setState({ text });\r\n  }\r\n  showEmoji() {\r\n    this.setState({ showEmoji: true });\r\n    document.addEventListener(\"click\", this.hideEmoji);\r\n  }\r\n  hideEmoji(e) {\r\n    if (!e.target.closest(\".emoji-mart\")) {\r\n      this.setState({ showEmoji: false });\r\n      document.removeEventListener(\"click\", this.hideEmoji);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <AddDocuments\r\n          className=\"addMoreAttach\"\r\n          onClick={() => {\r\n            document.getElementById(\"uploadFile\").click();\r\n          }}\r\n        />\r\n\r\n        <input\r\n          type=\"file\"\r\n          multiple\r\n          hidden\r\n          onChange={(e) => {\r\n            this.props.loadFiles(e);\r\n          }}\r\n          id=\"uploadFile\"\r\n          style={{ display: \"none\" }}\r\n          accept=\"image/jpeg,image/gif,image/jpeg,image/png,application/pdf,text/plain,application/x-zip-compressed,application/zip,application/msword,audio/mpeg\"\r\n        />\r\n        <div className=\"input-chat\">\r\n          <textarea\r\n            className=\"input-message\"\r\n            id=\"input-message\"\r\n            onKeyDown={(e) => {\r\n              if (e.keyCode === 13 && !e.shiftKey) {\r\n                e.preventDefault();\r\n                let inputMessage = document.getElementById(\"input-message\");\r\n                inputMessage.style.maxHeight = \"48px\";\r\n                this.props.sendMessage(this.state.text);\r\n              }\r\n            }}\r\n            onInput={() => {\r\n              let inputMessage = document.getElementById(\"input-message\");\r\n              inputMessage.style.height = \"5px\";\r\n              inputMessage.style.height = inputMessage.scrollHeight + \"px\";\r\n              if (inputMessage.scrollHeight > 178) {\r\n                inputMessage.style.maxHeight = \"178px\";\r\n              } else {\r\n                inputMessage.style.maxHeight = inputMessage.scrollHeight + \"px\";\r\n              }\r\n            }}\r\n            onChange={(e) => {\r\n              this.props.typing(e.target.value, this.state.text);\r\n              this.setState({ text: e.target.value });\r\n            }}\r\n            value={this.state.text}\r\n          ></textarea>\r\n          {!this.state.text && <span className=\"placeholder\">Сообщение</span>}\r\n          <Smiles onClick={this.showEmoji} className=\"smiles\" />\r\n          <CSSTransitionGroup\r\n            transitionName=\"emoji-animation-item\"\r\n            transitionEnterTimeout={100}\r\n            transitionLeaveTimeout={100}\r\n            style={{\r\n              display: \"contents\",\r\n            }}\r\n          >\r\n            {this.state.showEmoji && (\r\n              <Picker\r\n                showPreview={false}\r\n                onClick={(emoji, event) => {\r\n                  this.setState({\r\n                    text: this.state.text + emoji.native,\r\n                  });\r\n                }}\r\n                native={true}\r\n                showSearch={false}\r\n                showSkinTones={false}\r\n                i18n={settings.localizateEmoji}\r\n              />\r\n            )}\r\n          </CSSTransitionGroup>\r\n        </div>\r\n        <div className=\"sendAndMicro\">\r\n          <CSSTransitionGroup\r\n            transitionName=\"erase-animation-item\"\r\n            transitionEnterTimeout={100}\r\n            transitionLeaveTimeout={100}\r\n            style={{\r\n              display: \"contents\",\r\n            }}\r\n          >\r\n            {!this.state.text && !this.props.isContent && (\r\n              <Microphone onClick={this.props.recordStart} />\r\n            )}\r\n            {(this.state.text || this.props.isContent) && (\r\n              <Send\r\n                onClick={() => {\r\n                  let inputMessage = document.getElementById(\"input-message\");\r\n                  inputMessage.style.maxHeight = \"48px\";\r\n                  this.props.sendMessage(this.state.text);\r\n                }}\r\n              />\r\n            )}\r\n          </CSSTransitionGroup>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PanelStandart;\r\n","import React from \"react\";\r\nimport PngProgress from \"../img/progress-bar.png\";\r\nclass Avatar extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"progress-bar\">\r\n        <div\r\n          className=\"barLine\"\r\n          style={{\r\n            backgroundImage: `url(${PngProgress})`,\r\n            width: this.props.percent + \"%\",\r\n          }}\r\n        ></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Avatar;\r\n","import React from \"react\";\r\nimport Message from \"./Message\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport SocketController from \"../../controllers/SocketController\";\r\nimport PanelRecord from \"../../Partials/Chat/InputPanel/PanelRecord\";\r\nimport PanelStandart from \"../../Partials/Chat/InputPanel/PanelStandart\";\r\nimport RecentMessage from \"./RecentMessage\";\r\nimport ProgressBar from \"../../Elements/ProgressBar\";\r\nimport Fancybox from \"../../Elements/Fancybox.js\";\r\nimport { toast } from \"react-toastify\";\r\nimport api from \"../../config/api\";\r\n//Redux\r\nimport { connect } from \"react-redux\";\r\nimport * as dialogsActions from \"../../redux/actions/dialogs\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport ArrowDown from \"../../img/arrowDownperple.svg\";\r\nimport { ReactComponent as LoadGif } from \"../../img/Loading.svg\";\r\nimport { getAudioBufferData } from \"../../controllers/FunctionsController\";\r\nimport documentSvg from \"../../img/document.svg\";\r\nimport musicSvg from \"../../img/music.svg\";\r\nimport attachDelete from \"../../img/attachDelete.svg\";\r\n// Internet Explorer 6-11\r\nconst isIE = /*@cc_on!@*/ false || !!document.documentMode;\r\n\r\n// Edge 20+\r\nconst isEdge = !isIE && !!window.StyleMedia;\r\nlet waitActiveUser = false;\r\nlet waitFastRead = false;\r\nclass ScrollBottom extends React.Component {\r\n  render() {\r\n    return (\r\n      <div\r\n        id=\"scroll-to-bottom\"\r\n        className={`scroll-to-bottom`}\r\n        onClick={() => {\r\n          this.props.scrollToBottom();\r\n        }}\r\n      >\r\n        <img src={ArrowDown} alt=\"ArrowDown\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.inputPanel = React.createRef();\r\n    this.activePage = false;\r\n    this.canLoadAttach = true;\r\n  }\r\n  state = {\r\n    scrollTop: 0,\r\n    canTyping: true,\r\n    voiceSound: false,\r\n    isRecord: false,\r\n    setCordMessageScroll: false,\r\n    //Отвеченные сообщения\r\n    recentMessage: false,\r\n    sounds: [],\r\n    files: [],\r\n    images: [],\r\n    loadingFiles: [],\r\n    dataFancybox: {\r\n      images: false,\r\n      index: false,\r\n    },\r\n  };\r\n  onScroll() {\r\n    let scroll =\r\n      this.messagesBlock.getScrollHeight() - this.messagesBlock.getScrollTop();\r\n    this.setState({\r\n      scrollTop: scroll,\r\n    });\r\n    document.getElementById(\"load-message-gif\").style.top =\r\n      this.messagesBlock.getScrollTop() + \"px\";\r\n\r\n    if (\r\n      this.messagesBlock.getScrollTop() + this.messagesBlock.getClientHeight() <\r\n      this.messagesBlock.getScrollHeight() - 100\r\n    ) {\r\n      if (\r\n        !document\r\n          .getElementById(\"scroll-to-bottom\")\r\n          .classList.contains(\"active\")\r\n      ) {\r\n        document.getElementById(\"scroll-to-bottom\").classList.add(\"active\");\r\n      }\r\n    } else {\r\n      if (\r\n        document.getElementById(\"scroll-to-bottom\").classList.contains(\"active\")\r\n      ) {\r\n        document.getElementById(\"scroll-to-bottom\").classList.remove(\"active\");\r\n        if (!!this.props.unRead) {\r\n          this.readMessages();\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.props.dialog.canLoad && this.messagesBlock.getScrollTop() < 100) {\r\n      this.loadMessages();\r\n    }\r\n  }\r\n  scrollToBottom() {\r\n    if (this.messagesBlock) {\r\n      if (isEdge || isIE) this.messagesBlock.view.scrollTop = 100000;\r\n      else {\r\n        this.messagesBlock.view.scroll({\r\n          top: 100000,\r\n          left: 0,\r\n          behavior: \"smooth\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  loadToVictory(top) {\r\n    this.loadMessages(false).then(() => {\r\n      this.scrollTo(top);\r\n    });\r\n  }\r\n  scrollTo(top) {\r\n    let messageBlock = document.getElementById(\"message\" + top);\r\n    if (messageBlock) {\r\n      let topCord = messageBlock.offsetTop;\r\n      this.setState({ setCordMessageScroll: top });\r\n      setTimeout(() => {\r\n        this.setState({ setCordMessageScroll: false });\r\n      }, 5000);\r\n      if (this.messagesBlock) {\r\n        if (isEdge || isIE) this.messagesBlock.view.scrollTop = topCord;\r\n        else {\r\n          this.messagesBlock.view.scroll({\r\n            top: topCord,\r\n            left: 0,\r\n            behavior: \"smooth\",\r\n          });\r\n        }\r\n        document.getElementById(\"load-message-gif\").classList.remove(\"active\");\r\n      }\r\n    } else {\r\n      if (\r\n        !document\r\n          .getElementById(\"load-message-gif\")\r\n          .classList.contains(\"active\")\r\n      )\r\n        document.getElementById(\"load-message-gif\").classList.add(\"active\");\r\n      this.loadToVictory(top);\r\n    }\r\n  }\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextState.scrollTop !== this.state.scrollTop) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n  focusPage() {\r\n    let active;\r\n    if (\r\n      this.messagesBlock &&\r\n      this.messagesBlock.getScrollTop() + this.messagesBlock.getClientHeight() <\r\n        this.messagesBlock.getScrollHeight()\r\n    ) {\r\n      active = false;\r\n    } else {\r\n      active = true;\r\n    }\r\n    if (!this.activePage && active && !!this.props.unRead.length) {\r\n      if (waitActiveUser) clearTimeout(waitActiveUser);\r\n\r\n      this.readMessages();\r\n      this.activePage = true;\r\n\r\n      waitActiveUser = setTimeout(() => {\r\n        this.activePage = false;\r\n      }, 3000);\r\n    }\r\n  }\r\n  blurPage() {\r\n    this.activePage = false;\r\n  }\r\n  componentDidMount() {\r\n    window.addEventListener(\"blur\", this.blurPage.bind(this));\r\n    window.addEventListener(\"mousemove\", this.focusPage.bind(this));\r\n\r\n    if (this.messagesBlock) {\r\n      this.messagesBlock.view.scrollTop = 100000;\r\n    }\r\n    let drafts = { ...JSON.parse(localStorage.getItem(\"drafts\")) };\r\n\r\n    if (drafts[\"draft-\" + this.props.dialog._id])\r\n      this.inputPanel.current.setText(drafts[\"draft-\" + this.props.dialog._id]);\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      prevProps.dialog.messages.length < this.props.dialog.messages.length &&\r\n      JSON.stringify(prevProps.dialog.messages[0]) ===\r\n        JSON.stringify(this.props.dialog.messages[0]) &&\r\n      (this.messagesBlock.getScrollHeight() -\r\n        this.messagesBlock.getScrollTop() <\r\n        this.messagesBlock.getClientHeight() + 200 ||\r\n        prevProps.dialog.messages[prevProps.dialog.messages.length - 1].user\r\n          ._id === this.props.user._id)\r\n    ) {\r\n      if (this.activePage) {\r\n        this.readMessages();\r\n      }\r\n\r\n      this.scrollToBottom();\r\n\r\n      if (\r\n        document.getElementById(\"scroll-to-bottom\").classList.contains(\"active\")\r\n      )\r\n        document.getElementById(\"scroll-to-bottom\").classList.remove(\"active\");\r\n    }\r\n\r\n    if (\r\n      JSON.stringify(prevProps.dialog.messages[0]) !==\r\n      JSON.stringify(this.props.dialog.messages[0])\r\n    ) {\r\n      if (!this.state.setCordMessageScroll)\r\n        this.messagesBlock.scrollTop(\r\n          this.messagesBlock.getScrollHeight() - this.state.scrollTop\r\n        );\r\n      else this.scrollToBottom();\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"blur\", this.blurPage.bind(this));\r\n    window.removeEventListener(\"mousemove\", this.focusPage.bind(this));\r\n  }\r\n  loadMessages(controlGif = true) {\r\n    if (controlGif) {\r\n      document.getElementById(\"load-message-gif\").classList.add(\"active\");\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      this.props.dialogsActions\r\n        .loadMessages(\r\n          { dialogId: this.props.dialog._id },\r\n          this.props.user.apiToken,\r\n          !!this.props.dialog.orderId\r\n        )\r\n        .then(() => {\r\n          if (controlGif)\r\n            document\r\n              .getElementById(\"load-message-gif\")\r\n              .classList.remove(\"active\");\r\n          resolve();\r\n        });\r\n    });\r\n  }\r\n  //Отправка ввода\r\n  typing(newText, prevText) {\r\n    if (newText > prevText) {\r\n      if (this.state.canTyping) {\r\n        this.setState({ canTyping: false });\r\n        SocketController.typingDialog(\r\n          this.props.dialog.user._id,\r\n          this.props.user._id,\r\n          !!this.props.dialog.orderId\r\n        );\r\n      }\r\n\r\n      setTimeout(() => {\r\n        this.setState({ canTyping: true });\r\n      }, 2500);\r\n    }\r\n    let drafts = { ...JSON.parse(localStorage.getItem(\"drafts\")) };\r\n    drafts[\"draft-\" + this.props.dialogId] = newText;\r\n    if (\r\n      !drafts[\"draft-\" + this.props.dialogId] ||\r\n      !/\\S/.test(drafts[\"draft-\" + this.props.dialogId])\r\n    )\r\n      delete drafts[\"draft-\" + this.props.dialogId];\r\n    localStorage.setItem(\"drafts\", JSON.stringify(drafts));\r\n  }\r\n  //Отправка сообщения\r\n  sendMessage(text) {\r\n    return new Promise((resolve, reject) => {\r\n      if (\r\n        /\\S/.test(text) ||\r\n        !!this.state.images.length ||\r\n        !!this.state.files.length ||\r\n        !!this.state.sounds.length ||\r\n        !!this.state.voiceSound\r\n      ) {\r\n        let drafts = { ...JSON.parse(localStorage.getItem(\"drafts\")) };\r\n        delete drafts[\"draft-\" + this.props.dialog._id];\r\n        localStorage.setItem(\"drafts\", JSON.stringify(drafts));\r\n        this.props.dialogsActions.sendMessage(\r\n          {\r\n            text: !this.state.isRecord ? text : \"\",\r\n            userId: this.props.dialog.user._id,\r\n            images: this.state.images,\r\n            files: this.state.files,\r\n            voiceSound: this.state.voiceSound,\r\n            sounds: this.state.sounds,\r\n            recentMessage: this.state.recentMessage,\r\n            dialogId: this.props.dialog._id,\r\n          },\r\n          this.props.user.apiToken,\r\n          !!this.props.dialog.orderId\r\n        );\r\n\r\n        this.setState({\r\n          images: [],\r\n          sounds: [],\r\n          files: [],\r\n          voiceSound: false,\r\n          isRecord: false,\r\n          recentMessage: false,\r\n        });\r\n        if (!this.state.isRecord) this.inputPanel.current.setText(\"\");\r\n      }\r\n      resolve();\r\n    });\r\n  }\r\n  //Повторная отправка ошибочного сообщения\r\n  retrySendMessage(message) {\r\n    message.userId = this.props.dialog.user._id;\r\n    message.dialogId = this.props.dialog._id;\r\n    this.props.dialogsActions.retrySendMessage(\r\n      message,\r\n      this.props.user.apiToken,\r\n      !!this.props.dialog.orderId\r\n    );\r\n  }\r\n  //Удаление локального сообщения\r\n  deleteLocalMessage(_id) {\r\n    this.props.dialogsActions.deleteLocalMessage(\r\n      _id,\r\n      this.props.dialog._id,\r\n      !!this.props.dialog.orderId\r\n    );\r\n  }\r\n  setRecentMessage(message) {\r\n    this.setState({ recentMessage: message });\r\n  }\r\n  readMessages() {\r\n    if (waitFastRead) clearTimeout(waitFastRead);\r\n    waitFastRead = setTimeout(() => {\r\n      this.props.dialogsActions.readMessages(\r\n        {\r\n          dialogId: this.props.dialog._id,\r\n          otherId: this.props.dialog.user._id,\r\n          userId: this.props.user._id,\r\n        },\r\n        this.props.user.apiToken,\r\n        !!this.props.dialog.orderId\r\n      );\r\n    }, 100);\r\n  }\r\n  async addVoiceSound(data, duration, recordLine) {\r\n    let voiceSound = false;\r\n\r\n    if (data) {\r\n      voiceSound = {\r\n        path: URL.createObjectURL(data),\r\n        file: data,\r\n        name: \"Аудиозапись\",\r\n        duration: duration,\r\n        recordLine: recordLine,\r\n        type: \"mp3\",\r\n        size: data.size,\r\n      };\r\n    }\r\n    this.setState({ voiceSound });\r\n    return Promise.resolve();\r\n  }\r\n  recursiveLoad() {\r\n    let file = false;\r\n    if (this.state.loadingFiles.length) file = this.state.loadingFiles[0].file;\r\n    if (file) {\r\n      this.canLoadAttach = false;\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.responseType = \"json\";\r\n      xhr.upload.onprogress = (event) => {\r\n        this.setState({\r\n          loadingFiles: this.state.loadingFiles.map((item, index) => {\r\n            if (item.file.name == file.name) {\r\n              item.percentage = (event.loaded / event.total) * 100;\r\n              return item;\r\n            } else return item;\r\n          }),\r\n        });\r\n      };\r\n      xhr.onerror = xhr.onabort = (e) => {\r\n        this.setState({\r\n          loadingFiles: this.state.loadingFiles.filter(\r\n            (item) => {\r\n              return item.file.name !== file.name;\r\n            },\r\n            () => {\r\n              this.canLoadAttach = true;\r\n            }\r\n          ),\r\n        });\r\n      };\r\n      xhr.onload = (e) => {\r\n        this.setState(\r\n          {\r\n            loadingFiles: this.state.loadingFiles.filter((item) => {\r\n              return item.file.name !== file.name;\r\n            }),\r\n          },\r\n          async () => {\r\n            await this.addFile(e.target.response, file);\r\n            this.canLoadAttach = true;\r\n            this.recursiveLoad();\r\n          }\r\n        );\r\n      };\r\n\r\n      xhr.open(\"POST\", `${api.urlApi}/api/dialog/load-file`, true);\r\n      xhr.setRequestHeader(\r\n        \"Authorization\",\r\n        `Bearer ${this.props.user.apiToken}`\r\n      );\r\n      var formData = new FormData();\r\n      formData.append(\"file\", file);\r\n      xhr.send(formData);\r\n    }\r\n  }\r\n  loadFiles(e) {\r\n    let sounds = [...this.state.sounds];\r\n    let files = [...this.state.files];\r\n    let images = [...this.state.images];\r\n    let InputFile = e.target;\r\n    let counter = sounds.length + files.length + images.length;\r\n    let newFiles = [];\r\n    for (let i = 0; i < InputFile.files.length; i++) {\r\n      if (counter > 9) {\r\n        toast.error(\"Max upload 10 attachments!\", {\r\n          position: toast.POSITION.TOP_CENTER,\r\n        });\r\n        break;\r\n      }\r\n      newFiles.push({\r\n        file: InputFile.files[i],\r\n        percentage: 0,\r\n      });\r\n      counter++;\r\n      this.setState(\r\n        {\r\n          loadingFiles: [...this.state.loadingFiles, ...newFiles],\r\n        },\r\n        () => {\r\n          if (this.canLoadAttach) this.recursiveLoad();\r\n        }\r\n      );\r\n    }\r\n  }\r\n  async addFile(fileUrl, fileBlob) {\r\n    let sounds = [...this.state.sounds];\r\n    let files = [...this.state.files];\r\n    let images = [...this.state.images];\r\n    fileUrl.type = fileBlob.name.split(\".\").pop();\r\n    if (\r\n      fileUrl.type === \"png\" ||\r\n      fileUrl.type === \"jpg\" ||\r\n      fileUrl.type === \"jpeg\" ||\r\n      fileUrl.type === \"gif\"\r\n    ) {\r\n      fileUrl.id = images.length;\r\n      images.push(fileUrl);\r\n    }\r\n\r\n    if (\r\n      fileUrl.type === \"txt\" ||\r\n      fileUrl.type === \"pdf\" ||\r\n      fileUrl.type === \"docx\" ||\r\n      fileUrl.type === \"zip\" ||\r\n      fileUrl.type === \"doc\"\r\n    ) {\r\n      fileUrl.id = files.length;\r\n      files.push(fileUrl);\r\n    }\r\n\r\n    if (fileUrl.type === \"mp3\") {\r\n      fileUrl.id = sounds.length;\r\n      let audioData = await getAudioBufferData(\r\n        (window.URL || window.webkitURL).createObjectURL(\r\n          new Blob([fileBlob], { type: fileBlob.type })\r\n        )\r\n      );\r\n      let duration = audioData.duration;\r\n      let recordLine = audioData.recordLine;\r\n      sounds.push({ ...fileUrl, duration, recordLine });\r\n    }\r\n    this.setState({ sounds, files, images }, () => {\r\n      return Promise.resolve();\r\n    });\r\n  }\r\n  addImageToFancyBox(images, index) {\r\n    this.setState({\r\n      dataFancybox: {\r\n        images,\r\n        index,\r\n      },\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"message-container\">\r\n          <div className=\"dialog-wrap\">\r\n            <Scrollbars\r\n              onScroll={() => {\r\n                this.onScroll();\r\n              }}\r\n              ref={(ref) => {\r\n                this.messagesBlock = ref;\r\n              }}\r\n              renderTrackVertical={(props) => (\r\n                <div className=\"track-vertical\" />\r\n              )}\r\n              renderThumbVertical={(props) => (\r\n                <div className=\"thumb-vertical\" />\r\n              )}\r\n              className=\"dialog scroll\"\r\n              autoHide\r\n            >\r\n              <LoadGif id=\"load-message-gif\" className=\"load-message\"></LoadGif>\r\n\r\n              {!!this.props.dialog.messages.length &&\r\n                this.props.dialog.messages.map((message, index, messages) => {\r\n                  let prevMessage = messages[index - 1]\r\n                    ? messages[index - 1]\r\n                    : false;\r\n                  return (\r\n                    <Message\r\n                      key={message._id}\r\n                      index={index}\r\n                      scrollingMessage={this.state.setCordMessageScroll}\r\n                      user={this.props.user}\r\n                      scrollTo={(top) => {\r\n                        this.scrollTo(top);\r\n                      }}\r\n                      retrySendMessage={this.retrySendMessage.bind(this)}\r\n                      setRecentMessage={this.setRecentMessage.bind(this)}\r\n                      deleteLocalMessage={this.deleteLocalMessage.bind(this)}\r\n                      prevMessage={prevMessage}\r\n                      message={message}\r\n                      addImageToFancyBox={this.addImageToFancyBox.bind(this)}\r\n                    ></Message>\r\n                  );\r\n                })}\r\n              {!this.props.dialog.isFetching &&\r\n                !this.props.dialog.messages.length && (\r\n                  <div className=\"messages-block\">\r\n                    <div className=\"col pl-0 avatar-message\"></div>\r\n                    <div className=\"col row pl-0\">\r\n                      <div className=\"col-12\">Сообщений еще небыло</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n              <div className=\"dialog-typers\">\r\n                <div\r\n                  className=\"messages-block\"\r\n                  style={{\r\n                    height: \"21px\",\r\n                  }}\r\n                >\r\n                  {this.props.dialog.typing && (\r\n                    <>\r\n                      <div className=\"avatar-message d-flex\"></div>\r\n                      <div className=\"col dialog-content\">\r\n                        <div className=\"message-content\">\r\n                          <div className=\"reading-status\">\r\n                            {this.props.dialog.user.name.last}&#8194;\r\n                            {this.props.dialog.user.name.first} печатает\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </Scrollbars>\r\n          </div>\r\n          <ScrollBottom\r\n            scrollToBottom={() => {\r\n              this.scrollToBottom();\r\n            }}\r\n          />\r\n          <div className=\"message-panel \">\r\n            {this.state.recentMessage && (\r\n              <RecentMessage message={this.state.recentMessage} />\r\n            )}\r\n            <div className=\"panel\">\r\n              {!this.state.isRecord && (\r\n                <PanelStandart\r\n                  ref={this.inputPanel}\r\n                  recordStart={() => {\r\n                    let getMedia = (\r\n                      navigator.getUserMedia ||\r\n                      navigator.webkitGetUserMedia ||\r\n                      navigator.mozGetUserMedia ||\r\n                      navigator.msGetUserMedia\r\n                    ).bind(navigator);\r\n                    getMedia(\r\n                      { audio: true, video: false },\r\n                      (stream) => {\r\n                        this.setState({ isRecord: true });\r\n                      },\r\n                      () => {\r\n                        toast.error(\"Микрофон не обнаружен\", {\r\n                          position: toast.POSITION.TOP_CENTER,\r\n                        });\r\n                      }\r\n                    );\r\n                  }}\r\n                  isContent={\r\n                    !!this.state.sounds.length ||\r\n                    !!this.state.images.length ||\r\n                    !!this.state.files.length\r\n                  }\r\n                  loadFiles={this.loadFiles.bind(this)}\r\n                  sendMessage={this.sendMessage.bind(this)}\r\n                  typing={this.typing.bind(this)}\r\n                />\r\n              )}\r\n              {this.state.isRecord && (\r\n                <>\r\n                  <PanelRecord\r\n                    addVoiceSound={this.addVoiceSound.bind(this)}\r\n                    stopRec={() => {\r\n                      this.setState({ isRecord: false });\r\n                    }}\r\n                    sendMessage={this.sendMessage.bind(this)}\r\n                  />\r\n                </>\r\n              )}\r\n            </div>\r\n            <div\r\n              className=\"filesAttach\"\r\n              style={{\r\n                height:\r\n                  !!this.state.images.length ||\r\n                  !!this.state.files.length ||\r\n                  !!this.state.sounds.length ||\r\n                  !!this.state.loadingFiles.length\r\n                    ? \"250px\"\r\n                    : \"\",\r\n              }}\r\n            >\r\n              <Scrollbars\r\n                renderTrackVertical={(props) => (\r\n                  <div className=\"track-vertical\" />\r\n                )}\r\n                renderThumbVertical={(props) => (\r\n                  <div className=\"thumb-vertical\" />\r\n                )}\r\n                renderTrackHorizontal={(props) => (\r\n                  <div\r\n                    {...props}\r\n                    className=\"track-horizontal\"\r\n                    style={{ display: \"none\" }}\r\n                  />\r\n                )}\r\n                renderThumbHorizontal={(props) => (\r\n                  <div\r\n                    {...props}\r\n                    className=\"thumb-horizontal\"\r\n                    style={{ display: \"none\" }}\r\n                  />\r\n                )}\r\n                autoHide\r\n              >\r\n                <div className=\"loading-area\">\r\n                  {this.state.loadingFiles.map((item, index) => {\r\n                    return (\r\n                      <>\r\n                        <div key={index} className=\"attach-item\">\r\n                          <ProgressBar percent={item.percentage} />\r\n                          <span className=\"file-name\">{item.file.name}</span>\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })}\r\n                </div>\r\n                <div className=\"images-area attath-area\">\r\n                  {this.state.images.map((item, index) => {\r\n                    return (\r\n                      <>\r\n                        <div key={index} className=\"attach-item\">\r\n                          <img\r\n                            src={item.path}\r\n                            className=\"image-message\"\r\n                            alt=\"\"\r\n                          />\r\n                          <img\r\n                            className=\"attachDelete\"\r\n                            onClick={() => {\r\n                              this.setState({\r\n                                images: this.state.images.filter(\r\n                                  (item, indexR) => {\r\n                                    return indexR != index;\r\n                                  }\r\n                                ),\r\n                              });\r\n                            }}\r\n                            src={attachDelete}\r\n                            alt=\"attachDelete\"\r\n                          />\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })}\r\n                </div>\r\n                <div className=\"sounds-area attath-area\">\r\n                  {this.state.sounds.map((item, index) => {\r\n                    return (\r\n                      <>\r\n                        <div key={index} className=\"attach-item\">\r\n                          <img\r\n                            className=\"typeImg\"\r\n                            src={musicSvg}\r\n                            alt=\"musicSvg\"\r\n                          />\r\n                          <span className=\"file-name\">{item.name}</span>\r\n                          <img\r\n                            className=\"attachDelete\"\r\n                            onClick={() => {\r\n                              this.setState({\r\n                                sounds: this.state.sounds.filter(\r\n                                  (item, indexR) => {\r\n                                    return indexR != index;\r\n                                  }\r\n                                ),\r\n                              });\r\n                            }}\r\n                            src={attachDelete}\r\n                            alt=\"attachDelete\"\r\n                          />\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })}\r\n                </div>\r\n                <div className=\"files-area attath-area\">\r\n                  {this.state.files.map((item, index) => {\r\n                    return (\r\n                      <>\r\n                        <div key={index} className=\"attach-item\">\r\n                          <img className=\"typeImg\" src={documentSvg} alt=\"\" />\r\n                          <div>\r\n                            <div className=\"file-name\">{item.name}</div>\r\n                            <div className=\"file-size\">\r\n                              {item.size > 1048576\r\n                                ? Math.floor(item.size / 1048576) + \"Мб.\"\r\n                                : Math.floor(item.size / 1024) + \"Кб.\"}\r\n                            </div>\r\n                          </div>\r\n                          <img\r\n                            className=\"attachDelete\"\r\n                            src={attachDelete}\r\n                            onClick={() => {\r\n                              this.setState({\r\n                                files: this.state.files.filter(\r\n                                  (item, indexR) => {\r\n                                    return indexR != index;\r\n                                  }\r\n                                ),\r\n                              });\r\n                            }}\r\n                            alt=\"attachDelete\"\r\n                          />\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </Scrollbars>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <CSSTransitionGroup\r\n          transitionName=\"fancybox-animation\"\r\n          transitionEnterTimeout={300}\r\n          transitionLeaveTimeout={300}\r\n        >\r\n          {this.state.dataFancybox.images && (\r\n            <Fancybox\r\n              close={() => {\r\n                this.setState({\r\n                  dataFancybox: { images: false, index: false },\r\n                });\r\n              }}\r\n              images={this.state.dataFancybox.images}\r\n              index={this.state.dataFancybox.index}\r\n            />\r\n          )}\r\n        </CSSTransitionGroup>\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    dialogs: state.dialogs,\r\n  };\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    dialogsActions: bindActionCreators(dialogsActions, dispatch),\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dialog);\r\n","// App\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Chat from \"../../../Partials/Chat/Dialog\";\r\nimport NoMatch from \"../../NoMatch\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { withLastLocation } from \"react-router-last-location\";\r\nimport * as dialogsActions from \"../../../redux/actions/dialogs\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { OnlineDate } from \"../../../controllers/TimeController\";\r\nimport ArrowDown from \"../../../img/arrowDownperple.svg\";\r\nimport Loading from \"../../../Elements/Loading\";\r\nclass Messages extends React.Component {\r\n  state = {\r\n    isFetching: true,\r\n  };\r\n  componentDidMount() {\r\n    let dialogs = this.props.dialogs.dialogsUser;\r\n\r\n    if (\r\n      !dialogs.dialogs.find(\r\n        (dialog) => dialog.user._id === this.props.match.params.id\r\n      )\r\n    ) {\r\n      this.props.dialogsActions\r\n        .dialogGet(this.props.match.params.id, this.props.user.apiToken)\r\n        .then(() => {\r\n          this.setState({ isFetching: false });\r\n        });\r\n    } else {\r\n      this.props.dialogsActions.updateOnline(\r\n        this.props.match.params.id,\r\n        this.props.user.apiToken\r\n      );\r\n\r\n      if (\r\n        !dialogs.dialogs.find(\r\n          (dialog) => dialog.user._id === this.props.match.params.id\r\n        ).isGetted\r\n      )\r\n        this.props.dialogsActions.dialogLoad(\r\n          this.props.match.params.id,\r\n          this.props.user.apiToken\r\n        );\r\n      this.setState({ isFetching: false });\r\n    }\r\n  }\r\n  render() {\r\n    let dialog = this.props.dialogs.dialogsUser.dialogs.find((dialog) => {\r\n      return dialog.user._id === this.props.match.params.id;\r\n    });\r\n\r\n    return (\r\n      <>\r\n        <Loading isLoading={this.state.isFetching} />\r\n        {dialog && !dialog.isNotFound && (\r\n          <div className=\"article-page\">\r\n            <div className=\"container-fluid\">\r\n              <h2 className=\"title\">Сообщения</h2>\r\n              <div className=\"chat-header mt-3\">\r\n                <div className=\"mb-1\">\r\n                  <Link\r\n                    className=\"href hover left-angle f-14 angle-go\"\r\n                    to=\"/\"\r\n                    style={{\r\n                      maxWidth: \"50px\",\r\n                      marginLeft: \"20px\",\r\n                    }}\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      if (this.props.lastLocation) {\r\n                        this.props.history.push(\r\n                          this.props.lastLocation.pathname\r\n                        );\r\n                      } else {\r\n                        this.props.history.push(\"/messages\");\r\n                      }\r\n                    }}\r\n                  >\r\n                    Назад\r\n                  </Link>\r\n                  <span className=\"d-inline-block f-18 text-left mr-3\">\r\n                    {dialog.user.name.last} {dialog.user.name.first}{\" \"}\r\n                    {dialog.user.name.middle}\r\n                  </span>\r\n                  <span className=\"online\">\r\n                    {!dialog.user.online && (\r\n                      <>{OnlineDate(dialog.user.onlineAt)}</>\r\n                    )}\r\n                    {dialog.user.online && <>online</>}\r\n                  </span>\r\n                </div>\r\n                <hr />\r\n              </div>\r\n            </div>\r\n            <Chat\r\n              unRead={dialog.messages.filter(\r\n                (x) => !x.isRead && x.user._id !== this.props.user._id\r\n              )}\r\n              loading={dialog && !dialog.isGetted}\r\n              dialog={dialog}\r\n            />\r\n          </div>\r\n        )}\r\n        {!this.state.isFetching && (!dialog || dialog.isNotFound) && (\r\n          <NoMatch />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    dialogs: state.dialogs,\r\n  };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    dialogsActions: bindActionCreators(dialogsActions, dispatch),\r\n  };\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(withLastLocation(Messages)));\r\n","// App\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Chat from \"../../../Partials/Chat/Dialog\";\r\nimport NoMatch from \"../../NoMatch\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { withLastLocation } from \"react-router-last-location\";\r\nimport * as dialogsActions from \"../../../redux/actions/dialogs\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { OnlineDate } from \"../../../controllers/TimeController\";\r\nimport ArrowDown from \"../../../img/arrowDownperple.svg\";\r\nimport Loading from \"../../../Elements/Loading\";\r\nclass Messages extends React.Component {\r\n  state = {\r\n    isFetching: true,\r\n  };\r\n  componentDidMount() {\r\n    let dialogs = this.props.dialogs.dialogsOrder;\r\n    if (\r\n      !dialogs.dialogs.find(\r\n        (dialog) =>\r\n          dialog.user._id === this.props.match.params.id &&\r\n          dialog.orderId._id === this.props.match.params.order\r\n      )\r\n    ) {\r\n      this.props.dialogsActions\r\n        .dialogOrderGet(\r\n          this.props.match.params.id,\r\n          this.props.match.params.order,\r\n          this.props.user.apiToken\r\n        )\r\n        .then(() => {\r\n          this.setState({ isFetching: false });\r\n        });\r\n    } else {\r\n      this.props.dialogsActions.updateOnline(\r\n        this.props.match.params.id,\r\n        this.props.user.apiToken\r\n      );\r\n      if (\r\n        !dialogs.dialogs.find(\r\n          (dialog) =>\r\n            dialog.user._id === this.props.match.params.id &&\r\n            dialog.orderId._id === this.props.match.params.order\r\n        ).isGetted\r\n      )\r\n        this.props.dialogsActions.dialogOrderLoad(\r\n          this.props.match.params.id,\r\n          this.props.match.params.order,\r\n          this.props.user.apiToken\r\n        );\r\n      this.setState({ isFetching: false });\r\n    }\r\n  }\r\n  render() {\r\n    let dialog = this.props.dialogs.dialogsOrder.dialogs.find(\r\n      (dialog) => dialog.user._id === this.props.match.params.id\r\n    );\r\n    return (\r\n      <>\r\n        <Loading isLoading={this.state.isFetching} />\r\n        {dialog && !dialog.isNotFound && (\r\n          <div className=\"article-page\">\r\n            <div className=\"container-fluid\">\r\n              <h2 className=\"title\">Сообщения</h2>\r\n              <div className=\"chat-header mt-3\">\r\n                <div className=\"mb-1\">\r\n                  <Link\r\n                    className=\"href hover left-angle f-14 angle-go\"\r\n                    to=\"/\"\r\n                    style={{\r\n                      maxWidth: \"50px\",\r\n                      marginLeft: \"20px\",\r\n                    }}\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      if (this.props.lastLocation) {\r\n                        this.props.history.push(\r\n                          this.props.lastLocation.pathname\r\n                        );\r\n                      } else {\r\n                        this.props.history.push(\"/messages\");\r\n                      }\r\n                    }}\r\n                  >\r\n                    Назад\r\n                  </Link>\r\n                  <span className=\"d-inline-block f-18 text-left mr-3\">\r\n                    {dialog.user.name.last} {dialog.user.name.first}{\" \"}\r\n                    {dialog.user.name.middle}\r\n                  </span>\r\n                  <span className=\"online\">\r\n                    {!dialog.user.online && (\r\n                      <>{OnlineDate(dialog.user.onlineAt)}</>\r\n                    )}\r\n                    {dialog.user.online && <>online</>}\r\n                  </span>\r\n                </div>\r\n                <div className=\"row description-chat\">\r\n                  <div\r\n                    className=\"col f-14\"\r\n                    style={{\r\n                      maxWidth: \"135px\",\r\n                    }}\r\n                  >\r\n                    {dialog.orderId.type === \"offer\" ? \"Предложение\" : \"Заказ\"}№\r\n                    {dialog.orderId.articleId}\r\n                  </div>\r\n                  <div className=\"col-12 col-sm f-14\">\r\n                    {dialog.orderId.to.data.country}, {dialog.orderId.to.value}\r\n                  </div>\r\n                  <div\r\n                    className=\"col\"\r\n                    style={{\r\n                      maxWidth: \"128px\",\r\n                    }}\r\n                  >\r\n                    <Link\r\n                      className=\"f-12 href\"\r\n                      to={`/${dialog.orderId.type}/${dialog.orderId.articleId}`}\r\n                    >\r\n                      Открыть\r\n                      <img\r\n                        className=\"ml-2\"\r\n                        src={ArrowDown}\r\n                        width=\"10\"\r\n                        height=\"7\"\r\n                        alt=\"ArrowDown\"\r\n                      />\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n              </div>\r\n            </div>\r\n            <Chat\r\n              unRead={dialog.messages.filter(\r\n                (x) => !x.isRead && x.user._id !== this.props.user._id\r\n              )}\r\n              loading={dialog && !dialog.isGetted}\r\n              dialog={dialog}\r\n            />\r\n          </div>\r\n        )}\r\n        {!this.state.isFetching && (!dialog || dialog.isNotFound) && (\r\n          <NoMatch />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    dialogs: state.dialogs,\r\n  };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    dialogsActions: bindActionCreators(dialogsActions, dispatch),\r\n  };\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(withLastLocation(Messages)));\r\n","import { GEOARTICLES_GET } from \"../constants\";\r\nimport store from \"../store\";\r\nimport api from \"../../config/api\";\r\n\r\nexport const geoArticlesGet = (apiToken) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${api.urlApi}/api/article/getGeoArticles`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${apiToken}`,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ articles }) => {\r\n        if (articles)\r\n          dispatch({ type: GEOARTICLES_GET, payload: { articles } });\r\n        resolve();\r\n      });\r\n  });\r\n};\r\n","// App\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as GeoActions from \"../../redux/actions/geoarticle\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport Loading from \"../../Elements/Loading\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport Select from \"../../Elements/Select\";\r\nimport Button from \"../../Elements/Button\";\r\nimport { Map, Placemark } from \"react-yandex-maps\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport geolocation from \"../../img/carGeo.svg\";\r\nimport { toast } from \"react-toastify\";\r\nimport api from \"../../config/api\";\r\n// Router\r\n\r\nclass GeoDetect extends React.Component {\r\n  state = {\r\n    articleId: false,\r\n  };\r\n  componentDidMount() {\r\n    if (!this.props.articles.isGetted)\r\n      this.props.GeoActions.geoArticlesGet(this.props.user.apiToken).then(\r\n        () => {\r\n          if (!!this.props.location.hash)\r\n            this.setState({ articleId: this.props.location.hash.slice(1) });\r\n          else if (!!this.props.articles.articles.length)\r\n            this.setState({ articleId: this.props.articles.articles[0]._id });\r\n        }\r\n      );\r\n    else {\r\n      if (!!this.props.location.hash)\r\n        this.setState({ articleId: this.props.location.hash.slice(1) });\r\n      else if (!!this.props.articles.articles.length)\r\n        this.setState({ articleId: this.props.articles.articles[0]._id });\r\n    }\r\n  }\r\n  componentDidUpdate(b) {\r\n    if (\r\n      this.props.articles.articles.length > 0 &&\r\n      b.articles.articles.length === 0\r\n    )\r\n      this.setState({ articleId: this.props.articles.articles[0]._id });\r\n  }\r\n  sendRequestLocation = () => {\r\n    fetch(`${api.urlApi}/api/article/requestGeolocation`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${this.props.user.apiToken}`,\r\n      },\r\n      body: JSON.stringify({\r\n        articleId: this.state.articleId,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ error }) => {\r\n        if (!error) toast.success(\"Запрос местоположения отправлен\");\r\n        if (error) toast.error(\"Ошибка запроса\");\r\n      });\r\n  };\r\n  render() {\r\n    let article = this.props.articles.articles.find(\r\n      (item) => item._id === this.state.articleId\r\n    );\r\n\r\n    return (\r\n      <div className=\"standart-page\">\r\n        <div className=\"container-fluid\">\r\n          <h2 className=\"title mb-0\">Отслеживание</h2>\r\n          <Loading isLoading={this.props.articles.isFetching}></Loading>\r\n          <CSSTransitionGroup\r\n            transitionName=\"height-animation-item\"\r\n            transitionEnterTimeout={500}\r\n            transitionLeaveTimeout={1}\r\n            style={{\r\n              display: \"contents\",\r\n            }}\r\n          >\r\n            {!this.props.articles.isFetching && (\r\n              <>\r\n                <Select\r\n                  options={this.props.articles.articles.map((item) => {\r\n                    return {\r\n                      value: item._id,\r\n                      label:\r\n                        (item.type === \"order\" ? \"Заказ\" : \"Предложение\") +\r\n                        \" №\" +\r\n                        item.articleId,\r\n                    };\r\n                  })}\r\n                  onChange={(val) => {\r\n                    this.setState({\r\n                      articleId: val.value,\r\n                    });\r\n                  }}\r\n                  value={\r\n                    article && {\r\n                      value: article._id,\r\n                      label:\r\n                        (article.type === \"order\" ? \"Заказ\" : \"Предложение\") +\r\n                        \" №\" +\r\n                        article.articleId,\r\n                    }\r\n                  }\r\n                />\r\n                {!article && !!this.props.articles.articles.length && (\r\n                  <div className=\"text-center mt-4\">\r\n                    Отслеживание больше не доступно\r\n                  </div>\r\n                )}\r\n                {!article && !this.props.articles.articles.length && (\r\n                  <div className=\"text-center mt-4\">\r\n                    Заказов/предложений в пути пока нет\r\n                  </div>\r\n                )}\r\n                {article &&\r\n                  article.lastCarrierLocation &&\r\n                  new Date(article.lastCarrierLocation.date).getTime() +\r\n                    1000 * 60 * 60 * 3 <\r\n                    new Date() && (\r\n                    <div className=\"text-center mt-4\">\r\n                      Перевозчик давно не обновлял свое местоположение\r\n                      <div>\r\n                        <Button type=\"fill\" onClick={this.sendRequestLocation}>\r\n                          Запросить местоположение\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                {article && (\r\n                  <Map\r\n                    instanceRef={(ref) => {\r\n                      this.mapFrom = ref;\r\n                    }}\r\n                    defaultState={{\r\n                      center:\r\n                        article.lastCarrierLocation &&\r\n                        article.lastCarrierLocation.coordinates.length\r\n                          ? article.lastCarrierLocation.coordinates\r\n                          : article.fromLocation.coordinates,\r\n                      zoom: 15,\r\n                    }}\r\n                    style={{\r\n                      marginTop: \"21px\",\r\n                      height: \"500px\",\r\n                      width: \"100%\",\r\n                    }}\r\n                    modules={[\r\n                      \"geoObject.addon.balloon\",\r\n                      \"geoObject.addon.hint\",\r\n                    ]}\r\n                  >\r\n                    <Placemark\r\n                      options={{\r\n                        iconColor: \"#F5D210\",\r\n                      }}\r\n                      properties={{\r\n                        hintContent: article.from.value,\r\n                        iconCaption: \"Начальная точка\",\r\n                        balloonContentHeader: \"Начальная точка\",\r\n                        balloonContentBody: article.from.value,\r\n                      }}\r\n                      я\r\n                      geometry={article.fromLocation.coordinates}\r\n                    />\r\n                    {article.lastCarrierLocation &&\r\n                      article.lastCarrierLocation.coordinates.length && (\r\n                        <Placemark\r\n                          options={{\r\n                            iconLayout: \"default#image\",\r\n                            iconImageHref: geolocation,\r\n                          }}\r\n                          date\r\n                          properties={{\r\n                            iconCaption: \"Расположение перевозчика\",\r\n                            hintContent:\r\n                              new Date(\r\n                                article.lastCarrierLocation.date\r\n                              ).toDateR() +\r\n                              \" \" +\r\n                              new Date(article.lastCarrierLocation.date).toHM(),\r\n                          }}\r\n                          geometry={article.lastCarrierLocation.coordinates}\r\n                        />\r\n                      )}\r\n                    <Placemark\r\n                      options={{\r\n                        iconColor: \"#D36161\",\r\n                      }}\r\n                      properties={{\r\n                        iconCaption: \"Конечная точка\",\r\n                        hintContent: article.to.value,\r\n                        balloonContentHeader: \"Конечная точка\",\r\n                        balloonContentBody: article.to.value,\r\n                      }}\r\n                      geometry={article.toLocation.coordinates}\r\n                    />\r\n                  </Map>\r\n                )}\r\n              </>\r\n            )}\r\n          </CSSTransitionGroup>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    articles: state.geoarticles,\r\n  };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    GeoActions: bindActionCreators(GeoActions, dispatch),\r\n  };\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(GeoDetect));\r\n","// App\r\nimport React from \"react\";\r\nimport api from \"../config/api\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport Loading from \"../Elements/Loading\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport NoMatch from \"./NoMatch\";\r\nimport { setForceTitle } from \"../functions/functions\";\r\n\r\nclass Page extends React.Component {\r\n  state = {\r\n    page: {},\r\n    notFound: false,\r\n    isFetching: true,\r\n  };\r\n  componentDidMount() {\r\n    fetch(`${api.urlApi}/api/page`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        slug: this.props.match.params.slug,\r\n        isPrivate: !!this.props.isPrivate,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ error, page }) => {\r\n        if (error) {\r\n          this.setState({\r\n            isFetching: false,\r\n            notFound: true,\r\n          });\r\n        }\r\n        if (!error && page) {\r\n          this.setState({\r\n            isFetching: false,\r\n            page: page,\r\n          });\r\n          setForceTitle(page.title);\r\n        }\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"static-page\">\r\n          <Loading isLoading={this.state.isFetching} />\r\n          <CSSTransitionGroup\r\n            transitionName=\"height-animation-item\"\r\n            transitionEnterTimeout={500}\r\n            transitionLeaveTimeout={1}\r\n            style={{\r\n              display: \"contents\",\r\n            }}\r\n          >\r\n            {!this.state.isFetching && !this.state.notFound && (\r\n              <div className=\"container-fluid\">\r\n                <h1 className=\"title\">{this.state.page.title}</h1>\r\n                <div\r\n                  className=\"content\"\r\n                  dangerouslySetInnerHTML={{ __html: this.state.page.content }}\r\n                ></div>\r\n              </div>\r\n            )}\r\n          </CSSTransitionGroup>\r\n          {!this.state.isFetching && this.state.notFound && <NoMatch />}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Page);\r\n","// App\r\nimport React from \"react\";\r\nimport api from \"../config/api\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport Loading from \"../Elements/Loading\";\r\nimport Meta from \"../Elements/Meta\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport NoMatch from \"./NoMatch\";\r\nimport { setForceTitle } from \"../functions/functions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nconst scrollToAnswer = (ref) => {\r\n  ref.current.scrollIntoView({\r\n    behavior: \"smooth\",\r\n  });\r\n};\r\nclass Questions extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.questionsRef = [];\r\n  }\r\n  state = {\r\n    partial: {},\r\n    notFound: false,\r\n    isFetching: true,\r\n  };\r\n  componentDidMount() {\r\n    fetch(`${api.urlApi}/api/page/question`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        slug: this.props.match.params.slug,\r\n        type: this.props.user.isAuth ? this.props.user.type : \"all\",\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ error, partial }) => {\r\n        if (error) {\r\n          this.setState({\r\n            isFetching: false,\r\n            notFound: true,\r\n          });\r\n        }\r\n        if (!error && partial) {\r\n          partial.questions = partial.questions.map((item) => {\r\n            return { ...item, ref: React.createRef() };\r\n          });\r\n          this.setState(\r\n            {\r\n              isFetching: false,\r\n              partial: partial,\r\n            },\r\n            () => {\r\n              let element = document.getElementById(\r\n                this.props.location.hash.slice(1)\r\n              );\r\n              if (element)\r\n                element.scrollIntoView({\r\n                  behavior: \"smooth\",\r\n                });\r\n            }\r\n          );\r\n          setForceTitle(partial.title);\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"about-page\">\r\n          <Loading isLoading={this.state.isFetching} />\r\n          <CSSTransitionGroup\r\n            transitionName=\"height-animation-item\"\r\n            transitionEnterTimeout={500}\r\n            transitionLeaveTimeout={1}\r\n            style={{\r\n              display: \"contents\",\r\n            }}\r\n          >\r\n            {!this.state.isFetching && !this.state.notFound && (\r\n              <div className=\"container-fluid\">\r\n                <Meta\r\n                  keyMeta=\"questions\"\r\n                  options={{\r\n                    partial: this.state.partial.title,\r\n                    text: this.state.partial.questions.map(\r\n                      (question, index, all) => {\r\n                        return (\r\n                          question.title +\r\n                          (index !== 0 && index !== all.length ? \"\" : \"\") +\r\n                          (index === all.length ? \".\" : \"\")\r\n                        );\r\n                      }\r\n                    ),\r\n                  }}\r\n                />\r\n                <a\r\n                  className=\"href hover left-angle  angle-go d-block\"\r\n                  style={{\r\n                    maxWidth: \"50px\",\r\n                  }}\r\n                  onClick={() => {\r\n                    if (this.props.user.isAuth)\r\n                      this.props.history.push(\"/support\");\r\n                    else this.props.history.push(\"/faq\");\r\n                  }}\r\n                >\r\n                  Назад\r\n                </a>\r\n                <h1>{this.state.partial.title}</h1>\r\n                <ul className=\"head-list\">\r\n                  {this.state.partial.questions.map((question, index) => {\r\n                    return (\r\n                      <li key={index}>\r\n                        <Link\r\n                          to={\"\"}\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            scrollToAnswer(question.ref);\r\n                          }}\r\n                        >\r\n                          {question.title} »\r\n                        </Link>\r\n                      </li>\r\n                    );\r\n                  })}\r\n                </ul>\r\n                {this.state.partial.questions.map((question, index) => {\r\n                  return (\r\n                    <div id={question._id} key={index}>\r\n                      <h2 ref={question.ref}>{question.title}</h2>\r\n                      <div\r\n                        className=\"content\"\r\n                        dangerouslySetInnerHTML={{ __html: question.content }}\r\n                      ></div>\r\n                      <hr></hr>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </CSSTransitionGroup>\r\n          {!this.state.isFetching && this.state.notFound && <NoMatch />}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withRouter(Questions));\r\n","import React from \"react\";\r\n// Pages\r\nimport Profile from \"../Pages/User/Profile\";\r\nimport MyArticles from \"../Pages/User/MyArticles\";\r\nimport TakingArticles from \"../Pages/User/TakingArticles\";\r\nimport CreateTemplateAuto from \"../Pages/User/CreatePart/CreateTemplateAuto\";\r\nimport MyTemplateAuto from \"../Pages/User/MyTemplateCar\";\r\nimport User from \"../Pages/Public/User\";\r\nimport ArticlePage from \"../Pages/User/ArticlePage\";\r\nimport Notifications from \"../Pages/User/Notifications/Notifications\";\r\nimport NotificationsSettings from \"../Pages/User/Notifications/NotificationsSettings\";\r\nimport NewOffer from \"../Pages/User/NewOffer\";\r\nimport NewOrder from \"../Pages/User/NewOrder\";\r\nimport Reviwes from \"../Pages/User/Reviwes\";\r\nimport Support from \"../Pages/User/Support\";\r\nimport TarifLk from \"../Pages/User/TarifLk\";\r\nimport AutoPay from \"../Pages/User/AutoPay\";\r\nimport Messages from \"../Pages/User/Messages/Messages\";\r\nimport Dialog from \"../Pages/User/Messages/Dialog\";\r\nimport DialogOrder from \"../Pages/User/Messages/DialogOrder\";\r\nimport GeoDetect from \"../Pages/User/GeoDetect\";\r\nimport Page from \"../Pages/Page\";\r\nimport Questions from \"../Pages/Questions\";\r\nclass PublicComponents extends React.Component {\r\n  render() {\r\n    if (this.props.name === \"Profile\") return <Profile {...this.props} />;\r\n    if (this.props.name === \"MyArticles\") return <MyArticles {...this.props} />;\r\n    if (this.props.name === \"TakingArticles\")\r\n      return <TakingArticles {...this.props} />;\r\n    if (this.props.name === \"CreateTemplateAuto\")\r\n      return <CreateTemplateAuto {...this.props} />;\r\n    if (this.props.name === \"MyTemplateAuto\")\r\n      return <MyTemplateAuto {...this.props} />;\r\n    if (this.props.name === \"User\") return <User {...this.props} />;\r\n    if (this.props.name === \"ArticlePage\")\r\n      return <ArticlePage {...this.props} />;\r\n    if (this.props.name === \"Notifications\")\r\n      return <Notifications {...this.props} />;\r\n    if (this.props.name === \"NotificationsSettings\")\r\n      return <NotificationsSettings {...this.props} />;\r\n    if (this.props.name === \"NewOffer\") return <NewOffer {...this.props} />;\r\n    if (this.props.name === \"NewOrder\") return <NewOrder {...this.props} />;\r\n    if (this.props.name === \"Reviwes\") return <Reviwes {...this.props} />;\r\n    if (this.props.name === \"Support\") return <Support {...this.props} />;\r\n    if (this.props.name === \"TarifLk\") return <TarifLk {...this.props} />;\r\n    if (this.props.name === \"AutoPay\") return <AutoPay {...this.props} />;\r\n    if (this.props.name === \"Messages\") return <Messages {...this.props} />;\r\n    if (this.props.name === \"Dialog\") return <Dialog {...this.props} />;\r\n    if (this.props.name === \"DialogOrder\")\r\n      return <DialogOrder {...this.props} />;\r\n    if (this.props.name === \"GeoDetect\") return <GeoDetect {...this.props} />;\r\n    if (this.props.name === \"Page\") return <Page {...this.props} />;\r\n    if (this.props.name === \"Questions\") return <Questions {...this.props} />;\r\n  }\r\n}\r\nexport default PublicComponents;\r\n"],"sourceRoot":""}