(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[17],{912:function(e,t,a){"use strict";a.r(t);var l=a(6),s=a(7),n=a(9),i=a(8),r=a(0),o=a.n(r),c=a(82),p=function(e){Object(n.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row  align-items-center user-settings"},o.a.createElement("div",{className:"filed-label"},this.props.label),o.a.createElement("div",{className:"col fields-checkbox"},o.a.createElement("span",{className:"align-middle"},o.a.createElement(c.a,{id:"".concat(this.props.keyField,"-mail"),name:"".concat(this.props.keyField,"-mail"),text:"\u041d\u0430 \u043f\u043e\u0447\u0442\u0443",onChange:function(){e.props.onChange("mail",!e.props.valueMail)},value:this.props.valueMail||"",wrapperlabelClass:"ml-2",labelClass:"f-12 gray"})),o.a.createElement("span",{className:"align-middle"},o.a.createElement(c.a,{id:"".concat(this.props.keyField,"-push"),name:"".concat(this.props.keyField,"-push"),text:"Push-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",onChange:function(){e.props.onChange("push",!e.props.valuePush)},value:this.props.valuePush||"",wrapperlabelClass:"ml-2",labelClass:"f-12 gray"}))))}}]),a}(o.a.Component),m=a(18),d=a(59),u=a(85),y=a(37),g=a(26),k=a(17),h=a(32),F=[{label:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u044f\u0432\u043a\u0430",role:"carrier",keyField:"offer_new_request",type:"offer"},{label:"\u0412\u0430\u0448\u0443 \u0437\u0430\u044f\u0432\u043a\u0443 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b\u0438",role:"cargo",keyField:"offer_you_executor",type:"offer"},{label:"\u0421\u043c\u0435\u043d\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f",role:"all",keyField:"offer_status",type:"offer"},{label:"\u041d\u043e\u0432\u044b\u0439 \u043e\u0442\u0437\u044b\u0432",role:"all",keyField:"offer_new_review",type:"offer"},{label:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044e",role:"all",keyField:"offer_new_message",type:"offer"},{label:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u044f\u0432\u043a\u0430",role:"cargo",keyField:"order_new_request",type:"order"},{label:"\u0412\u0430\u0441 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u043c",role:"carrier",keyField:"order_you_executor",type:"order"},{label:"\u0421\u043c\u0435\u043d\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043a\u0430\u0437\u0430",role:"all",keyField:"order_status",type:"order"},{label:"\u041d\u043e\u0432\u044b\u0439 \u043e\u0442\u0437\u044b\u0432",role:"all",keyField:"order_new_review",type:"order"},{label:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443",role:"all",keyField:"order_new_message",type:"order"},{label:"\u041d\u043e\u0432\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",role:"all",keyField:"user_new_message",type:"common"},{label:"\u041c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432",role:"cargo",keyField:"order_moderation",type:"common"},{label:"\u041c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439",role:"carrier",keyField:"offer_moderation",type:"common"},{label:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",role:"all",keyField:"system",type:"common"},{label:"\u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u043e \u043e\u0441\u0442\u0430\u0442\u043a\u0435 \u0442\u0430\u0440\u0438\u0444\u0430",role:"carrier",keyField:"tarif_ends",type:"common2"},{label:"\u0417\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043e\u043f\u043b\u0430\u0442\u044b",role:"carrier",keyField:"tarif_payed",type:"common2"}],f=function(e){Object(n.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={settings:{},isFetching:!0,isFetchingSave:!1},e.saveSettings=function(){e.setState({isFetchingSave:!0},(function(){fetch("".concat(k.a.urlApi,"/api/user/save-settings"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.user.apiToken)},body:JSON.stringify({settings:e.state.settings})}).then((function(e){return e.json()})).then((function(t){t.settings;g.b.success("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b"),e.setState({isFetchingSave:!1})}))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(k.a.urlApi,"/api/user/getSettings"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.user.apiToken)}}).then((function(e){return e.json()})).then((function(t){var a=t.settings;e.setState({settings:a,isFetching:!1})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("h2",{className:"title"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u043a\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),o.a.createElement(d.a,{isLoading:this.state.isFetching}),o.a.createElement(u.a,{isLoading:this.state.isFetchingSave}),o.a.createElement(y.CSSTransitionGroup,{transitionName:"erase-animation-item",transitionEnterTimeout:500,transitionLeaveTimeout:1,style:{display:"contents"}},!this.state.isFetching&&o.a.createElement("div",{className:"settings-notification"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-12 col-md-6"},o.a.createElement("p",{className:"setting-title"},"\u041f\u043e \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c"),F.map((function(t,a){return"offer"!==t.type||e.props.user.type!==t.role&&"all"!==t.role?o.a.createElement(o.a.Fragment,null):o.a.createElement(p,{key:a,label:t.label,onChange:function(a,l){var s=e.state.settings;s[t.keyField]||(s[t.keyField]={}),s[t.keyField][a]=l,e.setState({settings:s})},valueMail:e.state.settings[t.keyField]&&e.state.settings[t.keyField].mail,valuePush:e.state.settings[t.keyField]&&e.state.settings[t.keyField].push,keyField:t.keyField})}))),o.a.createElement("div",{className:"col-12 col-sm-12 col-md-6"},o.a.createElement("p",{className:"setting-title"},"\u041f\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u043c"),F.map((function(t,a){return"order"!==t.type||e.props.user.type!==t.role&&"all"!==t.role?o.a.createElement(o.a.Fragment,null):o.a.createElement(p,{key:a,label:t.label,onChange:function(a,l){var s=e.state.settings;s[t.keyField]||(s[t.keyField]={}),s[t.keyField][a]=l,e.setState({settings:s})},valueMail:e.state.settings[t.keyField]&&e.state.settings[t.keyField].mail,valuePush:e.state.settings[t.keyField]&&e.state.settings[t.keyField].push,keyField:t.keyField})})))),o.a.createElement("div",{className:"row common-settings"},o.a.createElement("div",{className:"col-12 col-sm-12 col-md-6"},o.a.createElement("p",{className:"setting-title"},"\u041e\u0431\u0449\u0438\u0435"),F.map((function(t,a){return"common"!==t.type||e.props.user.type!==t.role&&"all"!==t.role?o.a.createElement(o.a.Fragment,null):o.a.createElement(p,{key:a,label:t.label,onChange:function(a,l){var s=e.state.settings;s[t.keyField]||(s[t.keyField]={}),s[t.keyField][a]=l,e.setState({settings:s})},valueMail:e.state.settings[t.keyField]&&e.state.settings[t.keyField].mail,valuePush:e.state.settings[t.keyField]&&e.state.settings[t.keyField].push,keyField:t.keyField})}))),o.a.createElement("div",{className:"col-12 col-sm-12 col-md-6"},o.a.createElement("p",{className:"setting-title"}),F.map((function(t,a){return"common2"!==t.type||e.props.user.type!==t.role&&"all"!==t.role?o.a.createElement(o.a.Fragment,null):o.a.createElement(p,{key:a,label:t.label,onChange:function(a,l){var s=e.state.settings;s[t.keyField]||(s[t.keyField]={}),s[t.keyField][a]=l,e.setState({settings:s})},valueMail:e.state.settings[t.keyField]&&e.state.settings[t.keyField].mail,valuePush:e.state.settings[t.keyField]&&e.state.settings[t.keyField].push,keyField:t.keyField})})))),o.a.createElement("div",{className:"text-right"},o.a.createElement(m.a,{onClick:this.saveSettings,type:"fill",className:"mb-4",paddingVertical:"8px",fontSize:"17px",paddingHorizontal:"35px"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u0441\u0435")))))}}]),a}(o.a.Component);t.default=Object(h.b)((function(e){return{user:e.user}}))(f)}}]);
//# sourceMappingURL=17.5a636379.chunk.js.map