(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[12],{905:function(e,t,a){"use strict";a.r(t);var s=a(6),n=a(7),i=a(9),r=a(8),o=a(0),l=a.n(o),c=a(32),p=a(11),u=a(892),d=a(93),m=a(53),h=a(151),g=a(882),f=a(39),b=a(302),E=(a(248),a(59)),v=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={isFetching:!0},e}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dialogs.dialogsUser;t.dialogs.find((function(t){return t.user._id===e.props.match.params.id}))?(this.props.dialogsActions.updateOnline(this.props.match.params.id,this.props.user.apiToken),t.dialogs.find((function(t){return t.user._id===e.props.match.params.id})).isGetted||this.props.dialogsActions.dialogLoad(this.props.match.params.id,this.props.user.apiToken),this.setState({isFetching:!1})):this.props.dialogsActions.dialogGet(this.props.match.params.id,this.props.user.apiToken).then((function(){e.setState({isFetching:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.dialogs.dialogsUser.dialogs.find((function(t){return t.user._id===e.props.match.params.id}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{isLoading:this.state.isFetching}),t&&!t.isNotFound&&l.a.createElement("div",{className:"article-page"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("h2",{className:"title"},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),l.a.createElement("div",{className:"chat-header mt-3"},l.a.createElement("div",{className:"mb-1"},l.a.createElement(p.Link,{className:"href hover left-angle f-14 angle-go",to:"/",style:{maxWidth:"50px",marginLeft:"20px"},onClick:function(t){t.preventDefault(),e.props.lastLocation?e.props.history.push(e.props.lastLocation.pathname):e.props.history.push("/messages")}},"\u041d\u0430\u0437\u0430\u0434"),l.a.createElement("span",{className:"d-inline-block f-18 text-left mr-3"},t.user.name.last," ",t.user.name.first," ",t.user.name.middle),l.a.createElement("span",{className:"online"},!t.user.online&&l.a.createElement(l.a.Fragment,null,Object(b.b)(t.user.onlineAt)),t.user.online&&l.a.createElement(l.a.Fragment,null,"online"))),l.a.createElement("hr",null))),l.a.createElement(u.a,{unRead:t.messages.filter((function(t){return!t.isRead&&t.user._id!==e.props.user._id})),loading:t&&!t.isGetted,dialog:t})),!this.state.isFetching&&(!t||t.isNotFound)&&l.a.createElement(d.a,null))}}]),a}(l.a.Component);t.default=Object(c.b)((function(e){return{user:e.user,dialogs:e.dialogs}}),(function(e){return{dialogsActions:Object(f.b)(g,e)}}))(Object(m.o)(Object(h.withLastLocation)(v)))}}]);
//# sourceMappingURL=12.1202631d.chunk.js.map